var N=Object.defineProperty;var E=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var w=(t,r,n)=>r in t?N(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,T=(t,r)=>{for(var n in r||(r={}))W.call(r,n)&&w(t,n,r[n]);if(E)for(var n of E(r))q.call(r,n)&&w(t,n,r[n]);return t};var C=(t,r,n)=>new Promise((s,u)=>{var e=i=>{try{m(n.next(i))}catch(p){u(p)}},o=i=>{try{m(n.throw(i))}catch(p){u(p)}},m=i=>i.done?s(i.value):Promise.resolve(i.value).then(e,o);m((n=n.apply(t,r)).next())});import{a0 as X,ez as K,eA as k,aX as Z,aV as $,aW as D,eB as H,eC as J,eD as x,eE as Q,a as Y,aZ as I,s as M,v as rr,f as tr,M as nr,a6 as ar,di as l,o as B,j as V,y as g,n as y,k as d,h as er,F as or,aA as ir,i as j,B as L,z as P,bs as sr,cA as ur,D as cr}from"./index.897eff97.js";import{C as pr}from"./index.dd419c83.js";import{T as S}from"./index.6360dd90.js";/* empty css               */import{B as mr}from"./BasicForm.c9112e09.js";import{u as fr}from"./useForm.68d81aa3.js";import{a as dr,b as lr}from"./inns.5c3d1ef4.js";import{b as A}from"./club.39955e46.js";import{b as gr}from"./_baseIteratee.13226526.js";import{a as yr}from"./index.332bc6f0.js";import"./index.23191174.js";import"./index.889c5747.js";import"./index.5c454517.js";import"./Col.aaf3a498.js";import"./useFlexGapSupport.d180d1f9.js";import"./useRefs.2622c820.js";import"./PlusOutlined.c225e82e.js";/* empty css              */import"./index.1a3584cc.js";import"./index.e6ab6a99.js";import"./Checkbox.b0115b6e.js";import"./index.f4c3ae7f.js";import"./index.dc85282d.js";import"./index.0aec3bad.js";import"./index.60f6a6f9.js";import"./index.65a3c605.js";import"./useFormItem.1fc06be9.js";import"./index.fa5b7037.js";import"./get.12f2540a.js";import"./index.17375207.js";import"./eagerComputed.feaabfb7.js";import"./DeleteOutlined.9c2908e4.js";import"./transButton.c4f208e8.js";import"./index.861cf7a1.js";import"./index.98fb7ffc.js";import"./useWindowSizeFn.1986bc84.js";import"./FullscreenOutlined.61308bd0.js";import"./index.db9478fd.js";import"./index.12a78234.js";import"./index.86d0d66d.js";import"./uuid.2b29000c.js";import"./download.a8bc32d2.js";import"./base64Conver.08b9f4ec.js";import"./index.4cbf34e1.js";import"./index.936f87ab.js";import"./Form.c7b93c30.js";import"./useSize.9a44880f.js";import"./uniqBy.d00325ce.js";function br(t,r){var n=-1,s=X(t)?Array(t.length):[];return yr(t,function(u,e,o){s[++n]=r(u,e,o)}),s}function Cr(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}function kr(t,r){if(t!==r){var n=t!==void 0,s=t===null,u=t===t,e=K(t),o=r!==void 0,m=r===null,i=r===r,p=K(r);if(!m&&!p&&!e&&t>r||e&&o&&i&&!m&&!p||s&&o&&i||!n&&i||!u)return 1;if(!s&&!e&&!p&&t<r||p&&n&&u&&!s&&!e||m&&n&&u||!o&&u||!i)return-1}return 0}function Br(t,r,n){for(var s=-1,u=t.criteria,e=r.criteria,o=u.length,m=n.length;++s<o;){var i=kr(u[s],e[s]);if(i){if(s>=m)return i;var p=n[s];return i*(p=="desc"?-1:1)}}return t.index-r.index}function Ar(t,r,n){r.length?r=k(r,function(e){return Z(e)?function(o){return $(o,e.length===1?e[0]:e)}:e}):r=[D];var s=-1;r=k(r,H(gr));var u=br(t,function(e,o,m){var i=k(r,function(p){return p(e)});return{criteria:i,index:++s,value:e}});return Cr(u,function(e,o){return Br(e,o,n)})}var _r=J(function(t,r){if(t==null)return[];var n=r.length;return n>1&&x(t,r[0],r[1])?r=[]:n>2&&x(r[0],r[1],r[2])&&(r=[r[0]]),Ar(t,Q(r,1),[])}),hr=_r;const Fr={class:"flex flex-col items-center justify-center py-8 bg-white"},vr={class:"flex justify-center"},At=Y({__name:"config",setup(t){var _,h;const r=S.TabPane,n=I(),{createMessage:s}=cr(),u=M([{id:-1,scope:A.CAT_VARIABLE,title:"\u57FA\u7840\u4FE1\u606F"},{id:-2,scope:A.CAT_PRINTER,title:"\u6253\u5370\u673A"}]),e=(h=(_=n.params)==null?void 0:_.id)!=null?h:"",o=rr({activeKey:M(A.CAT_VARIABLE)}),m=tr(()=>u.value.map((c,f)=>(f===0&&(o.activeKey=c.scope),{title:c.title,scope:c.scope}))),[i,{appendSchemaByField:p,resetSchema:z,validate:G,setFieldsValue:O,resetFields:R}]=fr({size:"default",baseColProps:{span:24},labelWidth:160,showActionButtonGroup:!1,schemas:[]});nr(()=>{ar([o],()=>C(this,null,function*(){z([]);let{innConfigs:c}=yield dr(e,o.activeKey),f={};c&&(c=hr(c,function(a){return a.sortId})),c==null||c.forEach(a=>{var F,v;const b={field:a.key,component:a.component,label:a.title,required:!0};switch(a.props instanceof Object&&l(b,"componentProps",T({},a.props)),a.component){case"Switch":l(f,a.key,((F=a.value)==null?void 0:F.toString())==="true");break;case"RadioGroup":case"InputNumber":l(f,a.key,parseInt((v=a.value)==null?void 0:v.toString()));break;default:l(f,a.key,a.value);break}p(b,"")}),O(f)}),{immediate:!0})});function U(){return C(this,null,function*(){try{const c=yield G(),f=Object.entries(c).map(a=>sr(a[1])?{key:a[0],value:a[1]?"true":"false"}:ur(a[1])?{key:a[0],value:a[1].toString()}:{key:a[0],value:a[1]});return lr(e,f).then(()=>{s.success("\u4FEE\u6539\u6210\u529F")})}catch(c){}})}return(c,f)=>(B(),V(d(pr),{title:"\u5546\u6237\u914D\u7F6E"},{default:g(()=>[y(d(S),{activeKey:o.activeKey,"onUpdate:activeKey":f[0]||(f[0]=a=>o.activeKey=a)},{default:g(()=>[(B(!0),er(or,null,ir(d(m),a=>(B(),V(d(r),{key:a.scope,tab:a.title},null,8,["tab"]))),128))]),_:1},8,["activeKey"]),j("div",Fr,[y(d(mr),{onRegister:d(i)},null,8,["onRegister"]),j("div",vr,[y(d(L),{onClick:d(R)},{default:g(()=>[P(" \u91CD\u7F6E ")]),_:1},8,["onClick"]),y(d(L),{class:"!ml-4",type:"primary",onClick:U},{default:g(()=>[P(" \u786E\u8BA4 ")]),_:1})])])]),_:1}))}});export{At as default};
