var ve=Object.defineProperty,Ae=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var q=(e,a,d)=>a in e?ve(e,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[a]=d,j=(e,a)=>{for(var d in a||(a={}))be.call(a,d)&&q(e,d,a[d]);if(X)for(var d of X(a))ye.call(a,d)&&q(e,d,a[d]);return e},$=(e,a)=>Ae(e,fe(a));var m=(e,a,d)=>new Promise((B,c)=>{var T=g=>{try{C(d.next(g))}catch(y){c(y)}},b=g=>{try{C(d.throw(g))}catch(y){c(y)}},C=g=>g.done?B(g.value):Promise.resolve(g.value).then(T,b);C((d=d.apply(e,a)).next())});import{av as Ce,a as ke,I as we,e2 as Pe,bG as Be,dd as Te,cG as De,bf as Se,aZ as Oe,s as U,eN as Ee,v as Ie,bX as Re,ba as Fe,M as Qe,bZ as We,eO as Me,f as Ue,eP as Ye,a6 as Je,eQ as Ve,be as Le,eR as Ge,ax as A,o as r,j as O,y as u,n as l,i as t,z as I,h as v,F as Y,aA as V,t as h,l as w,w as Ne,x as He,q as Q,eS as Ze,eT as ze,eU as Ke,eV as Xe,eW as qe,eX as je,eY as L,eZ as $e,e_ as xe,e$ as es,f0 as ss,f1 as ts}from"./index.6d9bb3fb.js";/* empty css               */import{L as os}from"./index.2e60cb23.js";import{I as as}from"./index.9fac26a9.js";import"./index.f5fff581.js";import{l as is}from"./category.7d725d65.js";import{l as G,g as ns}from"./product.76d56208.js";import{P as ds,u as ls,_ as rs,a as cs}from"./ProductCard.f7ac44c6.js";import{l as us,u as x,p as gs}from"./order.17b8385d.js";import{u as ms}from"./index.466e72dd.js";import{u as _s}from"./useHeaderSetting.d07dbab6.js";import ps from"./OrderOperate.6473bf30.js";import hs from"./Tag.f960f996.js";import vs from"./PaymentModal.d8cefe8f.js";import{R as As,a as fs}from"./index.a6b1d5e2.js";import{R as bs,C as ys}from"./index.edddeece.js";import"./Col.e4a1ee5d.js";import"./useFlexGapSupport.4090089e.js";import"./eagerComputed.9bf0b1d5.js";import"./Checkbox.573d65ae.js";import"./useWindowSizeFn.fcba542a.js";import"./FullscreenOutlined.c5d2b1bc.js";function ee(){const{clientHeight:e,clientWidth:a}=document.documentElement,d=navigator.userAgent.toLowerCase();let B=(d.match(/firefox|chrome|safari|opera/g)||"other")[0];(d.match(/msie|trident/g)||[])[0]&&(B="msie");let c="";"ontouchstart"in window||d.indexOf("touch")!==-1||d.indexOf("mobile")!==-1?d.indexOf("ipad")!==-1?c="pad":d.indexOf("mobile")!==-1?c="mobile":d.indexOf("android")!==-1?c="androidPad":c="pc":c="pc";let b="";switch(B){case"chrome":case"safari":case"mobile":b="webkit";break;case"msie":b="ms";break;case"firefox":b="Moz";break;case"opera":b="O";break;default:b="webkit";break}const C=d.indexOf("android")>0?"android":navigator.platform.toLowerCase();let g="full";a<768?g="xs":a<992?g="sm":a<1200?g="md":a<1920?g="xl":g="full";const y=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),D=(d.match(/[\s\S]+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],S=c==="pc",s=!S,E=g==="xs"||s,W=window.innerHeight+"px";return{height:e,width:a,version:D,type:B,plat:C,tag:c,prefix:b,isMobile:s,isIOS:y,isPC:S,isMini:E,screen:g,innerHeight:W}}var Cs="/yummy-backend/assets/Group 647@2x.decd18a6.png",ks="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAohJREFUWEfNlz1oFFEUhb+7ZBbLQH5QEAxooWihqIWQ0iKgIqQ14MjMBrso0ULQSsRCg0knO7s4ReqAEDGFnRaCkaRQTKGgICjJBiwDM5krb3Yn2fztTGSd5FbL7Hn3nHfvm3nnChlDbbsTy7oEXAROA4eB7sbyGqrfgXlU37G6+lJ8/0+W1JIG0uHho6jeB4aAjjR8/L/qCjCJyLh43udWa3YUoLZ9AMt6CNzKTLyZqS7kOWF4T3zf/N4S2wpo7HoaOJ5px+mgBaJoQKrVH5uhWwSo654FphE5mJ53FwjV38BlqVQ+Nq/aIEAd5wgi79tOnjAaEYVCv5TL35JHawIaPZ9rY9l3Ks8CQXAmORPrAlz3GSLmwOURT8Xz7hqiWICWSidRnUXkQB7sQEgUnZBq9WtdgOt6iLg5kSc0vnjeDYm/cB0dv3LcfSIgJAh6RB3nOoWCn/PuE7oh2aPyr7dBXfcDIuf2qALzoqXSUtOtlreOmhGgqaw9PTAyAr29qdAYUKvB2BgsL6fiswkYGIDBwdRkGwBTUzAzk7omWwu6umB0FLoT/5GSd3ERJiZgyXS3ZdTMWzCHiHE4+YfqrKnAC8DOnz12ThUj4Fpsn/YiROz6p9iyTLOy+b32CV0hCA4lt2H+bTDlr1RKdQGOc4xC4UuOVVghis5Ltfpp3ZCUSk+AO+2rcItMxq6Xy7cNYv9YsrVWiLz9r6Y0DC+I75spKo79ZcsTVWrbfVjW6zY6ZDOYXDEecPPJaD2aFYuPUb0J/KtZDYFxguDBrkazZpXqOKcQGUHEDKdZhRjiSaLo0Xa7bs6fOh03taWTYvEqUdTfGM/7EKlfj6o1RH7G4zm8IQheZR3P/wLiDvT5jPoBmQAAAABJRU5ErkJggg==",ws="/yummy-backend/assets/Group721.03403da7.png",Ps="data:image/png;base64,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";const Bs=ke({name:"ReceptionCentral",components:{Row:bs,Col:ys,List:os,InputTextArea:we.TextArea,Modal:Pe,Image:as,RadioGroup:As,RadioButton:fs,ScrollContainer:Be,OrderOperate:ps,ProductCard:ds,LeftOutlined:Te,DownOutlined:De,Tag:hs,PaymentModal:vs},props:{cartId:{type:Number,default:1}},setup(){const e=Se(),a=Oe(),[d,{openModal:B}]=ms(),c=parseInt(a.query.id)||0;c||e.push({path:"/reception/management"});const T=U(!1),b=U(!1),C=ls(),{getPreset:g}=Ee(),y=U(0),D=U(void 0),S=U(null),s=Ie({visible:!1,dintbl:{},discountRate:100,categoryItems:[],goodsItems:[],cart:{},cartProduct:[],goodsStack:[],order_id:0,order:{},diners:1,message:"",settleSummary:{},cartId:0,showOrder:!1}),E=()=>{C.$reset(),e.push({path:"/reception/management"})},{setTitle:W}=Re(),{setMenuSetting:M}=Fe(),{setHeaderSetting:N}=_s();Qe(()=>m(this,null,function*(){const{width:i}=ee();D.value=i,window.addEventListener("resize",()=>{const{width:_}=ee();D.value=_});const n=!1;M({show:n,hidden:!n}),N({show:n}),We(),c&&(s.dintbl=yield Me(c),W(s.dintbl.title+"\u684C")),s.dintbl,s.categoryItems=(yield is()).items,s.goodsItems=(yield G()).items.filter(_=>_.state),yield H()}));const R=Ue(()=>{var i,n;return(i=s.cart)==null||i.dish_up,s.order_id,((n=s.cart)==null?void 0:n.dish_up)||s.order_id>0}),F=()=>m(this,null,function*(){s.showOrder,R.value&&(s.showOrder=!s.showOrder)}),H=()=>m(this,null,function*(){if(s.dintbl.is_cleaned,!s.dintbl.is_cleaned){const n=yield us({dintbl_id:c,order_from:"reception"});s.order=n.items[0],s.order,s.order_id=s.order.order_id,s.cartProduct=s.order.ordergoods,s.cartProduct,s.settleSummary={reduce:s.order.reduction_money,vmoney:0,money:0,sub_money:s.order.goods_money,svc_fee:s.order.svc_fee,gts_fee:s.order.gts_fee,total_money:s.order.order_money};return}const i=yield Ye({dintbl_id:c,is_placed:!1});if(i.items&&i.items.length){const n=i.items;n.at(-1)&&P(n.at(-1))}}),J=()=>m(this,null,function*(){(yield G()).items.forEach(n=>{s.goodsStack[n.goods_id]=n})});J();const o=i=>{var n,_;return(_=(n=s.goodsStack[i])==null?void 0:n.img)==null?void 0:_.full_url};Je(()=>s.cartProduct,i=>m(this,null,function*(){if(C.changeCartList(i),s.order_id,!s.order_id&&s.cartId>0){const n=yield Ve(c);s.settleSummary=n}s.settleSummary}),{immediate:c>0});function P(i){return m(this,null,function*(){var _;s.cart=i,s.cartId=s.cart.id,s.order_id=(_=s.cart.order_id)!=null?_:0,(yield G({goods_ids:i.goods.map(p=>p.goods_id)})).items.forEach(p=>{s.goodsStack[p.goods_id]=p}),s.cartProduct=[...i.goods]})}const Z=(i,n)=>{if(n<=0){K({id:i});return}S.value&&clearTimeout(S.value),S.value=setTimeout(()=>{z(i,n)},300)};function z(i,n){return m(this,null,function*(){const _=yield Ze(i,{quantity:n});s.cartProduct=s.cartProduct.map(p=>(p.id==i&&(p.quantity=_.quantity,p.served_num=_.served_num),p))})}function K(n){return m(this,arguments,function*({id:i}){yield ze(i).then(()=>{s.cartProduct=s.cartProduct.filter(_=>_.id!=i)})})}function se(i){return m(this,null,function*(){y.value=i,s.goodsItems=(yield G({category_id:i})).items.filter(n=>n.state)})}const te=()=>m(this,null,function*(){if(s.cartId>0)return;const i=yield es({dintbl_id:c,diners:s.diners});s.cartId=i.id});function oe(_){return m(this,arguments,function*({goods_id:i,sku:n}){yield te();const p={goods_id:i,sku_id:n,quantity:1,served_num:0};yield Ke(s.cartId,p).then(k=>P(k)).then(()=>m(this,null,function*(){const k=yield ns(i);s.goodsStack[k.goods_id]=k}))})}const ae=()=>{s.cartProduct},ie=i=>m(this,null,function*(){s.diners=i,s.cartId>0&&(yield Xe(s.cartId,{diners:s.diners}))}),ne=()=>s.cartProduct.reduce((i,n)=>i+n.quantity,0),de=()=>{s.cart.dish_up||s.order_id>0||s.cartProduct&&s.cartProduct.length&&(s.visible=!0)},le=()=>m(this,null,function*(){const i=yield qe(s.cartId);P(i),s.visible=!1}),re=()=>{};function ce(){e.push({path:"/reception/management"})}const ue=()=>{var i,n;(i=s.order)==null||i.state,s.cart,(!s.order_id||!((n=s.order)!=null&&n.state))&&(b.value=!0)},ge=()=>m(this,null,function*(){b.value=!1;const i={message:s.message};s.visible=!1,s.order_id;let n=0,_=0;if(s.order_id){if(s.order_id&&s.discountRate<100){const p=yield x(s.order_id,{discount_rate:s.discountRate});n=p.edit_money,_=p.order_money}}else{let p;yield je(c,i).then(k=>(p=k,L.success("\u7ED3\u8D26\u6210\u529F"),x(k.id,{discount_rate:s.discountRate}))).then(k=>{n=k.edit_money,_=k.order_money,L.success("\u6253\u6298\u6210\u529F")}),s.cart.placed=!0,p.id&&(s.order_id=p.id)}B(!0,{order_id:s.order_id,edit_money:n,order_money:_})}),me=()=>m(this,null,function*(){s.dintbl.is_cleaned||(T.value=!0,T.value)}),_e=()=>m(this,null,function*(){s.order_id,s.cartId;var i;s.order_id?i=yield gs(s.order_id):s.cartId&&(i=yield $e(s.cartId)),L.success("\u6253\u5370\u6210\u529F")}),pe=()=>m(this,null,function*(){T.value=!1,(yield xe(c))===null&&L.success("\u6E05\u53F0\u6210\u529F"),C.$reset(),e.push({path:"/reception/management"})}),he=()=>{s.order.state=1,s.dintbl.is_cleaned=!1};return $(j({demoImg:Cs,prefixCls:"central"},Le(s)),{getPreset:g,registerPaymentModal:d,goPay:ge,getProductList:J,getProductImage:o,defaultImg:Ge,currentId:y,pageWidth:D,canShowOrder:R,clearTablevisible:T,closingVisible:b,handelChangeQuantity:z,ChangeQuantity:Z,handleDeleteProduct:K,handleCategoryClick:se,handleProdcutSelected:oe,managementOrder:ce,submitDishUp:le,goTablePage:E,handleMode:re,handleDishUpModal:de,changeTable:ae,changeDiners:ie,computedQuantity:ne,handleCleanDiningTable:pe,openClearTableModal:me,printReceipt:_e,openOrderDetails:F,openCheckoutModal:ue,handlePaymentSuccess:he})}}),f=e=>(ss("data-v-27ef3150"),e=e(),ts(),e),Ts={class:"operate"},Ds={class:"cart_list_box"},Ss={class:"godds_img_box"},Os={class:"godds_img"},Es={class:"goods_details"},Is={class:"goods_details_title"},Rs={key:0,class:"title"},Fs={class:"goods_tag"},Qs={class:"goods_price"},Ws={key:0,class:"operations"},Ms=["onClick"],Us=f(()=>t("img",{src:ks,alt:""},null,-1)),Ys=[Us],Js={class:"input_number"},Vs=["onClick"],Ls=f(()=>t("img",{src:rs,alt:""},null,-1)),Gs=[Ls],Ns={class:"num"},Hs=["onClick"],Zs=f(()=>t("img",{src:cs,alt:""},null,-1)),zs=[Zs],Ks={key:1,class:"order_null"},Xs=f(()=>t("img",{src:ws,alt:""},null,-1)),qs=f(()=>t("div",{class:"order_title"},"Welcome to order",-1)),js=[Xs,qs],$s={key:0,class:"desc"},xs={class:"submit_order"},et={class:"order_details_title"},st=f(()=>t("div",{style:{flex:"1"}},"\u5DF2\u4E0B\u5355\u83DC\u54C1",-1)),tt={class:"order_content"},ot={class:"order_details_desc"},at={class:"order_details_list"},it={class:"godds_img_box"},nt={class:"godds_img"},dt={class:"goods_details"},lt={class:"goods_details_title"},rt={key:0,class:"title"},ct={key:1,class:"goods_tag"},ut={class:"goods_price"},gt={class:"operations"},mt=f(()=>t("div",{class:"delete_icon"},null,-1)),_t={class:"input_number"},pt={class:"num"},ht={key:0,class:"order_details_total"},vt={class:"total_details"},At=f(()=>t("span",null,"\u5C0F \u8BA1(subTotal):",-1)),ft={class:"total_details"},bt={class:"total_details"},yt={class:"total_details"},Ct=f(()=>t("span",null,"\u603B \u8BA1(Total):",-1)),kt={class:"total_icon"},wt={class:"total_icon_img"},Pt={class:"icon_num"},Bt=f(()=>t("img",{src:Ps,alt:""},null,-1)),Tt={class:"total_text"},Dt={class:"category_style"},St={class:"category_item_img"},Ot={class:"item_img"},Et=["src"],It=f(()=>t("div",{class:"category_item_title"}," \u5168\u90E8",-1)),Rt=["onClick"],Ft={class:"category_item_img"},Qt={class:"item_img"},Wt=["src"],Mt={class:"category_item_title"},Ut={key:0,class:"goods_mask"},Yt={class:"modal_box"},Jt=f(()=>t("div",{class:"modal_title"},[t("div",{class:"tips"},"\u4E0B\u5355\u63D0\u793A"),t("p",null,"\u662F\u5426\u73B0\u5728\u4E0B\u5355")],-1)),Vt={class:"modal_btn"},Lt={class:"btn"},Gt={class:"confirm"},Nt={class:"modal_box"},Ht={class:"modal_title"},Zt=f(()=>t("div",{class:"tips"},"\u7ED3\u8D26\u63D0\u793A",-1)),zt=f(()=>t("p",null,"\u662F\u5426\u7ACB\u5373\u7ED3\u8D26",-1)),Kt={class:"modal_btn"},Xt={class:"btn"},qt={class:"confirm"},jt={class:"modal_box"},$t={class:"modal_title"},xt={class:"tips"},eo=f(()=>t("p",null,"\u662F\u5426\u73B0\u5728\u6E05\u53F0\uFF1F",-1)),so={class:"modal_btn"},to={class:"btn",style:{border:"1px solid #1cc097"}},oo={class:"confirm",style:{background:"#1cc097"}};function ao(e,a,d,B,c,T){const b=A("LeftOutlined"),C=A("OrderOperate"),g=A("Image"),y=A("Tag"),D=A("InputTextArea"),S=A("DownOutlined"),s=A("Col"),E=A("ScrollContainer"),W=A("ProductCard"),M=A("Row"),N=A("List"),R=A("Modal"),F=A("RadioButton"),H=A("RadioGroup"),J=A("PaymentModal");return r(),O(M,{type:"flex",class:Q(e.prefixCls)},{default:u(()=>[l(s,{span:e.pageWidth>1024?7:9,class:"cart_list"},{default:u(()=>[t("div",{class:"order_header",onClick:a[0]||(a[0]=(...o)=>e.goTablePage&&e.goTablePage(...o))},[l(b),I("\u8FD4\u56DE")]),t("div",Ts,[l(C,{tableNum:e.dintbl.title,isPlaced:e.order_id>0,canClean:!e.dintbl.is_cleaned,canChange:e.cartProduct.length>0,onChangeDiners:e.changeDiners,onChangeTable:e.changeTable,onClearTable:e.openClearTableModal,onPrintReceipt:e.printReceipt},null,8,["tableNum","isPlaced","canClean","canChange","onChangeDiners","onChangeTable","onClearTable","onPrintReceipt"])]),t("div",Ds,[e.cartProduct.length&&!e.canShowOrder?(r(!0),v(Y,{key:0},V(e.cartProduct,o=>(r(),v("div",{class:"cart_list_item",key:o.id},[t("div",Ss,[t("div",Os,[l(g,{preview:!1,src:e.getProductImage(o.goods_id),fallback:e.defaultImg},null,8,["src","fallback"])])]),t("div",Es,[t("div",Is,[(r(),v("div",Rs,h(e.goodsStack[o.goods_id].title),1)),t("div",Fs,[e.goodsStack[o.goods_id].is_hot?(r(),O(y,{key:0,text:"\u70ED\u95E8",color:"#ff0000"})):w("",!0),e.goodsStack[o.goods_id].is_new?(r(),O(y,{key:1,text:"\u65B0\u54C1",color:"#42CFBE"})):w("",!0)])]),t("div",Qs,"$"+h(e.goodsStack[o.goods_id].price),1)]),e.order_id?w("",!0):(r(),v("div",Ws,[t("div",{class:"delete_icon",onClick:P=>e.handleDeleteProduct(o)},Ys,8,Ms),t("div",Js,[t("span",{onClick:P=>e.ChangeQuantity(o.id,--o.quantity)},Gs,8,Vs),t("div",Ns,h(o.quantity),1),t("span",{onClick:P=>e.ChangeQuantity(o.id,++o.quantity)},zs,8,Hs)])]))]))),128)):(r(),v("div",Ks,js))]),e.cartProduct&&e.cartProduct.length?(r(),v("div",$s,[l(D,{style:{height:"46px"},value:e.message,"onUpdate:value":a[1]||(a[1]=o=>e.message=o),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",showCount:!1,rows:1},null,8,["value"])])):w("",!0),t("div",xs,[Ne(l(s,{span:24,class:"settleSummary"},{default:u(()=>[t("div",et,[st,t("div",{onClick:a[2]||(a[2]=(...o)=>e.openOrderDetails&&e.openOrderDetails(...o))},[l(S)])]),t("div",tt,[t("div",ot,[l(D,{style:{height:"46px"},value:e.message,"onUpdate:value":a[3]||(a[3]=o=>e.message=o),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",showCount:!1,rows:1},null,8,["value"])]),t("div",at,[(r(!0),v(Y,null,V(e.cartProduct,o=>(r(),v("div",{class:"cart_list_item",key:o.id},[t("div",it,[t("div",nt,[l(g,{preview:!1,src:e.getProductImage(o.goods_id),fallback:e.defaultImg},null,8,["src","fallback"])])]),t("div",dt,[t("div",lt,[e.goodsStack[o.goods_id].title?(r(),v("div",rt,h(e.goodsStack[o.goods_id].title),1)):w("",!0),e.goodsStack[o.goods_id].is_hot?(r(),v("div",ct,[e.goodsStack[o.goods_id].is_hot?(r(),O(y,{key:0,text:"\u70ED\u95E8",color:"#ff0000"})):w("",!0),e.goodsStack[o.goods_id].is_new?(r(),O(y,{key:1,text:"\u65B0\u54C1",color:"#42CFBE"})):w("",!0)])):w("",!0)]),t("div",ut,"$"+h(e.goodsStack[o.goods_id].price),1)]),t("div",gt,[mt,t("div",_t,[t("div",pt,"x"+h(o.quantity),1)])])]))),128))]),e.cartProduct.length>0?(r(),v("div",ht,[t("div",vt,[At,t("span",null,h(e.settleSummary.sub_money),1)]),t("div",ft,[t("span",null,"\u7A0E \u8D39(SVC)"+h((e.getPreset.svc_rate*100).toFixed(0))+"%:",1),t("span",null,h(e.settleSummary.svc_fee),1)]),t("div",bt,[t("span",null,"\u670D\u52A1\u8D39(GTS)"+h((e.getPreset.gts_rate*100).toFixed(0))+"%:",1),t("span",null,h(e.settleSummary.gts_fee),1)]),t("div",yt,[Ct,t("span",null,h(e.settleSummary.total_money),1)])])):w("",!0)])]),_:1},512),[[He,e.showOrder]]),t("div",{class:"total_price",onClick:a[4]||(a[4]=(...o)=>e.openOrderDetails&&e.openOrderDetails(...o))},[t("div",kt,[t("div",wt,[t("span",Pt,h(e.computedQuantity()),1),Bt])]),t("div",Tt,[t("span",null,h(e.settleSummary.total_money),1)])]),t("div",{class:Q(["submit_order_btn",{op_disable:e.order_id>0||e.cart.dish_up}]),onClick:a[5]||(a[5]=(...o)=>e.handleDishUpModal&&e.handleDishUpModal(...o))}," \u4E0B\u5355 ",2)]),t("div",{class:Q(["bill_please",{op_disable:e.order_id>0&&e.order.state>0}]),onClick:a[6]||(a[6]=(...o)=>e.openCheckoutModal&&e.openCheckoutModal(...o))}," \u7ED3\u8D26 ",2)]),_:1},8,["span"]),l(s,{span:3,style:{height:"calc(100vh - 32px)",overflow:"auto"}},{default:u(()=>[l(E,null,{default:u(()=>[l(s,{span:24},{default:u(()=>[l(E,null,{default:u(()=>[t("div",Dt,[t("div",{style:{"margin-top":"0"},class:Q(["category_item",{active_class:e.currentId==0}]),onClick:a[7]||(a[7]=o=>e.handleCategoryClick(0))},[t("div",St,[t("div",Ot,[t("img",{src:e.demoImg,alt:""},null,8,Et)])]),It],2),(r(!0),v(Y,null,V(e.categoryItems,(o,P)=>(r(),v("div",{class:Q(["category_item",{active_class:o.category_id==e.currentId}]),key:P,onClick:Z=>e.handleCategoryClick(o.category_id)},[t("div",Ft,[t("div",Qt,[t("img",{src:o.img.full_url,alt:""},null,8,Wt)])]),t("div",Mt,h(o.title),1)],10,Rt))),128))])]),_:1})]),_:1})]),_:1})]),_:1}),l(s,{span:e.pageWidth>1024?14:12,class:"goods_list"},{default:u(()=>[l(E,null,{default:u(()=>[t("div",{class:Q(`${e.prefixCls}__content`)},[e.order_id>0?(r(),v("div",Ut)):w("",!0),l(N,null,{default:u(()=>[e.goodsItems&&e.goodsItems.length?(r(),O(M,{key:0,gutter:16},{default:u(()=>[(r(!0),v(Y,null,V(e.goodsItems,o=>(r(),O(s,{key:o.goods_id,span:e.pageWidth>1024?8:12},{default:u(()=>[l(W,{goods:o,checkedProduct:e.cartProduct.find(P=>P.id==o.goods_id),onSelected:e.handleProdcutSelected,onChangeProduct:e.ChangeQuantity},null,8,["goods","checkedProduct","onSelected","onChangeProduct"])]),_:2},1032,["span"]))),128))]),_:1})):(r(),O(M,{key:1,gutter:16},{default:u(()=>[I(" \u8BE5\u5206\u7C7B\u4E0B\u6682\u65E0\u83DC\u54C1 ")]),_:1}))]),_:1})],2)]),_:1})]),_:1},8,["span"]),l(R,{visible:e.visible,"onUpdate:visible":a[10]||(a[10]=o=>e.visible=o),centered:"",width:"600",closable:!1,footer:null,onOk:e.handleMode},{default:u(()=>[t("div",Yt,[Jt,t("div",Vt,[t("div",Lt,[t("div",{class:"btn_text",onClick:a[8]||(a[8]=o=>e.visible=!1)}," \u6211\u518D\u770B\u770B ")]),t("div",Gt,[t("div",{class:"btn_text",onClick:a[9]||(a[9]=(...o)=>e.submitDishUp&&e.submitDishUp(...o))}," \u7ACB\u5373\u4E0B\u5355 ")])])])]),_:1},8,["visible","onOk"]),l(R,{visible:e.closingVisible,"onUpdate:visible":a[14]||(a[14]=o=>e.closingVisible=o),centered:"",width:"600",closable:!1,footer:null,onOk:e.handleMode},{default:u(()=>[t("div",Nt,[t("div",Ht,[Zt,zt,l(H,{value:e.discountRate,"onUpdate:value":a[11]||(a[11]=o=>e.discountRate=o),"button-style":"solid",size:"large"},{default:u(()=>[l(F,{value:75},{default:u(()=>[I("7.5\u6298")]),_:1}),l(F,{value:85},{default:u(()=>[I("8.5\u6298")]),_:1}),l(F,{value:90},{default:u(()=>[I("9.\u6298")]),_:1}),l(F,{value:100},{default:u(()=>[I("\u65E0\u6298\u6263")]),_:1})]),_:1},8,["value"]),e.order_id>0&&e.order.edit_money!=0?(r(),v(Y,{key:0},[I(" \u5DF2\u4F18\u60E0\u91D1\u989D\uFF1A"+h(e.order.edit_money),1)],64)):w("",!0)]),t("div",Kt,[t("div",Xt,[t("div",{class:"btn_text",onClick:a[12]||(a[12]=o=>e.closingVisible=!1)}," \u6211\u518D\u770B\u770B ")]),t("div",qt,[t("div",{class:"btn_text",onClick:a[13]||(a[13]=(...o)=>e.goPay&&e.goPay(...o))}," \u7ACB\u5373\u7ED3\u8D26 ")])])])]),_:1},8,["visible","onOk"]),l(R,{visible:e.clearTablevisible,"onUpdate:visible":a[17]||(a[17]=o=>e.clearTablevisible=o),centered:"",width:"600",closable:!1,footer:null,onOk:e.handleMode},{default:u(()=>[t("div",jt,[t("div",$t,[t("div",xt,h(e.dintbl.title),1),eo]),t("div",so,[t("div",to,[t("div",{class:"btn_text",style:{color:"#1cc097"},onClick:a[15]||(a[15]=o=>e.clearTablevisible=!1)}," \u6211\u518D\u770B\u770B ")]),t("div",oo,[t("div",{class:"btn_text",style:{color:"#fff"},onClick:a[16]||(a[16]=(...o)=>e.handleCleanDiningTable&&e.handleCleanDiningTable(...o))}," \u7ACB\u5373\u6E05\u53F0 ")])])])]),_:1},8,["visible","onOk"]),l(J,{onRegister:e.registerPaymentModal,onSuccess:e.handlePaymentSuccess},null,8,["onRegister","onSuccess"])]),_:1},8,["class"])}var So=Ce(Bs,[["render",ao],["__scopeId","data-v-27ef3150"]]);export{So as default};
