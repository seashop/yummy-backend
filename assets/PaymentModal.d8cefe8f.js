var $=Object.defineProperty;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var B=(e,o,a)=>o in e?$(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,M=(e,o)=>{for(var a in o||(o={}))E.call(o,a)&&B(e,a,o[a]);if(v)for(var a of v(o))T.call(o,a)&&B(e,a,o[a]);return e};var m=(e,o,a)=>new Promise((t,l)=>{var i=s=>{try{n(a.next(s))}catch(r){l(r)}},d=s=>{try{n(a.throw(s))}catch(r){l(r)}},n=s=>s.done?t(s.value):Promise.resolve(s.value).then(i,d);n((a=a.apply(e,o)).next())});import{B as I,b as N}from"./index.466e72dd.js";import{a as w,e5 as R,c as L,v as O,be as V,av as A,bT as h,ax as C,o as u,j as b,y as k,i as F,h as _,t as p,l as P,z as D,F as G,aA as S,ay as j,D as q}from"./index.6d9bb3fb.js";import{e as z}from"./order.17b8385d.js";import"./useWindowSizeFn.fcba542a.js";import"./FullscreenOutlined.c5d2b1bc.js";const Q=[{label:"PayPal",value:"paypal"},{label:"GrabPay",value:"grabpay"},{label:"SG QR",value:"sgqr"},{label:"Cash",value:"cash"}],H=w({name:"PaymentModal",components:{BasicModal:I,BasicButton:R},emits:["success","register"],setup(e,{emit:o}){const{t:a}=L(),t=O({order_id:0,edit_money:0,order_money:0}),[l,{setModalProps:i,closeModal:d}]=N(c=>m(this,null,function*(){i({confirmLoading:!1});const{order_id:y,edit_money:f,order_money:g}=c;t.order_id=y,t.edit_money=f,t.order_money=g})),{createConfirm:n,createMessage:s}=q();return M({getTitle:"\u652F\u4ED8\u4FE1\u606F",registerModal:l,payments:Q,handleClick:c=>{n({iconType:"warning",title:()=>h("span",a("sys.app.logoutTip")),content:()=>h("span","\u8BF7\u786E\u8BA4\u5DF2\u4ED8\u6B3E"),onOk:()=>m(this,null,function*(){yield z(t.order_id,{payment_type:c}).then(()=>{s.success("\u64CD\u4F5C\u6210\u529F"),d(),o("success")}).finally(()=>{i({confirmLoading:!1})})})})}},V(t))}}),J={key:0,class:"discountInfo"},K={key:1,class:"discountInfo"};function U(e,o,a,t,l,i){const d=C("BasicButton"),n=C("BasicModal");return u(),b(n,j(e.$attrs,{onRegister:e.registerModal,footer:null,title:e.getTitle,width:"500px"}),{default:k(()=>[F("div",null,[Number(e.order_money)!==0?(u(),_("div",J," Discount Money: "+p(e.edit_money),1)):P("",!0),Number(e.order_money)!==0?(u(),_("div",K,[D(" Order Money: "),F("span",null,p(e.order_money),1)])):P("",!0),(u(!0),_(G,null,S(e.payments,(s,r)=>(u(),b(d,{key:r,onClick:c=>e.handleClick(s.value)},{default:k(()=>[D(p(s.label),1)]),_:2},1032,["onClick"]))),128))])]),_:1},16,["onRegister","title"])}var ae=A(H,[["render",U],["__scopeId","data-v-7e16d12c"]]);export{ae as default};
