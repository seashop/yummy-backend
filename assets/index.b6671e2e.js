var jC=Object.defineProperty,CC=Object.defineProperties;var RC=Object.getOwnPropertyDescriptors;var Am=Object.getOwnPropertySymbols;var IC=Object.prototype.hasOwnProperty,BC=Object.prototype.propertyIsEnumerable;var Tm=(g,v,u)=>v in g?jC(g,v,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[v]=u,nd=(g,v)=>{for(var u in v||(v={}))IC.call(v,u)&&Tm(g,u,v[u]);if(Am)for(var u of Am(v))BC.call(v,u)&&Tm(g,u,v[u]);return g},Mm=(g,v)=>CC(g,RC(v));var Us=(g,v,u)=>new Promise((c,i)=>{var s=b=>{try{y(u.next(b))}catch(S){i(S)}},f=b=>{try{y(u.throw(b))}catch(S){i(S)}},y=b=>b.done?c(b.value):Promise.resolve(b.value).then(s,f);y((u=u.apply(g,v)).next())});import{a3 as _C,J as LC,a as tb,b8 as zC,bm as FC,s as ks,K as GC,k as lr,ak as od,c1 as HC,av as fd,ax as kn,o as Hn,h as Di,F as wm,aA as UC,n as Bi,y as Ws,z as kC,t as XC,q as Xs,l as id,ay as $C,j as cd,fA as YC,b as WC,bM as KC,f as VC,a6 as Nm,M as ZC,i as JC,aE as QC}from"./index.05f21f62.js";import{D as qC}from"./index.12871986.js";import{B as eR,u as tR}from"./index.519bbcb9.js";import{J as rR}from"./index.65dbe3ed.js";import{P as nR}from"./index.eed95980.js";import"./useWindowSizeFn.440a5bdc.js";import"./FullscreenOutlined.b131f636.js";import"./index.368e30ed.js";import"./index.d1c5d9bc.js";import"./useSize.b22e5468.js";import"./eagerComputed.9ec758bd.js";import"./onMountedOrActivated.b7769380.js";import"./useContentViewHeight.054eb2bc.js";import"./ArrowLeftOutlined.f2895767.js";import"./index.44f008ce.js";import"./transButton.88461f3e.js";const rb=Symbol("flow-chart");function oR(g){_C(rb,g)}function iR(){return LC(rb)}var Vt=(g=>(g.ZOOM_IN="zoomIn",g.ZOOM_OUT="zoomOut",g.RESET_ZOOM="resetZoom",g.UNDO="undo",g.REDO="redo",g.SNAPSHOT="snapshot",g.VIEW_DATA="viewData",g))(Vt||{});const aR=tb({name:"FlowChartToolbar",components:{Icon:zC,Divider:qC,Tooltip:FC},props:{prefixCls:String},emits:["view-data"],setup(g,{emit:v}){const u=ks([{type:Vt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Vt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Vt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Vt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Vt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Vt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Vt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:c}=iR();function i({data:{undoAble:f,redoAble:y}}){const b=lr(u),S=b.findIndex(P=>P.type===Vt.UNDO),E=b.findIndex(P=>P.type===Vt.REDO);S!==-1&&(lr(u)[S].disabled=!f),E!==-1&&(lr(u)[E].disabled=!y)}const s=f=>{const y=lr(c);if(!!y)switch(f.type){case Vt.ZOOM_IN:y.zoom();break;case Vt.ZOOM_OUT:y.zoom(!0);break;case Vt.RESET_ZOOM:y.resetZoom();break;case Vt.UNDO:y.undo();break;case Vt.REDO:y.redo();break;case Vt.SNAPSHOT:y.getSnapshot();break;case Vt.VIEW_DATA:v("view-data");break}};return GC(()=>Us(this,null,function*(){var f;lr(c)&&(yield od(),(f=lr(c))==null||f.on("history:change",i))})),HC(()=>{var f;(f=lr(c))==null||f.off("history:change",i)}),{toolbarItemList:u,onControl:s}}}),uR=["onClick"];function sR(g,v,u,c,i,s){const f=kn("Icon"),y=kn("Tooltip"),b=kn("Divider");return Hn(),Di("div",{class:Xs([`${g.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Hn(!0),Di(wm,null,UC(g.toolbarItemList,S=>(Hn(),Di(wm,{key:S.type},[Bi(y,$C({placement:"bottom"},S.disabled?{visible:!1}:{}),{title:Ws(()=>[kC(XC(S.tooltip),1)]),default:Ws(()=>[S.icon?(Hn(),Di("span",{key:0,class:Xs(`${g.prefixCls}-toolbar__icon`),onClick:E=>g.onControl(S)},[Bi(f,{icon:S.icon,class:Xs(S.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,uR)):id("",!0)]),_:2},1040),S.separate?(Hn(),cd(b,{key:0,type:"vertical"})):id("",!0)],64))),128))],2)}var lR=fd(aR,[["render",sR]]),We={exports:{}};(function(g,v){(function(c,i){g.exports=i()})(window,function(){return function(u){var c={};function i(s){if(c[s])return c[s].exports;var f=c[s]={i:s,l:!1,exports:{}};return u[s].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=u,i.c=c,i.d=function(s,f,y){i.o(s,f)||Object.defineProperty(s,f,{enumerable:!0,get:y})},i.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,f){if(f&1&&(s=i(s)),f&8||f&4&&typeof s=="object"&&s&&s.__esModule)return s;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:s}),f&2&&typeof s!="string")for(var b in s)i.d(y,b,function(S){return s[S]}.bind(null,b));return y},i.n=function(s){var f=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(f,"a",f),f},i.o=function(s,f){return Object.prototype.hasOwnProperty.call(s,f)},i.p="",i(i.s=215)}([function(u,c,i){(function(s,f){i.d(c,"a",function(){return R}),i.d(c,"b",function(){return ni}),i.d(c,"c",function(){return ln}),i.d(c,"d",function(){return fr}),i.d(c,"e",function(){return Xe}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return zi}),i.d(c,"h",function(){return Jn}),i.d(c,"i",function(){return ot}),i.d(c,"j",function(){return Pr}),i.d(c,"k",function(){return $r}),i.d(c,"l",function(){return jr}),i.d(c,"m",function(){return Sr}),i.d(c,"n",function(){return gl}),i.d(c,"o",function(){return ce}),i.d(c,"p",function(){return Sl}),i.d(c,"q",function(){return ri}),i.d(c,"r",function(){return bl}),i.d(c,"s",function(){return wr}),i.d(c,"t",function(){return Zi}),i.d(c,"u",function(){return pl}),i.d(c,"v",function(){return Ol}),i.d(c,"w",function(){return El}),i.d(c,"x",function(){return xn}),i.d(c,"y",function(){return Rr}),i.d(c,"z",function(){return kt}),i.d(c,"A",function(){return gr}),i.d(c,"B",function(){return Sn}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return Pl}),i.d(c,"E",function(){return ti}),i.d(c,"F",function(){return vl}),i.d(c,"G",function(){return dl}),i.d(c,"H",function(){return $i}),i.d(c,"I",function(){return Ml}),i.d(c,"J",function(){return Ar}),i.d(c,"K",function(){return te}),i.d(c,"L",function(){return xl}),i.d(c,"M",function(){return An});var y="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var S={};Object.freeze(S);function E(){return++He.mobxGuid}function P(d){throw M(!1,d),"X"}function M(d,h){if(!d)throw new Error("[mobx] "+(h||y))}function A(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var D=function(){};function C(d){var h=[];return d.forEach(function(O){h.indexOf(O)===-1&&h.push(O)}),h}function B(d){return d!==null&&typeof d=="object"}function z(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function X(d){if(J(d)||kt(d))return d;if(Array.isArray(d))return new Map(d);if(z(d)){var h=new Map;for(var O in d)h.set(O,d[O]);return h}else return P("Cannot convert to map from '"+d+"'")}function $(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:O})}function ie(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:O})}function oe(d,h){var O=Object.getOwnPropertyDescriptor(d,h);return!O||O.configurable!==!1&&O.writable!==!1}function ee(d,h){var O="isMobX"+d;return h.prototype[O]=!0,function(N){return B(N)&&N[O]===!0}}function J(d){return d instanceof Map}function ue(d){return d instanceof Set}function L(d){var h=new Set;for(var O in d)h.add(O);return Object.getOwnPropertySymbols(d).forEach(function(N){Object.getOwnPropertyDescriptor(d,N).enumerable&&h.add(N)}),Array.from(h)}function U(d){return d&&d.toString?d.toString():new String(d).toString()}function I(d){return d===null?null:typeof d=="object"?""+d:d}var w=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,R=Symbol("mobx administration"),W=function(){function d(h){h===void 0&&(h="Atom@"+E()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=qe.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return Ui(this)},d.prototype.reportChanged=function(){At(),ol(this),vr()},d.prototype.toString=function(){return this.name},d}(),Q=ee("Atom",W);function ce(d,h,O){h===void 0&&(h=D),O===void 0&&(O=D);var N=new W(d);return h!==D&&yl(N,h),O!==D&&ti(N,O),N}function Te(d,h){return d===h}function me(d,h){return Oo(d,h)}function Oe(d,h){return Oo(d,h,1)}function Pe(d,h){return Object.is(d,h)}var Ee={identity:Te,structural:me,default:Pe,shallow:Oe};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ne=function(d,h){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,N){O.__proto__=N}||function(O,N){for(var F in N)N.hasOwnProperty(F)&&(O[F]=N[F])},Ne(d,h)};function Le(d,h){Ne(d,h);function O(){this.constructor=d}d.prototype=h===null?Object.create(h):(O.prototype=h.prototype,new O)}var Ve=function(){return Ve=Object.assign||function(h){for(var O,N=1,F=arguments.length;N<F;N++){O=arguments[N];for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(h[K]=O[K])}return h},Ve.apply(this,arguments)};function Be(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],O=0;return h?h.call(d):{next:function(){return d&&O>=d.length&&(d=void 0),{value:d&&d[O++],done:!d}}}}function Se(d,h){var O=typeof Symbol=="function"&&d[Symbol.iterator];if(!O)return d;var N=O.call(d),F,K=[],fe;try{for(;(h===void 0||h-- >0)&&!(F=N.next()).done;)K.push(F.value)}catch(Ae){fe={error:Ae}}finally{try{F&&!F.done&&(O=N.return)&&O.call(N)}finally{if(fe)throw fe.error}}return K}function Ie(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Se(arguments[h]));return d}var ke=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),Y={},q={};function he(d,h){var O=h?Y:q;return O[d]||(O[d]={configurable:!0,enumerable:h,get:function(){return xe(this),this[d]},set:function(N){xe(this),this[d]=N}})}function xe(d){var h,O;if(d[ke]!==!0){var N=d[k];if(N){$(d,ke,!0);var F=Ie(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var K=Be(F),fe=K.next();!fe.done;fe=K.next()){var Ae=fe.value,Ue=N[Ae];Ue.propertyCreator(d,Ue.prop,Ue.descriptor,Ue.decoratorTarget,Ue.decoratorArguments)}}catch(ft){h={error:ft}}finally{try{fe&&!fe.done&&(O=K.return)&&O.call(K)}finally{if(h)throw h.error}}}}}function pe(d,h){return function(){var N,F=function(fe,Ae,Ue,ft){if(ft===!0)return h(fe,Ae,Ue,fe,N),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var ct=fe[k];$(fe,k,Ve({},ct))}return fe[k][Ae]={prop:Ae,propertyCreator:h,descriptor:Ue,decoratorTarget:fe,decoratorArguments:N},he(Ae,d)};return ze(arguments)?(N=b,F.apply(null,arguments)):(N=Array.prototype.slice.call(arguments),F)}}function ze(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function tt(d,h,O){return xn(d)?d:Array.isArray(d)?mt.array(d,{name:O}):z(d)?mt.object(d,void 0,{name:O}):J(d)?mt.map(d,{name:O}):ue(d)?mt.set(d,{name:O}):d}function Ye(d,h,O){return d==null||gr(d)||Rr(d)||kt(d)||cr(d)?d:Array.isArray(d)?mt.array(d,{name:O,deep:!1}):z(d)?mt.object(d,void 0,{name:O,deep:!1}):J(d)?mt.map(d,{name:O,deep:!1}):ue(d)?mt.set(d,{name:O,deep:!1}):P(!1)}function nt(d){return d}function ve(d,h,O){return Oo(d,h)?h:d}function ut(d){M(d);var h=pe(!0,function(N,F,K,fe,Ae){var Ue=K?K.initializer?K.initializer.call(N):K.value:void 0;oi(N).addObservableProp(F,Ue,d)}),O=(typeof s!="undefined"&&s.env,h);return O.enhancer=d,O}var rt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rt);function _e(d){return d==null?rt:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var Qe=ut(tt),wt=ut(Ye),dt=ut(nt),bt=ut(ve);function ne(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?nt:tt}function Ct(d,h,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Qe.apply(null,arguments);if(xn(d))return d;var N=z(d)?mt.object(d,h,O):Array.isArray(d)?mt.array(d,h):J(d)?mt.map(d,h):ue(d)?mt.set(d,h):d;if(N!==d)return N;P(!1)}var St={box:function(d,h){arguments.length>2&&Yt("box");var O=_e(h);return new sn(d,ne(O),O.name,!0,O.equals)},array:function(d,h){arguments.length>2&&Yt("array");var O=_e(h);return Rl(d,ne(O),O.name)},map:function(d,h){arguments.length>2&&Yt("map");var O=_e(h);return new ni(d,ne(O),O.name)},set:function(d,h){arguments.length>2&&Yt("set");var O=_e(h);return new aa(d,ne(O),O.name)},object:function(d,h,O){typeof arguments[1]=="string"&&Yt("object");var N=_e(O);if(N.proxy===!1)return ri({},d,h,N);var F=Ki(N),K=ri({},void 0,void 0,N),fe=Mn(K);return Vi(fe,d,h,F),fe},ref:dt,shallow:wt,deep:Qe,struct:bt},mt=Ct;Object.keys(St).forEach(function(d){return mt[d]=St[d]});function Yt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var hr=pe(!1,function(d,h,O,N,F){var K=O.get,fe=O.set,Ae=F[0]||{};oi(d).addComputedProp(d,h,Ve({get:K,set:fe,context:d},Ae))}),Zt=hr({equals:Ee.structural}),Sr=function(h,O,N){if(typeof O=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return hr.apply(null,arguments);var F=typeof O=="object"?O:{};return F.get=h,F.set=typeof O=="function"?O:F.set,F.name=F.name||h.name||"",new mn(F)};Sr.struct=Zt;var qe;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(qe||(qe={}));var Pt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Pt||(Pt={}));var nr=function(){function d(h){this.cause=h}return d}();function je(d){return d instanceof nr}function $e(d){switch(d.dependenciesState){case qe.UP_TO_DATE:return!1;case qe.NOT_TRACKING:case qe.STALE:return!0;case qe.POSSIBLY_STALE:{for(var h=De(!0),O=re(),N=d.observing,F=N.length,K=0;K<F;K++){var fe=N[K];if(bn(fe)){if(He.disableErrorBoundaries)fe.get();else try{fe.get()}catch(Ae){return Me(O),Xe(h),!0}if(d.dependenciesState===qe.STALE)return Me(O),Xe(h),!0}}return vt(d),Me(O),Xe(h),!1}}}function ot(){return He.trackingDerivation!==null}function Je(d){var h=d.observers.size>0;He.computationDepth>0&&h&&P(!1),!He.allowStateChanges&&(h||He.enforceActions==="strict")&&P(!1)}function lt(d,h,O){var N=De(!0);vt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++He.runId;var F=He.trackingDerivation;He.trackingDerivation=d;var K;if(He.disableErrorBoundaries===!0)K=h.call(O);else try{K=h.call(O)}catch(fe){K=new nr(fe)}return He.trackingDerivation=F,G(d),Xe(N),K}function G(d){for(var h=d.observing,O=d.observing=d.newObserving,N=qe.UP_TO_DATE,F=0,K=d.unboundDepsCount,fe=0;fe<K;fe++){var Ae=O[fe];Ae.diffValue===0&&(Ae.diffValue=1,F!==fe&&(O[F]=Ae),F++),Ae.dependenciesState>N&&(N=Ae.dependenciesState)}for(O.length=F,d.newObserving=null,K=h.length;K--;){var Ae=h[K];Ae.diffValue===0&&Xr(Ae,d),Ae.diffValue=0}for(;F--;){var Ae=O[F];Ae.diffValue===1&&(Ae.diffValue=0,nl(Ae,d))}N!==qe.UP_TO_DATE&&(d.dependenciesState=N,d.onBecomeStale())}function V(d){var h=d.observing;d.observing=[];for(var O=h.length;O--;)Xr(h[O],d);d.dependenciesState=qe.NOT_TRACKING}function te(d){var h=re();try{return d()}finally{Me(h)}}function re(){var d=He.trackingDerivation;return He.trackingDerivation=null,d}function Me(d){He.trackingDerivation=d}function De(d){var h=He.allowStateReads;return He.allowStateReads=d,h}function Xe(d){He.allowStateReads=d}function vt(d){if(d.dependenciesState!==qe.UP_TO_DATE){d.dependenciesState=qe.UP_TO_DATE;for(var h=d.observing,O=h.length;O--;)h[O].lowestObserverState=qe.UP_TO_DATE}}var Jt=0,Qt=1,Xn=Object.getOwnPropertyDescriptor(function(){},"name");Xn&&Xn.configurable;function kr(d,h,O){var N=function(){return Li(d,h,O||this,arguments)};return N.isMobxAction=!0,N}function Li(d,h,O,N){var F=Pr();try{return h.apply(O,N)}catch(K){throw F.error=K,K}finally{zi(F)}}function Pr(d,h,O){var N=Rt(),F=0,K=re();At();var fe=gn(!0),Ae=De(!0),Ue={prevDerivation:K,prevAllowStateChanges:fe,prevAllowStateReads:Ae,notifySpy:N,startTime:F,actionId:Qt++,parentActionId:Jt};return Jt=Ue.actionId,Ue}function zi(d){Jt!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),Jt=d.parentActionId,d.error!==void 0&&(He.suppressReactionErrors=!0),$n(d.prevAllowStateChanges),Xe(d.prevAllowStateReads),vr(),Me(d.prevDerivation),d.notifySpy,He.suppressReactionErrors=!1}function fr(d,h){var O=gn(d),N;try{N=h()}finally{$n(O)}return N}function gn(d){var h=He.allowStateChanges;return He.allowStateChanges=d,h}function $n(d){He.allowStateChanges=d}var sn=function(d){Le(h,d);function h(O,N,F,K,fe){F===void 0&&(F="ObservableValue@"+E()),K===void 0&&(K=!0),fe===void 0&&(fe=Ee.default);var Ae=d.call(this,F)||this;return Ae.enhancer=N,Ae.name=F,Ae.equals=fe,Ae.hasUnreportedChange=!1,Ae.value=N(O,void 0,F),K&&Rt(),Ae}return h.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},h.prototype.set=function(O){var N=this.value;if(O=this.prepareNewValue(O),O!==He.UNCHANGED){var F=Rt();this.setNewValue(O)}},h.prototype.prepareNewValue=function(O){if(Je(this),Tr(this)){var N=Mr(this,{object:this,type:"update",newValue:O});if(!N)return He.UNCHANGED;O=N.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?He.UNCHANGED:O},h.prototype.setNewValue=function(O){var N=this.value;this.value=O,this.reportChanged(),yr(this)&&qt(this,{type:"update",object:this,newValue:O,oldValue:N})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(O){return Vn(this,O)},h.prototype.observe=function(O,N){return N&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Zn(this,O)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return I(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(W),Yn=ee("ObservableValue",sn),mn=function(){function d(h){this.dependenciesState=qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new nr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,M(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+E(),h.set&&(this.setter=kr(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Ee.structural:Ee.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){al(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),He.inBatch===0&&this.observers.size===0&&!this.keepAlive?$e(this)&&(this.warnAboutUntrackedRead(),At(),this.value=this.computeValue(!1),vr()):(Ui(this),$e(this)&&this.trackAndCompute()&&il(this));var h=this.value;if(je(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(je(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){M(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else M(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,O=this.dependenciesState===qe.NOT_TRACKING,N=this.computeValue(!0),F=O||je(h)||je(N)||!this.equals(h,N);return F&&(this.value=N),F},d.prototype.computeValue=function(h){this.isComputing=!0,He.computationDepth++;var O;if(h)O=lt(this,this.derivation,this.scope);else if(He.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(N){O=new nr(N)}return He.computationDepth--,this.isComputing=!1,O},d.prototype.suspend=function(){this.keepAlive||(V(this),this.value=void 0)},d.prototype.observe=function(h,O){var N=this,F=!0,K=void 0;return jr(function(){var fe=N.get();if(!F||O){var Ae=re();h({type:"update",object:N,newValue:fe,oldValue:K}),Me(Ae)}F=!1,K=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return I(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),bn=ee("ComputedValue",mn),co=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),rl={};function po(){return typeof window!="undefined"?window:typeof f!="undefined"?f:typeof self!="undefined"?self:rl}var ho=!0,Fi=!1,He=function(){var d=po();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(ho=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new co().version&&(ho=!1),ho?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new co):(setTimeout(function(){Fi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new co)}();function Gi(){(He.pendingReactions.length||He.inBatch||He.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Fi=!0,ho&&(--po().__mobxInstanceCount===0&&(po().__mobxGlobals=void 0),He=new co)}function nl(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function Xr(d,h){d.observers.delete(h),d.observers.size===0&&Hi(d)}function Hi(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,He.pendingUnobservations.push(d))}function At(){He.inBatch++}function vr(){if(--He.inBatch===0){Xi();for(var d=He.pendingUnobservations,h=0;h<d.length;h++){var O=d[h];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof mn&&O.suspend())}He.pendingUnobservations=[]}}function Ui(d){var h=He.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&He.inBatch>0&&Hi(d),!1)}function ol(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.isTracing!==Pt.NONE&&vo(h,d),h.onBecomeStale()),h.dependenciesState=qe.STALE}))}function il(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.POSSIBLY_STALE?h.dependenciesState=qe.STALE:h.dependenciesState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.UP_TO_DATE)}))}function al(d){d.lowestObserverState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.dependenciesState=qe.POSSIBLY_STALE,h.isTracing!==Pt.NONE&&vo(h,d),h.onBecomeStale())}))}function vo(d,h){if(""+d.name+h.name,d.isTracing===Pt.BREAK){var O=[];ki(Zi(d),O,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof mn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function ki(d,h,O){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(O).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(N){return ki(N,h,O+1)})}var ln=function(){function d(h,O,N,F){h===void 0&&(h="Reaction@"+E()),F===void 0&&(F=!1),this.name=h,this.onInvalidate=O,this.errorHandler=N,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,He.pendingReactions.push(this),Xi())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(At(),this._isScheduled=!1,$e(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Rt()}catch(h){this.reportExceptionInDerivation(h)}}vr()}},d.prototype.track=function(h){if(!this.isDisposed){At(),this._isRunning=!0;var O=lt(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&V(this),je(O)&&this.reportExceptionInDerivation(O.cause),vr()}},d.prototype.reportExceptionInDerivation=function(h){var O=this;if(this.errorHandler){this.errorHandler(h,this);return}if(He.disableErrorBoundaries)throw h;var N="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";He.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(N,h),He.globalReactionErrorHandlers.forEach(function(F){return F(h,O)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(At(),V(this),vr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[R]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),wl(this,h)},d}(),Qo=100,qo=function(d){return d()};function Xi(){He.inBatch>0||He.isRunningReactions||qo(ul)}function ul(){He.isRunningReactions=!0;for(var d=He.pendingReactions,h=0;d.length>0;){++h===Qo&&(console.error("Reaction doesn't converge to a stable state after "+Qo+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var O=d.splice(0),N=0,F=O.length;N<F;N++)O[N].runReaction()}He.isRunningReactions=!1}var yo=ee("Reaction",ln);function sl(d){var h=qo;qo=function(O){return d(function(){return h(O)})}}function Rt(){return!1}function yd(d){}function gd(d){}function md(d){}function $i(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function ll(){P(!1)}function Yi(d){return function(h,O,N){if(N){if(N.value)return{value:kr(d,N.value),enumerable:!1,configurable:!0,writable:!0};var F=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return kr(d,F.call(this))}}}return fl(d).apply(this,arguments)}}function fl(d){return function(h,O,N){Object.defineProperty(h,O,{configurable:!0,enumerable:!1,get:function(){},set:function(F){$(this,O,$r(d,F))}})}}function cl(d,h,O,N){return N===!0?(ei(d,h,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return ei(this,h,O.value||O.initializer.call(this)),this[h]},set:ll}:{enumerable:!1,configurable:!0,set:function(F){ei(this,h,F)},get:function(){}}}var $r=function(h,O,N,F){if(arguments.length===1&&typeof h=="function")return kr(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof O=="function")return kr(h,O);if(arguments.length===1&&typeof h=="string")return Yi(h);if(F===!0)$(h,O,kr(h.name||O,N.value,this));else return Yi(O).apply(null,arguments)};$r.bound=cl;function dl(d,h){var O=typeof d=="string"?d:d.name||"<unnamed action>",N=typeof d=="function"?d:h;return Li(O,N,this,void 0)}function pl(d){return typeof d=="function"&&d.isMobxAction===!0}function ei(d,h,O){$(d,h,kr(h,O.bind(d)))}function jr(d,h){h===void 0&&(h=S);var O=h&&h.name||d.name||"Autorun@"+E(),N=!h.scheduler&&!h.delay,F;if(N)F=new ln(O,function(){this.track(Ae)},h.onError,h.requiresObservable);else{var K=On(h),fe=!1;F=new ln(O,function(){fe||(fe=!0,K(function(){fe=!1,F.isDisposed||F.track(Ae)}))},h.onError,h.requiresObservable)}function Ae(){d(F)}return F.schedule(),F.getDisposer()}var hl=function(d){return d()};function On(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:hl}function vl(d,h,O){O===void 0&&(O=S);var N=O.name||"Reaction@"+E(),F=$r(N,O.onError?Wn(O.onError,h):h),K=!O.scheduler&&!O.delay,fe=On(O),Ae=!0,Ue=!1,ft,ct=O.compareStructural?Ee.structural:O.equals||Ee.default,Ot=new ln(N,function(){Ae||K?xt():Ue||(Ue=!0,fe(xt))},O.onError,O.requiresObservable);function xt(){if(Ue=!1,!Ot.isDisposed){var Bt=!1;Ot.track(function(){var Xt=d(Ot);Bt=Ae||!ct(ft,Xt),ft=Xt}),Ae&&O.fireImmediately&&F(ft,Ot),!Ae&&Bt===!0&&F(ft,Ot),Ae&&(Ae=!1)}}return Ot.schedule(),Ot.getDisposer()}function Wn(d,h){return function(){try{return h.apply(this,arguments)}catch(O){d.call(this,O)}}}function yl(d,h,O){return Wi("onBecomeObserved",d,h,O)}function ti(d,h,O){return Wi("onBecomeUnobserved",d,h,O)}function Wi(d,h,O,N){var F=typeof N=="function"?wr(h,O):wr(h),K=typeof N=="function"?N:O,fe=d+"Listeners";F[fe]?F[fe].add(K):F[fe]=new Set([K]);var Ae=F[d];return typeof Ae!="function"?P(!1):function(){var Ue=F[fe];Ue&&(Ue.delete(K),Ue.size===0&&delete F[fe])}}function gl(d){var h=d.enforceActions,O=d.computedRequiresReaction,N=d.computedConfigurable,F=d.disableErrorBoundaries,K=d.reactionScheduler,fe=d.reactionRequiresObservable,Ae=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Gi(),h!==void 0){var Ue=void 0;switch(h){case!0:case"observed":Ue=!0;break;case!1:case"never":Ue=!1;break;case"strict":case"always":Ue="strict";break;default:P("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}He.enforceActions=Ue,He.allowStateChanges=!(Ue===!0||Ue==="strict")}O!==void 0&&(He.computedRequiresReaction=!!O),fe!==void 0&&(He.reactionRequiresObservable=!!fe),Ae!==void 0&&(He.observableRequiresReaction=!!Ae,He.allowStateReads=!He.observableRequiresReaction),N!==void 0&&(He.computedConfigurable=!!N),F!==void 0&&(F===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),He.disableErrorBoundaries=!!F),K&&sl(K)}function ri(d,h,O,N){N=_e(N);var F=Ki(N);return xe(d),oi(d,N.name,F.enhancer),h&&Vi(d,h,O,F),d}function Ki(d){return d.defaultDecorator||(d.deep===!1?dt:Qe)}function Vi(d,h,O,N){var F,K,fe,Ae;At();try{var Ae=w(h);try{for(var Ue=Be(Ae),ft=Ue.next();!ft.done;ft=Ue.next()){var fe=ft.value,ct=Object.getOwnPropertyDescriptor(h,fe),Ot=O&&fe in O?O[fe]:ct.get?hr:N,xt=Ot(d,fe,ct,!0);xt&&Object.defineProperty(d,fe,xt)}}catch(Xt){F={error:Xt}}finally{try{ft&&!ft.done&&(K=Ue.return)&&K.call(Ue)}finally{if(F)throw F.error}}}finally{vr()}}function Zi(d,h){return Ji(wr(d,h))}function Ji(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=C(d.observing).map(Ji)),h}var ml=0;function Qi(){this.message="FLOW_CANCELLED"}Qi.prototype=Object.create(Error.prototype);function bl(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var O=this,N=arguments,F=++ml,K=$r(h+" - runid: "+F+" - init",d).apply(O,N),fe,Ae=void 0,Ue=new Promise(function(ft,ct){var Ot=0;fe=ct;function xt(Tt){Ae=void 0;var mr;try{mr=$r(h+" - runid: "+F+" - yield "+Ot++,K.next).call(K,Tt)}catch(wn){return ct(wn)}Xt(mr)}function Bt(Tt){Ae=void 0;var mr;try{mr=$r(h+" - runid: "+F+" - yield "+Ot++,K.throw).call(K,Tt)}catch(wn){return ct(wn)}Xt(mr)}function Xt(Tt){if(Tt&&typeof Tt.then=="function"){Tt.then(Xt,ct);return}return Tt.done?ft(Tt.value):(Ae=Promise.resolve(Tt.value),Ae.then(xt,Bt))}xt(void 0)});return Ue.cancel=$r(h+" - runid: "+F+" - cancel",function(){try{Ae&&qi(Ae);var ft=K.return(void 0),ct=Promise.resolve(ft.value);ct.then(D,D),qi(ct),fe(new Qi)}catch(Ot){fe(Ot)}}),Ue}}function qi(d){typeof d.cancel=="function"&&d.cancel()}function ea(d,h){if(d==null)return!1;if(h!==void 0){if(gr(d)===!1||!d[R].values.has(h))return!1;var O=wr(d,h);return bn(O)}return bn(d)}function Ol(d){return arguments.length>1?P(!1):ea(d)}function El(d,h){return typeof h!="string"?P(!1):ea(d,h)}function En(d,h){return d==null?!1:h!==void 0?gr(d)?d[R].values.has(h):!1:gr(d)||!!d[R]||Q(d)||yo(d)||bn(d)}function xn(d){return arguments.length!==1&&P(!1),En(d)}function Sn(d){return gr(d)?d[R].getKeys():kt(d)||cr(d)?Array.from(d.keys()):Rr(d)?d.map(function(h,O){return O}):P(!1)}function xl(d){return gr(d)?Sn(d).map(function(h){return d[h]}):kt(d)?Sn(d).map(function(h){return d.get(h)}):cr(d)?Array.from(d.values()):Rr(d)?d.slice():P(!1)}function Sl(d){return gr(d)?Sn(d).map(function(h){return[h,d[h]]}):kt(d)?Sn(d).map(function(h){return[h,d.get(h)]}):cr(d)?Array.from(d.entries()):Rr(d)?d.map(function(h,O){return[O,h]}):P(!1)}function ta(d,h,O){if(arguments.length===2&&!cr(d)){At();var N=h;try{for(var F in N)ta(d,F,N[F])}finally{vr()}return}if(gr(d)){var K=d[R],fe=K.values.get(h);fe?K.write(h,O):K.addObservableProp(h,O,K.defaultEnhancer)}else if(kt(d))d.set(h,O);else if(cr(d))d.add(h);else if(Rr(d))typeof h!="number"&&(h=parseInt(h,10)),M(h>=0,"Not a valid index: '"+h+"'"),At(),h>=d.length&&(d.length=h+1),d[h]=O,vr();else return P(!1)}function Pl(d,h,O,N){return typeof O=="function"?Al(d,h,O,N):go(d,h,O)}function go(d,h,O){return Jn(d).observe(h,O)}function Al(d,h,O,N){return Jn(d,h).observe(O,N)}var Tl={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Pn(d,h,O,N){return N.detectCycles&&d.set(h,O),O}function Yr(d,h,O){if(!h.recurseEverything&&!xn(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Yn(d))return Yr(d.get(),h,O);xn(d)&&Sn(d);var N=h.detectCycles===!0;if(N&&d!==null&&O.has(d))return O.get(d);if(Rr(d)||Array.isArray(d)){var F=Pn(O,d,[],h),K=d.map(function(Bt){return Yr(Bt,h,O)});F.length=K.length;for(var fe=0,Ae=K.length;fe<Ae;fe++)F[fe]=K[fe];return F}if(cr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var Ue=Pn(O,d,new Set,h);return d.forEach(function(Bt){Ue.add(Yr(Bt,h,O))}),Ue}else{var ft=Pn(O,d,[],h);return d.forEach(function(Bt){ft.push(Yr(Bt,h,O))}),ft}if(kt(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var ct=Pn(O,d,new Map,h);return d.forEach(function(Bt,Xt){ct.set(Xt,Yr(Bt,h,O))}),ct}else{var Ot=Pn(O,d,{},h);return d.forEach(function(Bt,Xt){Ot[Xt]=Yr(Bt,h,O)}),Ot}var xt=Pn(O,d,{},h);return L(d).forEach(function(Bt){xt[Bt]=Yr(d[Bt],h,O)}),xt}function Ml(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=Tl),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var O;return h.detectCycles&&(O=new Map),Yr(d,h,O)}function wl(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=!1;typeof d[d.length-1]=="boolean"&&(O=d.pop());var N=Nl(d);if(!N)return P(!1);N.isTracing===Pt.NONE&&""+N.name,N.isTracing=O?Pt.BREAK:Pt.LOG}function Nl(d){switch(d.length){case 0:return He.trackingDerivation;case 1:return wr(d[0]);case 2:return wr(d[0],d[1])}}function Ar(d,h){h===void 0&&(h=void 0),At();try{return d.apply(h)}finally{vr()}}function An(d,h,O){return arguments.length===1||h&&typeof h=="object"?Dl(d,h):Kn(d,h,O||{})}function Kn(d,h,O){var N;typeof O.timeout=="number"&&(N=setTimeout(function(){if(!K[R].isDisposed){K();var fe=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(fe);else throw fe}},O.timeout)),O.name=O.name||"When@"+E();var F=kr(O.name+"-effect",h),K=jr(function(fe){d()&&(fe.dispose(),N&&clearTimeout(N),F())},O);return K}function Dl(d,h){var O,N=new Promise(function(F,K){var fe=Kn(d,F,Ve(Ve({},h),{onError:K}));O=function(){fe(),K("WHEN_CANCELLED")}});return N.cancel=O,N}function mo(d){return d[R]}function bo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var Tn={has:function(d,h){if(h===R||h==="constructor"||h===ke)return!0;var O=mo(d);return bo(h)?O.has(h):h in d},get:function(d,h){if(h===R||h==="constructor"||h===ke)return d[h];var O=mo(d),N=O.values.get(h);if(N instanceof W){var F=N.get();return F===void 0&&O.has(h),F}return bo(h)&&O.has(h),d[h]},set:function(d,h,O){return bo(h)?(ta(d,h,O),!0):!1},deleteProperty:function(d,h){if(!bo(h))return!1;var O=mo(d);return O.remove(h),!0},ownKeys:function(d){var h=mo(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function Mn(d){var h=new Proxy(d,Tn);return d[R].proxy=h,h}function Tr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Vn(d,h){var O=d.interceptors||(d.interceptors=[]);return O.push(h),A(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function Mr(d,h){var O=re();try{for(var N=Ie(d.interceptors||[]),F=0,K=N.length;F<K&&(h=N[F](h),M(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);F++);return h}finally{Me(O)}}function yr(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Zn(d,h){var O=d.changeListeners||(d.changeListeners=[]);return O.push(h),A(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function qt(d,h){var O=re(),N=d.changeListeners;if(!!N){N=N.slice();for(var F=0,K=N.length;F<K;F++)N[F](h);Me(O)}}var jl=1e4,Cl={get:function(d,h){return h===R?d[R]:h==="length"?d[R].getArrayLength():typeof h=="number"?Cr.get.call(d,h):typeof h=="string"&&!isNaN(h)?Cr.get.call(d,parseInt(h)):Cr.hasOwnProperty(h)?Cr[h]:d[h]},set:function(d,h,O){return h==="length"&&d[R].setArrayLength(O),typeof h=="number"&&Cr.set.call(d,h,O),typeof h=="symbol"||isNaN(h)?d[h]=O:Cr.set.call(d,parseInt(h),O),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function Rl(d,h,O,N){O===void 0&&(O="ObservableArray@"+E()),N===void 0&&(N=!1);var F=new ra(O,h,N);ie(F.values,R,F);var K=new Proxy(F.values,Cl);if(F.proxy=K,d&&d.length){var fe=gn(!0);F.spliceWithArray(0,0,d),$n(fe)}return K}var ra=function(){function d(h,O,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(h||"ObservableArray@"+E()),this.enhancer=function(F,K){return O(F,K,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Vn(this,h)},d.prototype.observe=function(h,O){return O===void 0&&(O=!1),O&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Zn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var O=this.values.length;if(h!==O)if(h>O){for(var N=new Array(h-O),F=0;F<h-O;F++)N[F]=void 0;this.spliceWithArray(O,0,N)}else this.spliceWithArray(h,O-h)},d.prototype.updateArrayLength=function(h,O){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},d.prototype.spliceWithArray=function(h,O,N){var F=this;Je(this.atom);var K=this.values.length;if(h===void 0?h=0:h>K?h=K:h<0&&(h=Math.max(0,K+h)),arguments.length===1?O=K-h:O==null?O=0:O=Math.max(0,Math.min(O,K-h)),N===void 0&&(N=b),Tr(this)){var fe=Mr(this,{object:this.proxy,type:"splice",index:h,removedCount:O,added:N});if(!fe)return b;O=fe.removedCount,N=fe.added}N=N.length===0?N:N.map(function(Ue){return F.enhancer(Ue,void 0)});var Ae=this.spliceItemsIntoValues(h,O,N);return(O!==0||N.length!==0)&&this.notifyArraySplice(h,N,Ae),this.dehanceValues(Ae)},d.prototype.spliceItemsIntoValues=function(h,O,N){var F;if(N.length<jl)return(F=this.values).splice.apply(F,Ie([h,O],N));var K=this.values.slice(h,h+O);return this.values=this.values.slice(0,h).concat(N,this.values.slice(h+O)),K},d.prototype.notifyArrayChildUpdate=function(h,O,N){var F=!this.owned&&Rt(),K=yr(this),fe=K||F?{object:this.proxy,type:"update",index:h,newValue:O,oldValue:N}:null;this.atom.reportChanged(),K&&qt(this,fe)},d.prototype.notifyArraySplice=function(h,O,N){var F=!this.owned&&Rt(),K=yr(this),fe=K||F?{object:this.proxy,type:"splice",index:h,removed:N,added:O,removedCount:N.length,addedCount:O.length}:null;this.atom.reportChanged(),K&&qt(this,fe)},d}(),Cr={intercept:function(d){return this[R].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var O=this[R];return O.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[R];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var O=[],N=2;N<arguments.length;N++)O[N-2]=arguments[N];var F=this[R];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(d);case 2:return F.spliceWithArray(d,h)}return F.spliceWithArray(d,h,O)},spliceWithArray:function(d,h,O){var N=this[R];return N.spliceWithArray(d,h,O)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(O.values.length,0,d),O.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(0,0,d),O.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[R],O=h.dehanceValues(h.values).indexOf(d);return O>-1?(this.splice(O,1),!0):!1},get:function(d){var h=this[R];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var O=this[R],N=O.values;if(d<N.length){Je(O.atom);var F=N[d];if(Tr(O)){var K=Mr(O,{type:"update",object:O.proxy,index:d,newValue:h});if(!K)return;h=K.newValue}h=O.enhancer(h,F);var fe=h!==F;fe&&(N[d]=h,O.notifyArrayChildUpdate(d,h,F))}else if(d===N.length)O.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+N.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Cr[d]=function(){var h=this[R];h.atom.reportObserved();var O=h.dehanceValues(h.values);return O[d].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Cr[d]=function(h,O){var N=this,F=this[R];F.atom.reportObserved();var K=F.dehanceValues(F.values);return K[d](function(fe,Ae){return h.call(O,fe,Ae,N)},O)})}),["reduce","reduceRight"].forEach(function(d){Cr[d]=function(){var h=this,O=this[R];O.atom.reportObserved();var N=arguments[0];return arguments[0]=function(F,K,fe){return K=O.dehanceValue(K),N(F,K,fe,h)},O.values[d].apply(O.values,arguments)}});var Il=ee("ObservableArrayAdministration",ra);function Rr(d){return B(d)&&Il(d[R])}var na,oa={},ni=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableMap@"+E()),this.enhancer=O,this.name=N,this[na]=oa,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var O=this;if(!He.trackingDerivation)return this._has(h);var N=this._hasMap.get(h);if(!N){var F=N=new sn(this._has(h),nt,this.name+"."+U(h)+"?",!1);this._hasMap.set(h,F),ti(F,function(){return O._hasMap.delete(h)})}return N.get()},d.prototype.set=function(h,O){var N=this._has(h);if(Tr(this)){var F=Mr(this,{type:N?"update":"add",object:this,newValue:O,name:h});if(!F)return this;O=F.newValue}return N?this._updateValue(h,O):this._addValue(h,O),this},d.prototype.delete=function(h){var O=this;if(Je(this._keysAtom),Tr(this)){var N=Mr(this,{type:"delete",object:this,name:h});if(!N)return!1}if(this._has(h)){var F=Rt(),K=yr(this),N=K||F?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Ar(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(h,!1);var Ae=O._data.get(h);Ae.setNewValue(void 0),O._data.delete(h)}),K&&qt(this,N),!0}return!1},d.prototype._updateHasMapEntry=function(h,O){var N=this._hasMap.get(h);N&&N.setNewValue(O)},d.prototype._updateValue=function(h,O){var N=this._data.get(h);if(O=N.prepareNewValue(O),O!==He.UNCHANGED){var F=Rt(),K=yr(this),fe=K||F?{type:"update",object:this,oldValue:N.value,name:h,newValue:O}:null;N.setNewValue(O),K&&qt(this,fe)}},d.prototype._addValue=function(h,O){var N=this;Je(this._keysAtom),Ar(function(){var Ae=new sn(O,N.enhancer,N.name+"."+U(h),!1);N._data.set(h,Ae),O=Ae.value,N._updateHasMapEntry(h,!0),N._keysAtom.reportChanged()});var F=Rt(),K=yr(this),fe=K||F?{type:"add",object:this,name:h,newValue:O}:null;K&&qt(this,fe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,O=this.keys();return Eo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:h.get(K)}}})},d.prototype.entries=function(){var h=this,O=this.keys();return Eo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:[K,h.get(K)]}}})},d.prototype[na=R,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,O){var N,F;try{for(var K=Be(this),fe=K.next();!fe.done;fe=K.next()){var Ae=Se(fe.value,2),Ue=Ae[0],ft=Ae[1];h.call(O,ft,Ue,this)}}catch(ct){N={error:ct}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},d.prototype.merge=function(h){var O=this;return kt(h)&&(h=h.toJS()),Ar(function(){var N=gn(!0);try{z(h)?L(h).forEach(function(F){return O.set(F,h[F])}):Array.isArray(h)?h.forEach(function(F){var K=Se(F,2),fe=K[0],Ae=K[1];return O.set(fe,Ae)}):J(h)?(h.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(F,K){return O.set(K,F)})):h!=null&&P("Cannot initialize map from "+h)}finally{$n(N)}}),this},d.prototype.clear=function(){var h=this;Ar(function(){te(function(){var O,N;try{for(var F=Be(h.keys()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Ae){O={error:Ae}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.replace=function(h){var O=this;return Ar(function(){var N,F,K,fe,Ae=X(h),Ue=new Map,ft=!1;try{for(var ct=Be(O._data.keys()),Ot=ct.next();!Ot.done;Ot=ct.next()){var xt=Ot.value;if(!Ae.has(xt)){var Bt=O.delete(xt);if(Bt)ft=!0;else{var Xt=O._data.get(xt);Ue.set(xt,Xt)}}}}catch(fn){N={error:fn}}finally{try{Ot&&!Ot.done&&(F=ct.return)&&F.call(ct)}finally{if(N)throw N.error}}try{for(var Tt=Be(Ae.entries()),mr=Tt.next();!mr.done;mr=Tt.next()){var wn=Se(mr.value,2),xt=wn[0],Xt=wn[1],ha=O._data.has(xt);if(O.set(xt,Xt),O._data.has(xt)){var va=O._data.get(xt);Ue.set(xt,va),ha||(ft=!0)}}}catch(fn){K={error:fn}}finally{try{mr&&!mr.done&&(fe=Tt.return)&&fe.call(Tt)}finally{if(K)throw K.error}}if(!ft)if(O._data.size!==Ue.size)O._keysAtom.reportChanged();else for(var ya=O._data.keys(),ga=Ue.keys(),ai=ya.next(),Nn=ga.next();!ai.done;){if(ai.value!==Nn.value){O._keysAtom.reportChanged();break}ai=ya.next(),Nn=ga.next()}O._data=Ue}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,O,N={};try{for(var F=Be(this),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Ae=fe[0],Ue=fe[1];N[typeof Ae=="symbol"?Ae:U(Ae)]=Ue}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return U(O)+": "+(""+h.get(O))}).join(", ")+" }]"},d.prototype.observe=function(h,O){return Zn(this,h)},d.prototype.intercept=function(h){return Vn(this,h)},d}(),kt=ee("ObservableMap",ni),ia,Bl={},aa=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableSet@"+E()),this.name=N,this[ia]=Bl,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,K){return O(F,K,N)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Ar(function(){te(function(){var O,N;try{for(var F=Be(h._data.values()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Ae){O={error:Ae}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.forEach=function(h,O){var N,F;try{for(var K=Be(this),fe=K.next();!fe.done;fe=K.next()){var Ae=fe.value;h.call(O,Ae,Ae,this)}}catch(Ue){N={error:Ue}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var O=this;if(Je(this._atom),Tr(this)){var N=Mr(this,{type:"add",object:this,newValue:h});if(!N)return this}if(!this.has(h)){Ar(function(){O._data.add(O.enhancer(h,void 0)),O._atom.reportChanged()});var F=Rt(),K=yr(this),N=K||F?{type:"add",object:this,newValue:h}:null;K&&qt(this,N)}return this},d.prototype.delete=function(h){var O=this;if(Tr(this)){var N=Mr(this,{type:"delete",object:this,oldValue:h});if(!N)return!1}if(this.has(h)){var F=Rt(),K=yr(this),N=K||F?{type:"delete",object:this,oldValue:h}:null;return Ar(function(){O._atom.reportChanged(),O._data.delete(h)}),K&&qt(this,N),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,O=Array.from(this.keys()),N=Array.from(this.values());return Eo({next:function(){var F=h;return h+=1,F<N.length?{value:[O[F],N[F]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,O=0,N=Array.from(this._data.values());return Eo({next:function(){return O<N.length?{value:h.dehanceValue(N[O++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var O=this;return cr(h)&&(h=h.toJS()),Ar(function(){var N=gn(!0);try{Array.isArray(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):ue(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):h!=null&&P("Cannot initialize set from "+h)}finally{$n(N)}}),this},d.prototype.observe=function(h,O){return Zn(this,h)},d.prototype.intercept=function(h){return Vn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[ia=R,Symbol.iterator]=function(){return this.values()},d}(),cr=ee("ObservableSet",aa),ua=function(){function d(h,O,N,F){O===void 0&&(O=new Map),this.target=h,this.values=O,this.name=N,this.defaultEnhancer=F,this.keysAtom=new W(N+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,O){var N=this.target,F=this.values.get(h);if(F instanceof mn){F.set(O);return}if(Tr(this)){var K=Mr(this,{type:"update",object:this.proxy||N,name:h,newValue:O});if(!K)return;O=K.newValue}if(O=F.prepareNewValue(O),O!==He.UNCHANGED){var fe=yr(this),Ae=Rt(),K=fe||Ae?{type:"update",object:this.proxy||N,oldValue:F.value,name:h,newValue:O}:null;F.setNewValue(O),fe&&qt(this,K)}},d.prototype.has=function(h){var O=this.pendingKeys||(this.pendingKeys=new Map),N=O.get(h);if(N)return N.get();var F=!!this.values.get(h);return N=new sn(F,nt,this.name+"."+U(h)+"?",!1),O.set(h,N),N.get()},d.prototype.addObservableProp=function(h,O,N){N===void 0&&(N=this.defaultEnhancer);var F=this.target;if(Tr(this)){var K=Mr(this,{object:this.proxy||F,name:h,type:"add",newValue:O});if(!K)return;O=K.newValue}var fe=new sn(O,N,this.name+"."+U(h),!1);this.values.set(h,fe),O=fe.value,Object.defineProperty(F,h,_l(h)),this.notifyPropertyAddition(h,O)},d.prototype.addComputedProp=function(h,O,N){var F=this.target;N.name=N.name||this.name+"."+U(O),this.values.set(O,new mn(N)),(h===F||oe(h,O))&&Object.defineProperty(h,O,Ll(O))},d.prototype.remove=function(h){if(!!this.values.has(h)){var O=this.target;if(Tr(this)){var N=Mr(this,{object:this.proxy||O,name:h,type:"remove"});if(!N)return}try{At();var F=yr(this),K=Rt(),fe=this.values.get(h),Ae=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var Ue=this.pendingKeys.get(h);Ue&&Ue.set(!1)}delete this.target[h];var N=F||K?{type:"remove",object:this.proxy||O,oldValue:Ae,name:h}:null;F&&qt(this,N)}finally{vr()}}},d.prototype.illegalAccess=function(h,O){console.warn("Property '"+O+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,O){return Zn(this,h)},d.prototype.intercept=function(h){return Vn(this,h)},d.prototype.notifyPropertyAddition=function(h,O){var N=yr(this),F=Rt(),K=N||F?{type:"add",object:this.proxy||this.target,name:h,newValue:O}:null;if(N&&qt(this,K),this.pendingKeys){var fe=this.pendingKeys.get(h);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,O;this.keysAtom.reportObserved();var N=[];try{for(var F=Be(this.values),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Ae=fe[0],Ue=fe[1];Ue instanceof sn&&N.push(Ae)}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d}();function oi(d,h,O){if(h===void 0&&(h=""),O===void 0&&(O=tt),Object.prototype.hasOwnProperty.call(d,R))return d[R];z(d)||(h=(d.constructor.name||"ObservableObject")+"@"+E()),h||(h="ObservableObject@"+E());var N=new ua(d,new Map,U(h),O);return $(d,R,N),N}var sa=Object.create(null),la=Object.create(null);function _l(d){return sa[d]||(sa[d]={configurable:!0,enumerable:!0,get:function(){return this[R].read(d)},set:function(h){this[R].write(d,h)}})}function fa(d){var h=d[R];return h||(xe(d),d[R])}function Ll(d){return la[d]||(la[d]={configurable:He.computedConfigurable,enumerable:!1,get:function(){return fa(this).read(d)},set:function(h){fa(this).write(d,h)}})}var zl=ee("ObservableObjectAdministration",ua);function gr(d){return B(d)?(xe(d),zl(d[R])):!1}function wr(d,h){if(typeof d=="object"&&d!==null){if(Rr(d))return h!==void 0&&P(!1),d[R].atom;if(cr(d))return d[R];if(kt(d)){var O=d;if(h===void 0)return O._keysAtom;var N=O._data.get(h)||O._hasMap.get(h);return N||P(!1),N}if(xe(d),h&&!d[R]&&d[h],gr(d)){if(!h)return P(!1);var N=d[R].values.get(h);return N||P(!1),N}if(Q(d)||bn(d)||yo(d))return d}else if(typeof d=="function"&&yo(d[R]))return d[R];return P(!1)}function Jn(d,h){if(d||P("Expecting some object"),h!==void 0)return Jn(wr(d,h));if(Q(d)||bn(d)||yo(d)||kt(d)||cr(d))return d;if(xe(d),d[R])return d[R];P(!1)}function Fl(d,h){var O;return h!==void 0?O=wr(d,h):gr(d)||kt(d)||cr(d)?O=Jn(d):O=wr(d),O.name}var ca=Object.prototype.toString;function Oo(d,h,O){return O===void 0&&(O=-1),Qn(d,h,O)}function Qn(d,h,O,N,F){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var K=typeof d;if(K!=="function"&&K!=="object"&&typeof h!="object")return!1;var fe=ca.call(d);if(fe!==ca.call(h))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":O>=0&&O++;break}d=da(d),h=da(h);var Ae=fe==="[object Array]";if(!Ae){if(typeof d!="object"||typeof h!="object")return!1;var Ue=d.constructor,ft=h.constructor;if(Ue!==ft&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in d&&"constructor"in h)return!1}if(O===0)return!1;O<0&&(O=-1),N=N||[],F=F||[];for(var ct=N.length;ct--;)if(N[ct]===d)return F[ct]===h;if(N.push(d),F.push(h),Ae){if(ct=d.length,ct!==h.length)return!1;for(;ct--;)if(!Qn(d[ct],h[ct],O-1,N,F))return!1}else{var Ot=Object.keys(d),xt=void 0;if(ct=Ot.length,Object.keys(h).length!==ct)return!1;for(;ct--;)if(xt=Ot[ct],!(Gl(h,xt)&&Qn(d[xt],h[xt],O-1,N,F)))return!1}return N.pop(),F.pop(),!0}function da(d){return Rr(d)?d.slice():J(d)||kt(d)||ue(d)||cr(d)?Array.from(d.entries()):d}function Gl(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function Eo(d){return d[Symbol.iterator]=ii,d}function ii(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch(d){var pa=po();typeof s=="undefined"&&(pa.process={}),pa.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:$i,extras:{getDebugName:Fl},$mobx:R})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return oe}),i.d(c,"b",function(){return ie}),i.d(c,"c",function(){return Ie}),i.d(c,"d",function(){return ke}),i.d(c,"e",function(){return z}),i.d(c,"f",function(){return $}),i.d(c,"g",function(){return z}),i.d(c,"h",function(){return Se}),i.d(c,"i",function(){return f}),i.d(c,"j",function(){return Be}),i.d(c,"k",function(){return w});var s,f,y,b,S,E,P,M={},A=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(k,Y){for(var q in Y)k[q]=Y[q];return k}function B(k){var Y=k.parentNode;Y&&Y.removeChild(k)}function z(k,Y,q){var he,xe,pe,ze={};for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];if(arguments.length>2&&(ze.children=arguments.length>3?s.call(arguments,2):q),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)ze[pe]===void 0&&(ze[pe]=k.defaultProps[pe]);return X(k,ze,he,xe,null)}function X(k,Y,q,he,xe){var pe={type:k,props:Y,key:q,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe==null?++y:xe};return xe==null&&f.vnode!=null&&f.vnode(pe),pe}function $(){return{current:null}}function ie(k){return k.children}function oe(k,Y){this.props=k,this.context=Y}function ee(k,Y){if(Y==null)return k.__?ee(k.__,k.__.__k.indexOf(k)+1):null;for(var q;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null)return q.__e;return typeof k.type=="function"?ee(k):null}function J(k){var Y,q;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,Y=0;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null){k.__e=k.__c.base=q.__e;break}return J(k)}}function ue(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!L.__r++||E!==f.debounceRendering)&&((E=f.debounceRendering)||S)(L)}function L(){for(var k;L.__r=b.length;)k=b.sort(function(Y,q){return Y.__v.__b-q.__v.__b}),b=[],k.some(function(Y){var q,he,xe,pe,ze,tt;Y.__d&&(ze=(pe=(q=Y).__v).__e,(tt=q.__P)&&(he=[],(xe=C({},pe)).__v=pe.__v+1,Oe(tt,pe,xe,q.__n,tt.ownerSVGElement!==void 0,pe.__h!=null?[ze]:null,he,ze==null?ee(pe):ze,pe.__h),Pe(he,pe),pe.__e!=ze&&J(pe)))})}function U(k,Y,q,he,xe,pe,ze,tt,Ye,nt){var ve,ut,rt,_e,Qe,wt,dt,bt=he&&he.__k||A,ne=bt.length;for(q.__k=[],ve=0;ve<Y.length;ve++)if((_e=q.__k[ve]=(_e=Y[ve])==null||typeof _e=="boolean"?null:typeof _e=="string"||typeof _e=="number"||typeof _e=="bigint"?X(null,_e,null,null,_e):Array.isArray(_e)?X(ie,{children:_e},null,null,null):_e.__b>0?X(_e.type,_e.props,_e.key,null,_e.__v):_e)!=null){if(_e.__=q,_e.__b=q.__b+1,(rt=bt[ve])===null||rt&&_e.key==rt.key&&_e.type===rt.type)bt[ve]=void 0;else for(ut=0;ut<ne;ut++){if((rt=bt[ut])&&_e.key==rt.key&&_e.type===rt.type){bt[ut]=void 0;break}rt=null}Oe(k,_e,rt=rt||M,xe,pe,ze,tt,Ye,nt),Qe=_e.__e,(ut=_e.ref)&&rt.ref!=ut&&(dt||(dt=[]),rt.ref&&dt.push(rt.ref,null,_e),dt.push(ut,_e.__c||Qe,_e)),Qe!=null?(wt==null&&(wt=Qe),typeof _e.type=="function"&&_e.__k===rt.__k?_e.__d=Ye=I(_e,Ye,k):Ye=R(k,_e,rt,bt,Qe,Ye),typeof q.type=="function"&&(q.__d=Ye)):Ye&&rt.__e==Ye&&Ye.parentNode!=k&&(Ye=ee(rt))}for(q.__e=wt,ve=ne;ve--;)bt[ve]!=null&&(typeof q.type=="function"&&bt[ve].__e!=null&&bt[ve].__e==q.__d&&(q.__d=ee(he,ve+1)),Le(bt[ve],bt[ve]));if(dt)for(ve=0;ve<dt.length;ve++)Ne(dt[ve],dt[++ve],dt[++ve])}function I(k,Y,q){for(var he,xe=k.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=k,Y=typeof he.type=="function"?I(he,Y,q):R(q,he,he,xe,he.__e,Y));return Y}function w(k,Y){return Y=Y||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(q){w(q,Y)}):Y.push(k)),Y}function R(k,Y,q,he,xe,pe){var ze,tt,Ye;if(Y.__d!==void 0)ze=Y.__d,Y.__d=void 0;else if(q==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(xe),ze=null;else{for(tt=pe,Ye=0;(tt=tt.nextSibling)&&Ye<he.length;Ye+=2)if(tt==xe)break e;k.insertBefore(xe,pe),ze=pe}return ze!==void 0?ze:xe.nextSibling}function W(k,Y,q,he,xe){var pe;for(pe in q)pe==="children"||pe==="key"||pe in Y||ce(k,pe,null,q[pe],he);for(pe in Y)xe&&typeof Y[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||q[pe]===Y[pe]||ce(k,pe,Y[pe],q[pe],he)}function Q(k,Y,q){Y[0]==="-"?k.setProperty(Y,q):k[Y]=q==null?"":typeof q!="number"||D.test(Y)?q:q+"px"}function ce(k,Y,q,he,xe){var pe;e:if(Y==="style")if(typeof q=="string")k.style.cssText=q;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for(Y in he)q&&Y in q||Q(k.style,Y,"");if(q)for(Y in q)he&&q[Y]===he[Y]||Q(k.style,Y,q[Y])}else if(Y[0]==="o"&&Y[1]==="n")pe=Y!==(Y=Y.replace(/Capture$/,"")),Y=Y.toLowerCase()in k?Y.toLowerCase().slice(2):Y.slice(2),k.l||(k.l={}),k.l[Y+pe]=q,q?he||k.addEventListener(Y,pe?me:Te,pe):k.removeEventListener(Y,pe?me:Te,pe);else if(Y!=="dangerouslySetInnerHTML"){if(xe)Y=Y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Y!=="href"&&Y!=="list"&&Y!=="form"&&Y!=="tabIndex"&&Y!=="download"&&Y in k)try{k[Y]=q==null?"":q;break e}catch(ze){}typeof q=="function"||(q!=null&&(q!==!1||Y[0]==="a"&&Y[1]==="r")?k.setAttribute(Y,q):k.removeAttribute(Y))}}function Te(k){this.l[k.type+!1](f.event?f.event(k):k)}function me(k){this.l[k.type+!0](f.event?f.event(k):k)}function Oe(k,Y,q,he,xe,pe,ze,tt,Ye){var nt,ve,ut,rt,_e,Qe,wt,dt,bt,ne,Ct,St=Y.type;if(Y.constructor!==void 0)return null;q.__h!=null&&(Ye=q.__h,tt=Y.__e=q.__e,Y.__h=null,pe=[tt]),(nt=f.__b)&&nt(Y);try{e:if(typeof St=="function"){if(dt=Y.props,bt=(nt=St.contextType)&&he[nt.__c],ne=nt?bt?bt.props.value:nt.__:he,q.__c?wt=(ve=Y.__c=q.__c).__=ve.__E:("prototype"in St&&St.prototype.render?Y.__c=ve=new St(dt,ne):(Y.__c=ve=new oe(dt,ne),ve.constructor=St,ve.render=Ve),bt&&bt.sub(ve),ve.props=dt,ve.state||(ve.state={}),ve.context=ne,ve.__n=he,ut=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),St.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=C({},ve.__s)),C(ve.__s,St.getDerivedStateFromProps(dt,ve.__s))),rt=ve.props,_e=ve.state,ut)St.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(St.getDerivedStateFromProps==null&&dt!==rt&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(dt,ne),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(dt,ve.__s,ne)===!1||Y.__v===q.__v){ve.props=dt,ve.state=ve.__s,Y.__v!==q.__v&&(ve.__d=!1),ve.__v=Y,Y.__e=q.__e,Y.__k=q.__k,Y.__k.forEach(function(mt){mt&&(mt.__=Y)}),ve.__h.length&&ze.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(dt,ve.__s,ne),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(rt,_e,Qe)})}ve.context=ne,ve.props=dt,ve.state=ve.__s,(nt=f.__r)&&nt(Y),ve.__d=!1,ve.__v=Y,ve.__P=k,nt=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=C(C({},he),ve.getChildContext())),ut||ve.getSnapshotBeforeUpdate==null||(Qe=ve.getSnapshotBeforeUpdate(rt,_e)),Ct=nt!=null&&nt.type===ie&&nt.key==null?nt.props.children:nt,U(k,Array.isArray(Ct)?Ct:[Ct],Y,q,he,xe,pe,ze,tt,Ye),ve.base=Y.__e,Y.__h=null,ve.__h.length&&ze.push(ve),wt&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&Y.__v===q.__v?(Y.__k=q.__k,Y.__e=q.__e):Y.__e=Ee(q.__e,Y,q,he,xe,pe,ze,Ye);(nt=f.diffed)&&nt(Y)}catch(mt){Y.__v=null,(Ye||pe!=null)&&(Y.__e=tt,Y.__h=!!Ye,pe[pe.indexOf(tt)]=null),f.__e(mt,Y,q)}}function Pe(k,Y){f.__c&&f.__c(Y,k),k.some(function(q){try{k=q.__h,q.__h=[],k.some(function(he){he.call(q)})}catch(he){f.__e(he,q.__v)}})}function Ee(k,Y,q,he,xe,pe,ze,tt){var Ye,nt,ve,ut=q.props,rt=Y.props,_e=Y.type,Qe=0;if(_e==="svg"&&(xe=!0),pe!=null){for(;Qe<pe.length;Qe++)if((Ye=pe[Qe])&&"setAttribute"in Ye==!!_e&&(_e?Ye.localName===_e:Ye.nodeType===3)){k=Ye,pe[Qe]=null;break}}if(k==null){if(_e===null)return document.createTextNode(rt);k=xe?document.createElementNS("http://www.w3.org/2000/svg",_e):document.createElement(_e,rt.is&&rt),pe=null,tt=!1}if(_e===null)ut===rt||tt&&k.data===rt||(k.data=rt);else{if(pe=pe&&s.call(k.childNodes),nt=(ut=q.props||M).dangerouslySetInnerHTML,ve=rt.dangerouslySetInnerHTML,!tt){if(pe!=null)for(ut={},Qe=0;Qe<k.attributes.length;Qe++)ut[k.attributes[Qe].name]=k.attributes[Qe].value;(ve||nt)&&(ve&&(nt&&ve.__html==nt.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,rt,ut,xe,tt),ve)Y.__k=[];else if(Qe=Y.props.children,U(k,Array.isArray(Qe)?Qe:[Qe],Y,q,he,xe&&_e!=="foreignObject",pe,ze,pe?pe[0]:q.__k&&ee(q,0),tt),pe!=null)for(Qe=pe.length;Qe--;)pe[Qe]!=null&&B(pe[Qe]);tt||("value"in rt&&(Qe=rt.value)!==void 0&&(Qe!==ut.value||Qe!==k.value||_e==="progress"&&!Qe)&&ce(k,"value",Qe,ut.value,!1),"checked"in rt&&(Qe=rt.checked)!==void 0&&Qe!==k.checked&&ce(k,"checked",Qe,ut.checked,!1))}return k}function Ne(k,Y,q){try{typeof k=="function"?k(Y):k.current=Y}catch(he){f.__e(he,q)}}function Le(k,Y,q){var he,xe;if(f.unmount&&f.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||Ne(he,null,Y)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){f.__e(pe,Y)}he.base=he.__P=null}if(he=k.__k)for(xe=0;xe<he.length;xe++)he[xe]&&Le(he[xe],Y,typeof k.type!="function");q||k.__e==null||B(k.__e),k.__e=k.__d=void 0}function Ve(k,Y,q){return this.constructor(k,q)}function Be(k,Y,q){var he,xe,pe;f.__&&f.__(k,Y),xe=(he=typeof q=="function")?null:q&&q.__k||Y.__k,pe=[],Oe(Y,k=(!he&&q||Y).__k=z(ie,null,[k]),xe||M,M,Y.ownerSVGElement!==void 0,!he&&q?[q]:xe?null:Y.firstChild?s.call(Y.childNodes):null,pe,!he&&q?q:xe?xe.__e:Y.firstChild,he),Pe(pe,k)}function Se(k,Y){Be(k,Y,Se)}function Ie(k,Y,q){var he,xe,pe,ze=C({},k.props);for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];return arguments.length>2&&(ze.children=arguments.length>3?s.call(arguments,2):q),X(k.type,ze,he||k.key,xe||k.ref,null)}function ke(k,Y){var q={__c:Y="__cC"+P++,__:k,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[Y]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(ze){this.props.value!==ze.value&&xe.some(ue)},this.sub=function(ze){xe.push(ze);var tt=ze.componentWillUnmount;ze.componentWillUnmount=function(){xe.splice(xe.indexOf(ze),1),tt&&tt.call(ze)}}),he.children}};return q.Provider.__=q.Consumer.contextType=q}s=A.slice,f={__e:function(k,Y){for(var q,he,xe;Y=Y.__;)if((q=Y.__c)&&!q.__)try{if((he=q.constructor)&&he.getDerivedStateFromError!=null&&(q.setState(he.getDerivedStateFromError(k)),xe=q.__d),q.componentDidCatch!=null&&(q.componentDidCatch(k),xe=q.__d),xe)return q.__E=q}catch(pe){k=pe}throw k}},y=0,oe.prototype.setState=function(k,Y){var q;q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof k=="function"&&(k=k(C({},q),this.props)),k&&C(q,k),k!=null&&this.__v&&(Y&&this.__h.push(Y),ue(this))},oe.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),ue(this))},oe.prototype.render=ie,b=[],S=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,P=0},function(u,c,i){var s=i(116),f=i(44),y=i(178);s||f(Object.prototype,"toString",y,{unsafe:!0})},function(u,c,i){var s=i(39),f=i(83),y=i(70),b=i(56),S=i(111),E="Array Iterator",P=b.set,M=b.getterFor(E);u.exports=S(Array,"Array",function(A,D){P(this,{type:E,target:s(A),index:0,kind:D})},function(){var A=M(this),D=A.target,C=A.kind,B=A.index++;return!D||B>=D.length?(A.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:B,done:!1}:C=="values"?{value:D[B],done:!1}:{value:[B,D[B]],done:!1}},"values"),y.Arguments=y.Array,f("keys"),f("values"),f("entries")},function(u,c,i){var s=i(7),f=i(147),y=i(148),b=i(3),S=i(57),E=i(27),P=E("iterator"),M=E("toStringTag"),A=b.values,D=function(B,z){if(B){if(B[P]!==A)try{S(B,P,A)}catch($){B[P]=A}if(B[M]||S(B,M,z),f[z]){for(var X in b)if(B[X]!==b[X])try{S(B,X,b[X])}catch($){B[X]=b[X]}}}};for(var C in f)D(s[C]&&s[C].prototype,C);D(y,"DOMTokenList")},function(u,c,i){var s=i(16),f=i(7),y=i(46),b=i(76),S=i(35),E=i(15),P=i(64),M=i(36),A=i(109),D=i(18),C=i(34),B=i(99),z=i(28),X=i(33),$=i(58),ie=i(88),oe=i(32),ee=i(38),J=i(39),ue=i(87),L=i(40),U=i(71),I=i(54),w=i(66),R=i(72),W=i(139),Q=i(112),ce=i(51),Te=i(37),me=i(93),Oe=i(101),Pe=i(44),Ee=i(84),Ne=i(91),Le=i(69),Ve=i(85),Be=i(27),Se=i(149),Ie=i(150),ke=i(73),k=i(56),Y=i(74).forEach,q=Ne("hidden"),he="Symbol",xe="prototype",pe=Be("toPrimitive"),ze=k.set,tt=k.getterFor(he),Ye=Object[xe],nt=f.Symbol,ve=nt&&nt[xe],ut=f.TypeError,rt=f.QObject,_e=y("JSON","stringify"),Qe=ce.f,wt=Te.f,dt=W.f,bt=me.f,ne=E([].push),Ct=Ee("symbols"),St=Ee("op-symbols"),mt=Ee("string-to-symbol-registry"),Yt=Ee("symbol-to-string-registry"),hr=Ee("wks"),Zt=!rt||!rt[xe]||!rt[xe].findChild,Sr=M&&D(function(){return I(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a!=7})?function(te,re,Me){var De=Qe(Ye,re);De&&delete Ye[re],wt(te,re,Me),De&&te!==Ye&&wt(Ye,re,De)}:wt,qe=function(te,re){var Me=Ct[te]=I(ve);return ze(Me,{type:he,tag:te,description:re}),M||(Me.description=re),Me},Pt=function(re,Me,De){re===Ye&&Pt(St,Me,De),oe(re);var Xe=ue(Me);return oe(De),C(Ct,Xe)?(De.enumerable?(C(re,q)&&re[q][Xe]&&(re[q][Xe]=!1),De=I(De,{enumerable:U(0,!1)})):(C(re,q)||wt(re,q,U(1,{})),re[q][Xe]=!0),Sr(re,Xe,De)):wt(re,Xe,De)},nr=function(re,Me){oe(re);var De=J(Me),Xe=w(De).concat(lt(De));return Y(Xe,function(vt){(!M||S($e,De,vt))&&Pt(re,vt,De[vt])}),re},je=function(re,Me){return Me===void 0?I(re):nr(I(re),Me)},$e=function(re){var Me=ue(re),De=S(bt,this,Me);return this===Ye&&C(Ct,Me)&&!C(St,Me)?!1:De||!C(this,Me)||!C(Ct,Me)||C(this,q)&&this[q][Me]?De:!0},ot=function(re,Me){var De=J(re),Xe=ue(Me);if(!(De===Ye&&C(Ct,Xe)&&!C(St,Xe))){var vt=Qe(De,Xe);return vt&&C(Ct,Xe)&&!(C(De,q)&&De[q][Xe])&&(vt.enumerable=!0),vt}},Je=function(re){var Me=dt(J(re)),De=[];return Y(Me,function(Xe){!C(Ct,Xe)&&!C(Le,Xe)&&ne(De,Xe)}),De},lt=function(re){var Me=re===Ye,De=dt(Me?St:J(re)),Xe=[];return Y(De,function(vt){C(Ct,vt)&&(!Me||C(Ye,vt))&&ne(Xe,Ct[vt])}),Xe};if(A||(nt=function(){if($(ve,this))throw ut("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:L(arguments[0]),Me=Ve(re),De=function(Xe){this===Ye&&S(De,St,Xe),C(this,q)&&C(this[q],Me)&&(this[q][Me]=!1),Sr(this,Me,U(1,Xe))};return M&&Zt&&Sr(Ye,Me,{configurable:!0,set:De}),qe(Me,re)},ve=nt[xe],Pe(ve,"toString",function(){return tt(this).tag}),Pe(nt,"withoutSetter",function(te){return qe(Ve(te),te)}),me.f=$e,Te.f=Pt,ce.f=ot,R.f=W.f=Je,Q.f=lt,Se.f=function(te){return qe(Be(te),te)},M&&(wt(ve,"description",{configurable:!0,get:function(){return tt(this).description}}),P||Pe(Ye,"propertyIsEnumerable",$e,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:nt}),Y(w(hr),function(te){Ie(te)}),s({target:he,stat:!0,forced:!A},{for:function(te){var re=L(te);if(C(mt,re))return mt[re];var Me=nt(re);return mt[re]=Me,Yt[Me]=re,Me},keyFor:function(re){if(!ie(re))throw ut(re+" is not a symbol");if(C(Yt,re))return Yt[re]},useSetter:function(){Zt=!0},useSimple:function(){Zt=!1}}),s({target:"Object",stat:!0,forced:!A,sham:!M},{create:je,defineProperty:Pt,defineProperties:nr,getOwnPropertyDescriptor:ot}),s({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:Je,getOwnPropertySymbols:lt}),s({target:"Object",stat:!0,forced:D(function(){Q.f(1)})},{getOwnPropertySymbols:function(re){return Q.f(ee(re))}}),_e){var G=!A||D(function(){var te=nt();return _e([te])!="[null]"||_e({a:te})!="{}"||_e(Object(te))!="{}"});s({target:"JSON",stat:!0,forced:G},{stringify:function(re,Me,De){var Xe=Oe(arguments),vt=Me;if(!(!X(Me)&&re===void 0||ie(re)))return B(Me)||(Me=function(Jt,Qt){if(z(vt)&&(Qt=S(vt,this,Jt,Qt)),!ie(Qt))return Qt}),Xe[1]=Me,b(_e,null,Xe)}})}if(!ve[pe]){var V=ve.valueOf;Pe(ve,pe,function(te){return S(V,this)})}ke(nt,he),Le[q]=!0},function(u,c,i){var s=i(146).charAt,f=i(40),y=i(56),b=i(111),S="String Iterator",E=y.set,P=y.getterFor(S);b(String,"String",function(M){E(this,{type:S,string:f(M),index:0})},function(){var A=P(this),D=A.string,C=A.index,B;return C>=D.length?{value:void 0,done:!0}:(B=s(D,C),A.index+=B.length,{value:B,done:!1})})},function(u,c,i){(function(s){var f=function(y){return y&&y.Math==Math&&y};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof s=="object"&&s)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var s=i(16),f=i(36),y=i(7),b=i(15),S=i(34),E=i(28),P=i(58),M=i(40),A=i(37).f,D=i(134),C=y.Symbol,B=C&&C.prototype;if(f&&E(C)&&(!("description"in B)||C().description!==void 0)){var z={},X=function(){var U=arguments.length<1||arguments[0]===void 0?void 0:M(arguments[0]),I=P(B,this)?new C(U):U===void 0?C():C(U);return U===""&&(z[I]=!0),I};D(X,C),X.prototype=B,B.constructor=X;var $=String(C("test"))=="Symbol(test)",ie=b(B.toString),oe=b(B.valueOf),ee=/^Symbol\((.*)\)[^)]+$/,J=b("".replace),ue=b("".slice);A(B,"description",{configurable:!0,get:function(){var U=oe(this),I=ie(U);if(S(z,U))return"";var w=$?ue(I,7,-1):J(I,ee,"$1");return w===""?void 0:w}}),s({global:!0,forced:!0},{Symbol:X})}},function(u,c,i){var s=i(150);s("iterator")},function(u,c,i){i.d(c,"a",function(){return s.a}),i.d(c,"c",function(){return s.e}),i.d(c,"h",function(){return ue}),i.d(c,"i",function(){return $}),i.d(c,"j",function(){return z}),i.d(c,"b",function(){return Pe}),i.d(c,"e",function(){return Ve}),i.d(c,"f",function(){return Ee}),i.d(c,"g",function(){return $e});var s=i(1),f,y,b,S=0,E=[],P=s.i.__b,M=s.i.__r,A=s.i.diffed,D=s.i.__c,C=s.i.unmount;function B(G,V){s.i.__h&&s.i.__h(y,G,S||V),S=0;var te=y.__H||(y.__H={__:[],__h:[]});return G>=te.__.length&&te.__.push({}),te.__[G]}function z(G){return S=1,X(Te,G)}function X(G,V,te){var re=B(f++,2);return re.t=G,re.__c||(re.__=[te?te(V):Te(void 0,V),function(Me){var De=re.t(re.__[0],Me);re.__[0]!==De&&(re.__=[De,re.__[1]],re.__c.setState({}))}],re.__c=y),re.__}function $(G,V){var te=B(f++,3);!s.i.__s&&ce(te.__H,V)&&(te.__=G,te.__H=V,y.__H.__h.push(te))}function ie(G,V){var te=B(f++,4);!s.i.__s&&ce(te.__H,V)&&(te.__=G,te.__H=V,y.__h.push(te))}function oe(G){return S=5,J(function(){return{current:G}},[])}function ee(G,V,te){S=6,ie(function(){typeof G=="function"?G(V()):G&&(G.current=V())},te==null?te:te.concat(G))}function J(G,V){var te=B(f++,7);return ce(te.__H,V)&&(te.__=G(),te.__H=V,te.__h=G),te.__}function ue(G,V){return S=8,J(function(){return G},V)}function L(G){var V=y.context[G.__c],te=B(f++,9);return te.c=G,V?(te.__==null&&(te.__=!0,V.sub(y)),V.props.value):G.__}function U(G,V){s.i.useDebugValue&&s.i.useDebugValue(V?V(G):G)}function I(){var G;for(E.sort(function(V,te){return V.__v.__b-te.__v.__b});G=E.pop();)if(G.__P)try{G.__H.__h.forEach(W),G.__H.__h.forEach(Q),G.__H.__h=[]}catch(V){G.__H.__h=[],s.i.__e(V,G.__v)}}s.i.__b=function(G){y=null,P&&P(G)},s.i.__r=function(G){M&&M(G),f=0;var V=(y=G.__c).__H;V&&(V.__h.forEach(W),V.__h.forEach(Q),V.__h=[])},s.i.diffed=function(G){A&&A(G);var V=G.__c;V&&V.__H&&V.__H.__h.length&&(E.push(V)!==1&&b===s.i.requestAnimationFrame||((b=s.i.requestAnimationFrame)||R)(I)),y=null},s.i.__c=function(G,V){V.some(function(te){try{te.__h.forEach(W),te.__h=te.__h.filter(function(re){return!re.__||Q(re)})}catch(re){V.some(function(Me){Me.__h&&(Me.__h=[])}),V=[],s.i.__e(re,te.__v)}}),D&&D(G,V)},s.i.unmount=function(G){C&&C(G);var V,te=G.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{W(re)}catch(Me){V=Me}}),V&&s.i.__e(V,te.__v))};var w=typeof requestAnimationFrame=="function";function R(G){var V,te=function(){clearTimeout(re),w&&cancelAnimationFrame(V),setTimeout(G)},re=setTimeout(te,100);w&&(V=requestAnimationFrame(te))}function W(G){var V=y,te=G.__c;typeof te=="function"&&(G.__c=void 0,te()),y=V}function Q(G){var V=y;G.__c=G.__(),y=V}function ce(G,V){return!G||G.length!==V.length||V.some(function(te,re){return te!==G[re]})}function Te(G,V){return typeof V=="function"?V(G):V}function me(G,V){for(var te in V)G[te]=V[te];return G}function Oe(G,V){for(var te in G)if(te!=="__source"&&!(te in V))return!0;for(var re in V)if(re!=="__source"&&G[re]!==V[re])return!0;return!1}function Pe(G){this.props=G}function Ee(G,V){function te(Me){var De=this.props.ref,Xe=De==Me.ref;return!Xe&&De&&(De.call?De(null):De.current=null),V?!V(this.props,Me)||!Xe:Oe(this.props,Me)}function re(Me){return this.shouldComponentUpdate=te,Object(s.e)(G,Me)}return re.displayName="Memo("+(G.displayName||G.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(Pe.prototype=new s.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(G,V){return Oe(this.props,G)||Oe(this.state,V)};var Ne=s.i.__b;s.i.__b=function(G){G.type&&G.type.__f&&G.ref&&(G.props.ref=G.ref,G.ref=null),Ne&&Ne(G)};var Le=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(G){function V(te,re){var Me=me({},te);return delete Me.ref,G(Me,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return V.$$typeof=Le,V.render=V,V.prototype.isReactComponent=V.__f=!0,V.displayName="ForwardRef("+(G.displayName||G.name)+")",V}var Be=function(G,V){return G==null?null:Object(s.k)(Object(s.k)(G).map(V))},Se={map:Be,forEach:Be,count:function(G){return G?Object(s.k)(G).length:0},only:function(G){var V=Object(s.k)(G);if(V.length!==1)throw"Children.only";return V[0]},toArray:s.k},Ie=s.i.__e;s.i.__e=function(G,V,te){if(G.then){for(var re,Me=V;Me=Me.__;)if((re=Me.__c)&&re.__c)return V.__e==null&&(V.__e=te.__e,V.__k=te.__k),re.__c(G,V)}Ie(G,V,te)};var ke=s.i.unmount;function k(G,V,te){return G&&(G.__c&&G.__c.__H&&(G.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),G.__c.__H=null),(G=me({},G)).__c!=null&&(G.__c.__P===te&&(G.__c.__P=V),G.__c=null),G.__k=G.__k&&G.__k.map(function(re){return k(re,V,te)})),G}function Y(G,V,te){return G&&(G.__v=null,G.__k=G.__k&&G.__k.map(function(re){return Y(re,V,te)}),G.__c&&G.__c.__P===V&&(G.__e&&te.insertBefore(G.__e,G.__d),G.__c.__e=!0,G.__c.__P=te)),G}function q(){this.__u=0,this.t=null,this.__b=null}function he(G){var V=G.__.__c;return V&&V.__e&&V.__e(G)}function xe(G){var V,te,re;function Me(De){if(V||(V=G()).then(function(Xe){te=Xe.default||Xe},function(Xe){re=Xe}),re)throw re;if(!te)throw V;return Object(s.e)(te,De)}return Me.displayName="Lazy",Me.__f=!0,Me}function pe(){this.u=null,this.o=null}s.i.unmount=function(G){var V=G.__c;V&&V.__R&&V.__R(),V&&G.__h===!0&&(G.type=null),ke&&ke(G)},(q.prototype=new s.a).__c=function(G,V){var te=V.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var Me=he(re.__v),De=!1,Xe=function(){De||(De=!0,te.__R=null,Me?Me(vt):vt())};te.__R=Xe;var vt=function(){if(!--re.__u){if(re.state.__e){var Qt=re.state.__e;re.__v.__k[0]=Y(Qt,Qt.__c.__P,Qt.__c.__O)}var Xn;for(re.setState({__e:re.__b=null});Xn=re.t.pop();)Xn.forceUpdate()}},Jt=V.__h===!0;re.__u++||Jt||re.setState({__e:re.__b=re.__v.__k[0]}),G.then(Xe,Xe)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(G,V){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,te,re.__O=re.__P)}this.__b=null}var Me=V.__e&&Object(s.e)(s.b,null,G.fallback);return Me&&(Me.__h=null),[Object(s.e)(s.b,null,V.__e?null:G.children),Me]};var ze=function(G,V,te){if(++te[1]===te[0]&&G.o.delete(V),G.props.revealOrder&&(G.props.revealOrder[0]!=="t"||!G.o.size))for(te=G.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;G.u=te=te[2]}};function tt(G){return this.getChildContext=function(){return G.context},G.children}function Ye(G){var V=this,te=G.i;V.componentWillUnmount=function(){Object(s.j)(null,V.l),V.l=null,V.i=null},V.i&&V.i!==te&&V.componentWillUnmount(),G.__v?(V.l||(V.i=te,V.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),V.i.appendChild(re)},insertBefore:function(re,Me){this.childNodes.push(re),V.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),V.i.removeChild(re)}}),Object(s.j)(Object(s.e)(tt,{context:V.context},G.__v),V.l)):V.l&&V.componentWillUnmount()}function nt(G,V){return Object(s.e)(Ye,{__v:G,i:V})}(pe.prototype=new s.a).__e=function(G){var V=this,te=he(V.__v),re=V.o.get(G);return re[0]++,function(Me){var De=function(){V.props.revealOrder?(re.push(Me),ze(V,G,re)):Me()};te?te(De):De()}},pe.prototype.render=function(G){this.u=null,this.o=new Map;var V=Object(s.k)(G.children);G.revealOrder&&G.revealOrder[0]==="b"&&V.reverse();for(var te=V.length;te--;)this.o.set(V[te],this.u=[1,0,this.u]);return G.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var G=this;this.o.forEach(function(V,te){ze(G,te,V)})};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,ut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,rt=typeof document!="undefined",_e=function(G){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(G)};function Qe(G,V,te){return V.__k==null&&(V.textContent=""),Object(s.j)(G,V),typeof te=="function"&&te(),G?G.__c:null}function wt(G,V,te){return Object(s.h)(G,V),typeof te=="function"&&te(),G?G.__c:null}s.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(G){Object.defineProperty(s.a.prototype,G,{configurable:!0,get:function(){return this["UNSAFE_"+G]},set:function(V){Object.defineProperty(this,G,{configurable:!0,writable:!0,value:V})}})});var dt=s.i.event;function bt(){}function ne(){return this.cancelBubble}function Ct(){return this.defaultPrevented}s.i.event=function(G){return dt&&(G=dt(G)),G.persist=bt,G.isPropagationStopped=ne,G.isDefaultPrevented=Ct,G.nativeEvent=G};var St,mt={configurable:!0,get:function(){return this.class}},Yt=s.i.vnode;s.i.vnode=function(G){var V=G.type,te=G.props,re=te;if(typeof V=="string"){var Me=V.indexOf("-")===-1;for(var De in re={},te){var Xe=te[De];rt&&De==="children"&&V==="noscript"||De==="value"&&"defaultValue"in te&&Xe==null||(De==="defaultValue"&&"value"in te&&te.value==null?De="value":De==="download"&&Xe===!0?Xe="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+V)&&!_e(te.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():Me&&ut.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Xe===null&&(Xe=void 0),re[De]=Xe)}V=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(s.k)(te.children).forEach(function(vt){vt.props.selected=re.value.indexOf(vt.props.value)!=-1})),V=="select"&&re.defaultValue!=null&&(re.value=Object(s.k)(te.children).forEach(function(vt){vt.props.selected=re.multiple?re.defaultValue.indexOf(vt.props.value)!=-1:re.defaultValue==vt.props.value})),G.props=re,te.class!=te.className&&(mt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",mt))}G.$$typeof=ve,Yt&&Yt(G)};var hr=s.i.__r;s.i.__r=function(G){hr&&hr(G),St=G.__c};var Zt={ReactCurrentDispatcher:{current:{readContext:function(G){return St.__n[G.__c].props.value}}}};function Sr(G){return s.e.bind(null,G)}function qe(G){return!!G&&G.$$typeof===ve}function Pt(G){return qe(G)?s.c.apply(null,arguments):G}function nr(G){return!!G.__k&&(Object(s.j)(null,G),!0)}function je(G){return G&&(G.base||G.nodeType===1&&G)||null}var $e=function(G,V){return G(V)},ot=function(G,V){return G(V)},Je=s.b,lt={useState:z,useReducer:X,useEffect:$,useLayoutEffect:ie,useRef:oe,useImperativeHandle:ee,useMemo:J,useCallback:ue,useContext:L,useDebugValue:U,version:"17.0.2",Children:Se,render:Qe,hydrate:wt,unmountComponentAtNode:nr,createPortal:nt,createElement:s.e,createContext:s.d,createFactory:Sr,cloneElement:Pt,createRef:s.f,Fragment:s.b,isValidElement:qe,findDOMNode:je,Component:s.a,PureComponent:Pe,memo:Ee,forwardRef:Ve,flushSync:ot,unstable_batchedUpdates:$e,StrictMode:Je,Suspense:q,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Zt};c.d=lt},function(u,c,i){var s=i(7),f=i(147),y=i(148),b=i(179),S=i(57),E=function(M){if(M&&M.forEach!==b)try{S(M,"forEach",b)}catch(A){M.forEach=b}};for(var P in f)f[P]&&E(s[P]&&s[P].prototype);E(y)},function(u,c,i){var s=i(16),f=i(97);s({target:"Object",stat:!0},{setPrototypeOf:f})},function(u,c,i){var s=i(16),f=i(18),y=i(38),b=i(96),S=i(137),E=f(function(){b(1)});s({target:"Object",stat:!0,forced:E,sham:!S},{getPrototypeOf:function(M){return b(y(M))}})},function(u,c,i){var s=i(16),f=i(46),y=i(76),b=i(199),S=i(157),E=i(32),P=i(33),M=i(54),A=i(18),D=f("Reflect","construct"),C=Object.prototype,B=[].push,z=A(function(){function ie(){}return!(D(function(){},[],ie)instanceof ie)}),X=!A(function(){D(function(){})}),$=z||X;s({target:"Reflect",stat:!0,forced:$,sham:$},{construct:function(oe,ee){S(oe),E(ee);var J=arguments.length<3?oe:S(arguments[2]);if(X&&!z)return D(oe,ee,J);if(oe==J){switch(ee.length){case 0:return new oe;case 1:return new oe(ee[0]);case 2:return new oe(ee[0],ee[1]);case 3:return new oe(ee[0],ee[1],ee[2]);case 4:return new oe(ee[0],ee[1],ee[2],ee[3])}var ue=[null];return y(B,ue,ee),new(y(b,oe,ue))}var L=J.prototype,U=M(P(L)?L:C),I=y(oe,U,ee);return P(I)?I:U}})},function(u,c){var i=Function.prototype,s=i.bind,f=i.call,y=s&&s.bind(f);u.exports=s?function(b){return b&&y(f,b)}:function(b){return b&&function(){return f.apply(b,arguments)}}},function(u,c,i){var s=i(7),f=i(51).f,y=i(57),b=i(44),S=i(108),E=i(134),P=i(95);u.exports=function(M,A){var D=M.target,C=M.global,B=M.stat,z,X,$,ie,oe,ee;if(C?X=s:B?X=s[D]||S(D,{}):X=(s[D]||{}).prototype,X)for($ in A){if(oe=A[$],M.noTargetGet?(ee=f(X,$),ie=ee&&ee.value):ie=X[$],z=P(C?$:D+(B?".":"#")+$,M.forced),!z&&ie!==void 0){if(typeof oe==typeof ie)continue;E(oe,ie)}(M.sham||ie&&ie.sham)&&y(oe,"sham",!0),b(X,$,oe,M)}}},function(u,c,i){var s=i(16),f=i(7),y=i(99),b=i(100),S=i(33),E=i(67),P=i(43),M=i(39),A=i(61),D=i(27),C=i(75),B=i(101),z=C("slice"),X=D("species"),$=f.Array,ie=Math.max;s({target:"Array",proto:!0,forced:!z},{slice:function(ee,J){var ue=M(this),L=P(ue),U=E(ee,L),I=E(J===void 0?L:J,L),w,R,W;if(y(ue)&&(w=ue.constructor,b(w)&&(w===$||y(w.prototype))?w=void 0:S(w)&&(w=w[X],w===null&&(w=void 0)),w===$||w===void 0))return B(ue,U,I);for(R=new(w===void 0?$:w)(ie(I-U,0)),W=0;U<I;U++,W++)U in ue&&A(R,W,ue[U]);return R.length=W,R}})},function(u,c){u.exports=function(i){try{return!!i()}catch(s){return!0}}},function(u,c,i){var s=i(16),f=i(102);s({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(u,c,i){var s=i(16),f=i(38),y=i(66),b=i(18),S=b(function(){y(1)});s({target:"Object",stat:!0,forced:S},{keys:function(P){return y(f(P))}})},function(u,c,i){var s=i(16),f=i(18),y=i(39),b=i(51).f,S=i(36),E=f(function(){b(1)}),P=!S||E;s({target:"Object",stat:!0,forced:P,sham:!S},{getOwnPropertyDescriptor:function(A,D){return b(y(A),D)}})},function(u,c,i){var s=i(16),f=i(74).filter,y=i(75),b=y("filter");s({target:"Array",proto:!0,forced:!b},{filter:function(E){return f(this,E,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(16),f=i(36),y=i(135),b=i(39),S=i(51),E=i(61);s({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(M){for(var A=b(M),D=S.f,C=y(A),B={},z=0,X,$;C.length>z;)$=D(A,X=C[z++]),$!==void 0&&E(B,X,$);return B}})},function(u,c,i){var s=i(36),f=i(94).EXISTS,y=i(15),b=i(37).f,S=Function.prototype,E=y(S.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,M=y(P.exec),A="name";s&&!f&&b(S,A,{configurable:!0,get:function(){try{return M(P,E(this))[1]}catch(D){return""}}})},function(u,c,i){var s=i(16),f=i(182),y=i(118),b=!y(function(S){Array.from(S)});s({target:"Array",stat:!0,forced:b},{from:f})},,function(u,c,i){var s=i(7),f=i(84),y=i(34),b=i(85),S=i(109),E=i(128),P=f("wks"),M=s.Symbol,A=M&&M.for,D=E?M:M&&M.withoutSetter||b;u.exports=function(C){if(!y(P,C)||!(S||typeof P[C]=="string")){var B="Symbol."+C;S&&y(M,C)?P[C]=M[C]:E&&A?P[C]=A(B):P[C]=D(B)}return P[C]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var s=i(16),f=i(7),y=i(18),b=i(99),S=i(33),E=i(38),P=i(43),M=i(61),A=i(119),D=i(75),C=i(27),B=i(65),z=C("isConcatSpreadable"),X=9007199254740991,$="Maximum allowed index exceeded",ie=f.TypeError,oe=B>=51||!y(function(){var L=[];return L[z]=!1,L.concat()[0]!==L}),ee=D("concat"),J=function(L){if(!S(L))return!1;var U=L[z];return U!==void 0?!!U:b(L)},ue=!oe||!ee;s({target:"Array",proto:!0,forced:ue},{concat:function(U){var I=E(this),w=A(I,0),R=0,W,Q,ce,Te,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?I:arguments[W],J(me)){if(Te=P(me),R+Te>X)throw ie($);for(Q=0;Q<Te;Q++,R++)Q in me&&M(w,R,me[Q])}else{if(R>=X)throw ie($);M(w,R++,me)}return w.length=R,w}})},function(u,c,i){var s=i(16),f=i(198);s({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(u,c,i){var s=i(105),f=typeof self=="object"&&self&&self.Object===Object&&self,y=s.a||f||Function("return this")();c.a=y},function(u,c,i){var s=i(7),f=i(33),y=s.String,b=s.TypeError;u.exports=function(S){if(f(S))return S;throw b(y(S)+" is not an object")}},function(u,c,i){var s=i(28);u.exports=function(f){return typeof f=="object"?f!==null:s(f)}},function(u,c,i){var s=i(15),f=i(38),y=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(S,E){return y(f(S),E)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var s=i(7),f=i(36),y=i(129),b=i(32),S=i(87),E=s.TypeError,P=Object.defineProperty;c.f=f?P:function(A,D,C){if(b(A),D=S(D),b(C),y)try{return P(A,D,C)}catch(B){}if("get"in C||"set"in C)throw E("Accessors not supported");return"value"in C&&(A[D]=C.value),A}},function(u,c,i){var s=i(7),f=i(45),y=s.Object;u.exports=function(b){return y(f(b))}},function(u,c,i){var s=i(81),f=i(45);u.exports=function(y){return s(f(y))}},function(u,c,i){var s=i(7),f=i(98),y=s.String;u.exports=function(b){if(f(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(b)}},function(u,c,i){var s=i(16),f=i(74).map,y=i(75),b=y("map");s({target:"Array",proto:!0,forced:!b},{map:function(E){return f(this,E,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(s){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return S}),i.d(c,"b",function(){return E}),i.d(c,"a",function(){return M});var f=i(10),y=function(A,D){var C=typeof Symbol=="function"&&A[Symbol.iterator];if(!C)return A;var B=C.call(A),z,X=[],$;try{for(;(D===void 0||D-- >0)&&!(z=B.next()).done;)X.push(z.value)}catch(ie){$={error:ie}}finally{try{z&&!z.done&&(C=B.return)&&C.call(B)}finally{if($)throw $.error}}return X};function b(){var A=y(Object(f.j)(0),2),D=A[1],C=Object(f.h)(function(){D(function(B){return B+1})},[]);return C}function S(A){if(!A||typeof A!="object")return!1;var D=Object.getPrototypeOf(A);return!D||D===Object.prototype}function E(A){return typeof Symbol=="function"?Symbol.for(A):"__$mobx-react "+A+"__"}var P={};function M(){return typeof window!="undefined"?window:typeof s!="undefined"?s:typeof self!="undefined"?self:P}}).call(this,i(82))},function(u,c,i){var s=i(90);u.exports=function(f){return s(f.length)}},function(u,c,i){var s=i(7),f=i(28),y=i(34),b=i(57),S=i(108),E=i(92),P=i(56),M=i(94).CONFIGURABLE,A=P.get,D=P.enforce,C=String(String).split("String");(u.exports=function(B,z,X,$){var ie=$?!!$.unsafe:!1,oe=$?!!$.enumerable:!1,ee=$?!!$.noTargetGet:!1,J=$&&$.name!==void 0?$.name:z,ue;if(f(X)&&(String(J).slice(0,7)==="Symbol("&&(J="["+String(J).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(X,"name")||M&&X.name!==J)&&b(X,"name",J),ue=D(X),ue.source||(ue.source=C.join(typeof J=="string"?J:""))),B===s){oe?B[z]=X:S(z,X);return}else ie?!ee&&B[z]&&(oe=!0):delete B[z];oe?B[z]=X:b(B,z,X)})(Function.prototype,"toString",function(){return f(this)&&A(this).source||E(this)})},function(u,c,i){var s=i(7),f=s.TypeError;u.exports=function(y){if(y==null)throw f("Can't call method on "+y);return y}},function(u,c,i){var s=i(7),f=i(28),y=function(b){return f(b)?b:void 0};u.exports=function(b,S){return arguments.length<2?y(s[b]):s[b]&&s[b][S]}},function(u,c,i){var s=i(16),f=i(35),y=i(33),b=i(32),S=i(200),E=i(51),P=i(96);function M(A,D){var C=arguments.length<3?A:arguments[2],B,z;if(b(A)===C)return A[D];if(B=E.f(A,D),B)return S(B)?B.value:B.get===void 0?void 0:f(B.get,C);if(y(z=P(A)))return M(z,D,C)}s({target:"Reflect",stat:!0},{get:M})},function(u,c,i){(function(s){var f=i(31),y=i(165),b=v&&!v.nodeType&&v,S=b&&typeof s=="object"&&s&&!s.nodeType&&s,E=S&&S.exports===b,P=E?f.a.Buffer:void 0,M=P?P.isBuffer:void 0,A=M||y.a;c.a=A}).call(this,i(121)(u))},function(u,c,i){(function(s){var f=i(105),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,S=b&&b.exports===y,E=S&&f.a.process,P=function(){try{var M=b&&b.require&&b.require("util").types;return M||E&&E.binding&&E.binding("util")}catch(A){}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var s=i(15),f=s({}.toString),y=s("".slice);u.exports=function(b){return y(f(b),8,-1)}},function(u,c,i){var s=i(36),f=i(35),y=i(93),b=i(71),S=i(39),E=i(87),P=i(34),M=i(129),A=Object.getOwnPropertyDescriptor;c.f=s?A:function(C,B){if(C=S(C),B=E(B),M)try{return A(C,B)}catch(z){}if(P(C,B))return b(!f(y.f,C,B),C[B])}},function(u,c,i){var s=i(16),f=i(213).entries;s({target:"Object",stat:!0},{entries:function(b){return f(b)}})},function(u,c,i){var s=i(46);u.exports=s("navigator","userAgent")||""},function(u,c,i){var s=i(32),f=i(168),y=i(110),b=i(69),S=i(133),E=i(86),P=i(91),M=">",A="<",D="prototype",C="script",B=P("IE_PROTO"),z=function(){},X=function(J){return A+C+M+J+A+"/"+C+M},$=function(J){J.write(X("")),J.close();var ue=J.parentWindow.Object;return J=null,ue},ie=function(){var J=E("iframe"),ue="java"+C+":",L;return J.style.display="none",S.appendChild(J),J.src=String(ue),L=J.contentWindow.document,L.open(),L.write(X("document.F=Object")),L.close(),L.F},oe,ee=function(){try{oe=new ActiveXObject("htmlfile")}catch(ue){}ee=typeof document!="undefined"?document.domain&&oe?$(oe):ie():$(oe);for(var J=y.length;J--;)delete ee[D][y[J]];return ee()};b[B]=!0,u.exports=Object.create||function(ue,L){var U;return ue!==null?(z[D]=s(ue),U=new z,z[D]=null,U[B]=ue):U=ee(),L===void 0?U:f(U,L)}},function(u,c,i){var s=i(7),f=i(28),y=i(89),b=s.TypeError;u.exports=function(S){if(f(S))return S;throw b(y(S)+" is not a function")}},function(u,c,i){var s=i(170),f=i(7),y=i(15),b=i(33),S=i(57),E=i(34),P=i(107),M=i(91),A=i(69),D="Object already initialized",C=f.TypeError,B=f.WeakMap,z,X,$,ie=function(I){return $(I)?X(I):z(I,{})},oe=function(I){return function(w){var R;if(!b(w)||(R=X(w)).type!==I)throw C("Incompatible receiver, "+I+" required");return R}};if(s||P.state){var ee=P.state||(P.state=new B),J=y(ee.get),ue=y(ee.has),L=y(ee.set);z=function(I,w){if(ue(ee,I))throw new C(D);return w.facade=I,L(ee,I,w),w},X=function(I){return J(ee,I)||{}},$=function(I){return ue(ee,I)}}else{var U=M("state");A[U]=!0,z=function(I,w){if(E(I,U))throw new C(D);return w.facade=I,S(I,U,w),w},X=function(I){return E(I,U)?I[U]:{}},$=function(I){return E(I,U)}}u.exports={set:z,get:X,has:$,enforce:ie,getterFor:oe}},function(u,c,i){var s=i(36),f=i(37),y=i(71);u.exports=s?function(b,S,E){return f.f(b,S,y(1,E))}:function(b,S,E){return b[S]=E,b}},function(u,c,i){var s=i(15);u.exports=s({}.isPrototypeOf)},function(u,c,i){var s=i(55);u.exports=function(f,y){var b=f[y];return b==null?void 0:s(b)}},function(u,c,i){var s=i(173),f=i(177);s("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},f)},function(u,c,i){var s=i(87),f=i(37),y=i(71);u.exports=function(b,S,E){var P=s(S);P in b?f.f(b,P,y(0,E)):b[P]=E}},function(u,c,i){var s=i(15),f=i(55),y=s(s.bind);u.exports=function(b,S){return f(b),S===void 0?b:y?y(b,S):function(){return b.apply(S,arguments)}}},function(u,c,i){var s=i(16),f=i(214),y=i(83);s({target:"Array",proto:!0},{fill:f}),y("fill")},function(u,c){u.exports=!1},function(u,c,i){var s=i(7),f=i(53),y=s.process,b=s.Deno,S=y&&y.versions||b&&b.version,E=S&&S.v8,P,M;E&&(P=E.split("."),M=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!M&&f&&(P=f.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=f.match(/Chrome\/(\d+)/),P&&(M=+P[1]))),u.exports=M},function(u,c,i){var s=i(131),f=i(110);u.exports=Object.keys||function(b){return s(b,f)}},function(u,c,i){var s=i(68),f=Math.max,y=Math.min;u.exports=function(b,S){var E=s(b);return E<0?f(E+S,0):y(E,S)}},function(u,c){var i=Math.ceil,s=Math.floor;u.exports=function(f){var y=+f;return y!==y||y===0?0:(y>0?s:i)(y)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,s){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:s}}},function(u,c,i){var s=i(131),f=i(110),y=f.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(S){return s(S,y)}},function(u,c,i){var s=i(37).f,f=i(34),y=i(27),b=y("toStringTag");u.exports=function(S,E,P){S&&!f(S=P?S:S.prototype,b)&&s(S,b,{configurable:!0,value:E})}},function(u,c,i){var s=i(62),f=i(15),y=i(81),b=i(38),S=i(43),E=i(119),P=f([].push),M=function(A){var D=A==1,C=A==2,B=A==3,z=A==4,X=A==6,$=A==7,ie=A==5||X;return function(oe,ee,J,ue){for(var L=b(oe),U=y(L),I=s(ee,J),w=S(U),R=0,W=ue||E,Q=D?W(oe,w):C||$?W(oe,0):void 0,ce,Te;w>R;R++)if((ie||R in U)&&(ce=U[R],Te=I(ce,R,L),A))if(D)Q[R]=Te;else if(Te)switch(A){case 3:return!0;case 5:return ce;case 6:return R;case 2:P(Q,ce)}else switch(A){case 4:return!1;case 7:P(Q,ce)}return X?-1:B||z?z:Q}};u.exports={forEach:M(0),map:M(1),filter:M(2),some:M(3),every:M(4),find:M(5),findIndex:M(6),filterReject:M(7)}},function(u,c,i){var s=i(18),f=i(27),y=i(65),b=f("species");u.exports=function(S){return y>=51||!s(function(){var E=[],P=E.constructor={};return P[b]=function(){return{foo:1}},E[S](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,s=i.apply,f=i.bind,y=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(f?y.bind(s):function(){return y.apply(s,arguments)})},function(u,c,i){var s=i(16),f=i(15),y=i(81),b=i(39),S=i(120),E=f([].join),P=y!=Object,M=S("join",",");s({target:"Array",proto:!0,forced:P||!M},{join:function(D){return E(b(this),D===void 0?",":D)}})},function(u,c,i){var s=i(76),f=i(35),y=i(15),b=i(122),S=i(154),E=i(32),P=i(45),M=i(156),A=i(123),D=i(90),C=i(40),B=i(59),z=i(113),X=i(124),$=i(102),ie=i(151),oe=i(18),ee=ie.UNSUPPORTED_Y,J=4294967295,ue=Math.min,L=[].push,U=y(/./.exec),I=y(L),w=y("".slice),R=!oe(function(){var W=/(?:)/,Q=W.exec;W.exec=function(){return Q.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,Q,ce){var Te;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Te=function(me,Oe){var Pe=C(P(this)),Ee=Oe===void 0?J:Oe>>>0;if(Ee===0)return[];if(me===void 0)return[Pe];if(!S(me))return f(Q,Pe,me,Ee);for(var Ne=[],Le=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,Be=new RegExp(me.source,Le+"g"),Se,Ie,ke;(Se=f($,Be,Pe))&&(Ie=Be.lastIndex,!(Ie>Ve&&(I(Ne,w(Pe,Ve,Se.index)),Se.length>1&&Se.index<Pe.length&&s(L,Ne,z(Se,1)),ke=Se[0].length,Ve=Ie,Ne.length>=Ee)));)Be.lastIndex===Se.index&&Be.lastIndex++;return Ve===Pe.length?(ke||!U(Be,""))&&I(Ne,""):I(Ne,w(Pe,Ve)),Ne.length>Ee?z(Ne,0,Ee):Ne}:"0".split(void 0,0).length?Te=function(me,Oe){return me===void 0&&Oe===0?[]:f(Q,this,me,Oe)}:Te=Q,[function(Oe,Pe){var Ee=P(this),Ne=Oe==null?void 0:B(Oe,W);return Ne?f(Ne,Oe,Ee,Pe):f(Te,C(Ee),Oe,Pe)},function(me,Oe){var Pe=E(this),Ee=C(me),Ne=ce(Te,Pe,Ee,Oe,Te!==Q);if(Ne.done)return Ne.value;var Le=M(Pe,RegExp),Ve=Pe.unicode,Be=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(ee?"g":"y"),Se=new Le(ee?"^(?:"+Pe.source+")":Pe,Be),Ie=Oe===void 0?J:Oe>>>0;if(Ie===0)return[];if(Ee.length===0)return X(Se,Ee)===null?[Ee]:[];for(var ke=0,k=0,Y=[];k<Ee.length;){Se.lastIndex=ee?0:k;var q=X(Se,ee?w(Ee,k):Ee),he;if(q===null||(he=ue(D(Se.lastIndex+(ee?k:0)),Ee.length))===ke)k=A(Ee,k,Ve);else{if(I(Y,w(Ee,ke,k)),Y.length===Ie)return Y;for(var xe=1;xe<=q.length-1;xe++)if(I(Y,q[xe]),Y.length===Ie)return Y;k=ke=he}}return I(Y,w(Ee,ke)),Y}]},!R,ee)},function(u,c,i){var s=i(36),f=i(7),y=i(15),b=i(95),S=i(44),E=i(34),P=i(143),M=i(58),A=i(88),D=i(130),C=i(18),B=i(72).f,z=i(51).f,X=i(37).f,$=i(196),ie=i(159).trim,oe="Number",ee=f[oe],J=ee.prototype,ue=f.TypeError,L=y("".slice),U=y("".charCodeAt),I=function(Te){var me=D(Te,"number");return typeof me=="bigint"?me:w(me)},w=function(Te){var me=D(Te,"number"),Oe,Pe,Ee,Ne,Le,Ve,Be,Se;if(A(me))throw ue("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=ie(me),Oe=U(me,0),Oe===43||Oe===45){if(Pe=U(me,2),Pe===88||Pe===120)return NaN}else if(Oe===48){switch(U(me,1)){case 66:case 98:Ee=2,Ne=49;break;case 79:case 111:Ee=8,Ne=55;break;default:return+me}for(Le=L(me,2),Ve=Le.length,Be=0;Be<Ve;Be++)if(Se=U(Le,Be),Se<48||Se>Ne)return NaN;return parseInt(Le,Ee)}}return+me};if(b(oe,!ee(" 0o1")||!ee("0b1")||ee("+0x1"))){for(var R=function(me){var Oe=arguments.length<1?0:ee(I(me)),Pe=this;return M(J,Pe)&&C(function(){$(Pe)})?P(Object(Oe),Pe,R):Oe},W=s?B(ee):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Q=0,ce;W.length>Q;Q++)E(ee,ce=W[Q])&&!E(R,ce)&&X(R,ce,z(ee,ce));R.prototype=J,J.constructor=R,S(f,oe,R)}},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var s=i(7),f=i(15),y=i(18),b=i(50),S=s.Object,E=f("".split);u.exports=y(function(){return!S("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?E(P,""):S(P)}:S},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(s){typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var s=i(27),f=i(54),y=i(37),b=s("unscopables"),S=Array.prototype;S[b]==null&&y.f(S,b,{configurable:!0,value:f(null)}),u.exports=function(E){S[b][E]=!0}},function(u,c,i){var s=i(64),f=i(107);(u.exports=function(y,b){return f[y]||(f[y]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var s=i(15),f=0,y=Math.random(),b=s(1 .toString);u.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+b(++f+y,36)}},function(u,c,i){var s=i(7),f=i(33),y=s.document,b=f(y)&&f(y.createElement);u.exports=function(S){return b?y.createElement(S):{}}},function(u,c,i){var s=i(130),f=i(88);u.exports=function(y){var b=s(y,"string");return f(b)?b:b+""}},function(u,c,i){var s=i(7),f=i(46),y=i(28),b=i(58),S=i(128),E=s.Object;u.exports=S?function(P){return typeof P=="symbol"}:function(P){var M=f("Symbol");return y(M)&&b(M.prototype,E(P))}},function(u,c,i){var s=i(7),f=s.String;u.exports=function(y){try{return f(y)}catch(b){return"Object"}}},function(u,c,i){var s=i(68),f=Math.min;u.exports=function(y){return y>0?f(s(y),9007199254740991):0}},function(u,c,i){var s=i(84),f=i(85),y=s("keys");u.exports=function(b){return y[b]||(y[b]=f(b))}},function(u,c,i){var s=i(15),f=i(28),y=i(107),b=s(Function.toString);f(y.inspectSource)||(y.inspectSource=function(S){return b(S)}),u.exports=y.inspectSource},function(u,c,i){var s={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,y=f&&!s.call({1:2},1);c.f=y?function(S){var E=f(this,S);return!!E&&E.enumerable}:s},function(u,c,i){var s=i(36),f=i(34),y=Function.prototype,b=s&&Object.getOwnPropertyDescriptor,S=f(y,"name"),E=S&&function(){}.name==="something",P=S&&(!s||s&&b(y,"name").configurable);u.exports={EXISTS:S,PROPER:E,CONFIGURABLE:P}},function(u,c,i){var s=i(18),f=i(28),y=/#|\.prototype\./,b=function(A,D){var C=E[S(A)];return C==M?!0:C==P?!1:f(D)?s(D):!!D},S=b.normalize=function(A){return String(A).replace(y,".").toLowerCase()},E=b.data={},P=b.NATIVE="N",M=b.POLYFILL="P";u.exports=b},function(u,c,i){var s=i(7),f=i(34),y=i(28),b=i(38),S=i(91),E=i(137),P=S("IE_PROTO"),M=s.Object,A=M.prototype;u.exports=E?M.getPrototypeOf:function(D){var C=b(D);if(f(C,P))return C[P];var B=C.constructor;return y(B)&&C instanceof B?B.prototype:C instanceof M?A:null}},function(u,c,i){var s=i(15),f=i(32),y=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,S={},E;try{E=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),E(S,[]),b=S instanceof Array}catch(P){}return function(M,A){return f(M),y(A),b?E(M,A):M.__proto__=A,M}}():void 0)},function(u,c,i){var s=i(7),f=i(116),y=i(28),b=i(50),S=i(27),E=S("toStringTag"),P=s.Object,M=b(function(){return arguments}())=="Arguments",A=function(D,C){try{return D[C]}catch(B){}};u.exports=f?b:function(D){var C,B,z;return D===void 0?"Undefined":D===null?"Null":typeof(B=A(C=P(D),E))=="string"?B:M?b(C):(z=b(C))=="Object"&&y(C.callee)?"Arguments":z}},function(u,c,i){var s=i(50);u.exports=Array.isArray||function(y){return s(y)=="Array"}},function(u,c,i){var s=i(15),f=i(18),y=i(28),b=i(98),S=i(46),E=i(92),P=function(){},M=[],A=S("Reflect","construct"),D=/^\s*(?:class|function)\b/,C=s(D.exec),B=!D.exec(P),z=function($){if(!y($))return!1;try{return A(P,M,$),!0}catch(ie){return!1}},X=function($){if(!y($))return!1;switch(b($)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return B||!!C(D,E($))};u.exports=!A||f(function(){var $;return z(z.call)||!z(Object)||!z(function(){$=!0})||$})?X:z},function(u,c,i){var s=i(15);u.exports=s([].slice)},function(u,c,i){var s=i(35),f=i(15),y=i(40),b=i(184),S=i(151),E=i(84),P=i(54),M=i(56).get,A=i(185),D=i(186),C=E("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,z=B,X=f("".charAt),$=f("".indexOf),ie=f("".replace),oe=f("".slice),ee=function(){var U=/a/,I=/b*/g;return s(B,U,"a"),s(B,I,"a"),U.lastIndex!==0||I.lastIndex!==0}(),J=S.BROKEN_CARET,ue=/()??/.exec("")[1]!==void 0,L=ee||ue||J||A||D;L&&(z=function(I){var w=this,R=M(w),W=y(I),Q=R.raw,ce,Te,me,Oe,Pe,Ee,Ne;if(Q)return Q.lastIndex=w.lastIndex,ce=s(z,Q,W),w.lastIndex=Q.lastIndex,ce;var Le=R.groups,Ve=J&&w.sticky,Be=s(b,w),Se=w.source,Ie=0,ke=W;if(Ve&&(Be=ie(Be,"y",""),$(Be,"g")===-1&&(Be+="g"),ke=oe(W,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&X(W,w.lastIndex-1)!==`
`)&&(Se="(?: "+Se+")",ke=" "+ke,Ie++),Te=new RegExp("^(?:"+Se+")",Be)),ue&&(Te=new RegExp("^"+Se+"$(?!\\s)",Be)),ee&&(me=w.lastIndex),Oe=s(B,Ve?Te:w,ke),Ve?Oe?(Oe.input=oe(Oe.input,Ie),Oe[0]=oe(Oe[0],Ie),Oe.index=w.lastIndex,w.lastIndex+=Oe[0].length):w.lastIndex=0:ee&&Oe&&(w.lastIndex=w.global?Oe.index+Oe[0].length:me),ue&&Oe&&Oe.length>1&&s(C,Oe[0],Te,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(Oe[Pe]=void 0)}),Oe&&Le)for(Oe.groups=Ee=P(null),Pe=0;Pe<Le.length;Pe++)Ne=Le[Pe],Ee[Ne[0]]=Oe[Ne[1]];return Oe}),u.exports=z},function(u,c,i){var s=i(16),f=i(7),y=i(67),b=i(68),S=i(43),E=i(38),P=i(119),M=i(61),A=i(75),D=A("splice"),C=f.TypeError,B=Math.max,z=Math.min,X=9007199254740991,$="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!D},{splice:function(oe,ee){var J=E(this),ue=S(J),L=y(oe,ue),U=arguments.length,I,w,R,W,Q,ce;if(U===0?I=w=0:U===1?(I=0,w=ue-L):(I=U-2,w=z(B(b(ee),0),ue-L)),ue+I-w>X)throw C($);for(R=P(J,w),W=0;W<w;W++)Q=L+W,Q in J&&M(R,W,J[Q]);if(R.length=w,I<w){for(W=L;W<ue-w;W++)Q=W+w,ce=W+I,Q in J?J[ce]=J[Q]:delete J[ce];for(W=ue;W>ue-w+I;W--)delete J[W-1]}else if(I>w)for(W=ue-w;W>L;W--)Q=W+w-1,ce=W+I-1,Q in J?J[ce]=J[Q]:delete J[ce];for(W=0;W<I;W++)J[W+L]=arguments[W+2];return J.length=ue-w+I,R}})},function(u,c,i){var s=i(16),f=i(201),y=i(202);s({target:"String",proto:!0,forced:y("anchor")},{anchor:function(S){return f(this,"a","name",S)}})},function(u,c,i){(function(s){var f=typeof s=="object"&&s&&s.Object===Object&&s;c.a=f}).call(this,i(82))},function(u,c,i){(function(s){var f=i(31),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,S=b&&b.exports===y,E=S?f.a.Buffer:void 0,P=E?E.allocUnsafe:void 0;function M(A,D){if(D)return A.slice();var C=A.length,B=P?P(C):new A.constructor(C);return A.copy(B),B}c.a=M}).call(this,i(121)(u))},function(u,c,i){var s=i(7),f=i(108),y="__core-js_shared__",b=s[y]||f(y,{});u.exports=b},function(u,c,i){var s=i(7),f=Object.defineProperty;u.exports=function(y,b){try{f(s,y,{value:b,configurable:!0,writable:!0})}catch(S){s[y]=b}return b}},function(u,c,i){var s=i(65),f=i(18);u.exports=!!Object.getOwnPropertySymbols&&!f(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&s&&s<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var s=i(16),f=i(35),y=i(64),b=i(94),S=i(28),E=i(171),P=i(96),M=i(97),A=i(73),D=i(57),C=i(44),B=i(27),z=i(70),X=i(136),$=b.PROPER,ie=b.CONFIGURABLE,oe=X.IteratorPrototype,ee=X.BUGGY_SAFARI_ITERATORS,J=B("iterator"),ue="keys",L="values",U="entries",I=function(){return this};u.exports=function(w,R,W,Q,ce,Te,me){E(W,R,Q);var Oe=function(k){if(k===ce&&Ve)return Ve;if(!ee&&k in Ne)return Ne[k];switch(k){case ue:return function(){return new W(this,k)};case L:return function(){return new W(this,k)};case U:return function(){return new W(this,k)}}return function(){return new W(this)}},Pe=R+" Iterator",Ee=!1,Ne=w.prototype,Le=Ne[J]||Ne["@@iterator"]||ce&&Ne[ce],Ve=!ee&&Le||Oe(ce),Be=R=="Array"&&Ne.entries||Le,Se,Ie,ke;if(Be&&(Se=P(Be.call(new w)),Se!==Object.prototype&&Se.next&&(!y&&P(Se)!==oe&&(M?M(Se,oe):S(Se[J])||C(Se,J,I)),A(Se,Pe,!0,!0),y&&(z[Pe]=I))),$&&ce==L&&Le&&Le.name!==L&&(!y&&ie?D(Ne,"name",L):(Ee=!0,Ve=function(){return f(Le,this)})),ce)if(Ie={values:Oe(L),keys:Te?Ve:Oe(ue),entries:Oe(U)},me)for(ke in Ie)(ee||Ee||!(ke in Ne))&&C(Ne,ke,Ie[ke]);else s({target:R,proto:!0,forced:ee||Ee},Ie);return(!y||me)&&Ne[J]!==Ve&&C(Ne,J,Ve,{name:ce}),z[R]=Ve,Ie}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var s=i(7),f=i(67),y=i(43),b=i(61),S=s.Array,E=Math.max;u.exports=function(P,M,A){for(var D=y(P),C=f(M,D),B=f(A===void 0?D:A,D),z=S(E(B-C,0)),X=0;C<B;C++,X++)b(z,X,P[C]);return z.length=X,z}},function(u,c,i){var s=i(7),f=i(62),y=i(35),b=i(32),S=i(89),E=i(140),P=i(43),M=i(58),A=i(141),D=i(115),C=i(142),B=s.TypeError,z=function($,ie){this.stopped=$,this.result=ie},X=z.prototype;u.exports=function($,ie,oe){var ee=oe&&oe.that,J=!!(oe&&oe.AS_ENTRIES),ue=!!(oe&&oe.IS_ITERATOR),L=!!(oe&&oe.INTERRUPTED),U=f(ie,ee),I,w,R,W,Q,ce,Te,me=function(Pe){return I&&C(I,"normal",Pe),new z(!0,Pe)},Oe=function(Pe){return J?(b(Pe),L?U(Pe[0],Pe[1],me):U(Pe[0],Pe[1])):L?U(Pe,me):U(Pe)};if(ue)I=$;else{if(w=D($),!w)throw B(S($)+" is not iterable");if(E(w)){for(R=0,W=P($);W>R;R++)if(Q=Oe($[R]),Q&&M(X,Q))return Q;return new z(!1)}I=A($,w)}for(ce=I.next;!(Te=y(ce,I)).done;){try{Q=Oe(Te.value)}catch(Pe){C(I,"throw",Pe)}if(typeof Q=="object"&&Q&&M(X,Q))return Q}return new z(!1)}},function(u,c,i){var s=i(98),f=i(59),y=i(70),b=i(27),S=b("iterator");u.exports=function(E){if(E!=null)return f(E,S)||f(E,"@@iterator")||y[s(E)]}},function(u,c,i){var s=i(27),f=s("toStringTag"),y={};y[f]="z",u.exports=String(y)==="[object z]"},function(u,c,i){var s=i(7),f=i(58),y=s.TypeError;u.exports=function(b,S){if(f(S,b))return b;throw y("Incorrect invocation")}},function(u,c,i){var s=i(27),f=s("iterator"),y=!1;try{var b=0,S={next:function(){return{done:!!b++}},return:function(){y=!0}};S[f]=function(){return this},Array.from(S,function(){throw 2})}catch(E){}u.exports=function(E,P){if(!P&&!y)return!1;var M=!1;try{var A={};A[f]=function(){return{next:function(){return{done:M=!0}}}},E(A)}catch(D){}return M}},function(u,c,i){var s=i(180);u.exports=function(f,y){return new(s(f))(y===0?0:y)}},function(u,c,i){var s=i(18);u.exports=function(f,y){var b=[][f];return!!b&&s(function(){b.call(null,y||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var s=Object.create(i);s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),Object.defineProperty(s,"exports",{enumerable:!0}),s.webpackPolyfill=1}return s}},function(u,c,i){i(19);var s=i(15),f=i(44),y=i(102),b=i(18),S=i(27),E=i(57),P=S("species"),M=RegExp.prototype;u.exports=function(A,D,C,B){var z=S(A),X=!b(function(){var ee={};return ee[z]=function(){return 7},""[A](ee)!=7}),$=X&&!b(function(){var ee=!1,J=/a/;return A==="split"&&(J={},J.constructor={},J.constructor[P]=function(){return J},J.flags="",J[z]=/./[z]),J.exec=function(){return ee=!0,null},J[z](""),!ee});if(!X||!$||C){var ie=s(/./[z]),oe=D(z,""[A],function(ee,J,ue,L,U){var I=s(ee),w=J.exec;return w===y||w===M.exec?X&&!U?{done:!0,value:ie(J,ue,L)}:{done:!0,value:I(ue,J,L)}:{done:!1}});f(String.prototype,A,oe[0]),f(M,z,oe[1])}B&&E(M[z],"sham",!0)}},function(u,c,i){var s=i(146).charAt;u.exports=function(f,y,b){return y+(b?s(f,y).length:1)}},function(u,c,i){var s=i(7),f=i(35),y=i(32),b=i(28),S=i(50),E=i(102),P=s.TypeError;u.exports=function(M,A){var D=M.exec;if(b(D)){var C=f(D,M,A);return C!==null&&y(C),C}if(S(M)==="RegExp")return f(E,M,A);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var s=i(76),f=i(35),y=i(15),b=i(122),S=i(18),E=i(32),P=i(28),M=i(68),A=i(90),D=i(40),C=i(45),B=i(123),z=i(59),X=i(197),$=i(124),ie=i(27),oe=ie("replace"),ee=Math.max,J=Math.min,ue=y([].concat),L=y([].push),U=y("".indexOf),I=y("".slice),w=function(ce){return ce===void 0?ce:String(ce)},R=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[oe]?/./[oe]("a","$0")==="":!1}(),Q=!S(function(){var ce=/./;return ce.exec=function(){var Te=[];return Te.groups={a:"7"},Te},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Te,me){var Oe=W?"$":"$0";return[function(Ee,Ne){var Le=C(this),Ve=Ee==null?void 0:z(Ee,oe);return Ve?f(Ve,Ee,Le,Ne):f(Te,D(Le),Ee,Ne)},function(Pe,Ee){var Ne=E(this),Le=D(Pe);if(typeof Ee=="string"&&U(Ee,Oe)===-1&&U(Ee,"$<")===-1){var Ve=me(Te,Ne,Le,Ee);if(Ve.done)return Ve.value}var Be=P(Ee);Be||(Ee=D(Ee));var Se=Ne.global;if(Se){var Ie=Ne.unicode;Ne.lastIndex=0}for(var ke=[];;){var k=$(Ne,Le);if(k===null||(L(ke,k),!Se))break;var Y=D(k[0]);Y===""&&(Ne.lastIndex=B(Le,A(Ne.lastIndex),Ie))}for(var q="",he=0,xe=0;xe<ke.length;xe++){k=ke[xe];for(var pe=D(k[0]),ze=ee(J(M(k.index),Le.length),0),tt=[],Ye=1;Ye<k.length;Ye++)L(tt,w(k[Ye]));var nt=k.groups;if(Be){var ve=ue([pe],tt,ze,Le);nt!==void 0&&L(ve,nt);var ut=D(s(Ee,void 0,ve))}else ut=X(pe,Le,ze,tt,nt,Ee);ze>=he&&(q+=I(Le,he,ze)+ut,he=ze+pe.length)}return q+I(Le,he)}]},!Q||!R||W)},function(u,c,i){var s=i(50),f=i(7);u.exports=s(f.process)=="process"},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var s=i(109);u.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var s=i(36),f=i(18),y=i(86);u.exports=!s&&!f(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var s=i(7),f=i(35),y=i(33),b=i(88),S=i(59),E=i(169),P=i(27),M=s.TypeError,A=P("toPrimitive");u.exports=function(D,C){if(!y(D)||b(D))return D;var B=S(D,A),z;if(B){if(C===void 0&&(C="default"),z=f(B,D,C),!y(z)||b(z))return z;throw M("Can't convert object to primitive value")}return C===void 0&&(C="number"),E(D,C)}},function(u,c,i){var s=i(15),f=i(34),y=i(39),b=i(132).indexOf,S=i(69),E=s([].push);u.exports=function(P,M){var A=y(P),D=0,C=[],B;for(B in A)!f(S,B)&&f(A,B)&&E(C,B);for(;M.length>D;)f(A,B=M[D++])&&(~b(C,B)||E(C,B));return C}},function(u,c,i){var s=i(39),f=i(67),y=i(43),b=function(S){return function(E,P,M){var A=s(E),D=y(A),C=f(M,D),B;if(S&&P!=P){for(;D>C;)if(B=A[C++],B!=B)return!0}else for(;D>C;C++)if((S||C in A)&&A[C]===P)return S||C||0;return!S&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var s=i(46);u.exports=s("document","documentElement")},function(u,c,i){var s=i(34),f=i(135),y=i(51),b=i(37);u.exports=function(S,E){for(var P=f(E),M=b.f,A=y.f,D=0;D<P.length;D++){var C=P[D];s(S,C)||M(S,C,A(E,C))}}},function(u,c,i){var s=i(46),f=i(15),y=i(72),b=i(112),S=i(32),E=f([].concat);u.exports=s("Reflect","ownKeys")||function(M){var A=y.f(S(M)),D=b.f;return D?E(A,D(M)):A}},function(u,c,i){var s=i(18),f=i(28),y=i(54),b=i(96),S=i(44),E=i(27),P=i(64),M=E("iterator"),A=!1,D,C,B;[].keys&&(B=[].keys(),"next"in B?(C=b(b(B)),C!==Object.prototype&&(D=C)):A=!0);var z=D==null||s(function(){var X={};return D[M].call(X)!==X});z?D={}:P&&(D=y(D)),f(D[M])||S(D,M,function(){return this}),u.exports={IteratorPrototype:D,BUGGY_SAFARI_ITERATORS:A}},function(u,c,i){var s=i(18);u.exports=!s(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(u,c,i){var s=i(16),f=i(15),y=i(69),b=i(33),S=i(34),E=i(37).f,P=i(72),M=i(139),A=i(174),D=i(85),C=i(176),B=!1,z=D("meta"),X=0,$=function(L){E(L,z,{value:{objectID:"O"+X++,weakData:{}}})},ie=function(L,U){if(!b(L))return typeof L=="symbol"?L:(typeof L=="string"?"S":"P")+L;if(!S(L,z)){if(!A(L))return"F";if(!U)return"E";$(L)}return L[z].objectID},oe=function(L,U){if(!S(L,z)){if(!A(L))return!0;if(!U)return!1;$(L)}return L[z].weakData},ee=function(L){return C&&B&&A(L)&&!S(L,z)&&$(L),L},J=function(){ue.enable=function(){},B=!0;var L=P.f,U=f([].splice),I={};I[z]=1,L(I).length&&(P.f=function(w){for(var R=L(w),W=0,Q=R.length;W<Q;W++)if(R[W]===z){U(R,W,1);break}return R},s({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:M.f}))},ue=u.exports={enable:J,fastKey:ie,getWeakData:oe,onFreeze:ee};y[z]=!0},function(u,c,i){var s=i(50),f=i(39),y=i(72).f,b=i(113),S=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],E=function(P){try{return y(P)}catch(M){return b(S)}};u.exports.f=function(M){return S&&s(M)=="Window"?E(M):y(f(M))}},function(u,c,i){var s=i(27),f=i(70),y=s("iterator"),b=Array.prototype;u.exports=function(S){return S!==void 0&&(f.Array===S||b[y]===S)}},function(u,c,i){var s=i(7),f=i(35),y=i(55),b=i(32),S=i(89),E=i(115),P=s.TypeError;u.exports=function(M,A){var D=arguments.length<2?E(M):A;if(y(D))return b(f(D,M));throw P(S(M)+" is not iterable")}},function(u,c,i){var s=i(35),f=i(32),y=i(59);u.exports=function(b,S,E){var P,M;f(b);try{if(P=y(b,"return"),!P){if(S==="throw")throw E;return E}P=s(P,b)}catch(A){M=!0,P=A}if(S==="throw")throw E;if(M)throw P;return f(P),E}},function(u,c,i){var s=i(28),f=i(33),y=i(97);u.exports=function(b,S,E){var P,M;return y&&s(P=S.constructor)&&P!==E&&f(M=P.prototype)&&M!==E.prototype&&y(b,M),b}},function(u,c,i){var s=i(44);u.exports=function(f,y,b){for(var S in y)s(f,S,y[S],b);return f}},function(u,c,i){var s=i(46),f=i(37),y=i(27),b=i(36),S=y("species");u.exports=function(E){var P=s(E),M=f.f;b&&P&&!P[S]&&M(P,S,{configurable:!0,get:function(){return this}})}},function(u,c,i){var s=i(15),f=i(68),y=i(40),b=i(45),S=s("".charAt),E=s("".charCodeAt),P=s("".slice),M=function(A){return function(D,C){var B=y(b(D)),z=f(C),X=B.length,$,ie;return z<0||z>=X?A?"":void 0:($=E(B,z),$<55296||$>56319||z+1===X||(ie=E(B,z+1))<56320||ie>57343?A?S(B,z):$:A?P(B,z,z+2):($-55296<<10)+(ie-56320)+65536)}};u.exports={codeAt:M(!1),charAt:M(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var s=i(86),f=s("span").classList,y=f&&f.constructor&&f.constructor.prototype;u.exports=y===Object.prototype?void 0:y},function(u,c,i){var s=i(27);c.f=s},function(u,c,i){var s=i(181),f=i(34),y=i(149),b=i(37).f;u.exports=function(S){var E=s.Symbol||(s.Symbol={});f(E,S)||b(E,S,{value:y.f(S)})}},function(u,c,i){var s=i(18),f=i(7),y=f.RegExp,b=s(function(){var P=y("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),S=b||s(function(){return!y("a","y").sticky}),E=b||s(function(){var P=y("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:E,MISSED_STICKY:S,UNSUPPORTED_Y:b}},function(u,c,i){var s=i(16),f=i(132).includes,y=i(83);s({target:"Array",proto:!0},{includes:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(u,c,i){var s=i(16),f=i(15),y=i(193),b=i(45),S=i(40),E=i(194),P=f("".indexOf);s({target:"String",proto:!0,forced:!E("includes")},{includes:function(A){return!!~P(S(b(this)),S(y(A)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(33),f=i(50),y=i(27),b=y("match");u.exports=function(S){var E;return s(S)&&((E=S[b])!==void 0?!!E:f(S)=="RegExp")}},function(u,c){var i=u.exports={},s,f;function y(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=y}catch($){s=y}try{typeof clearTimeout=="function"?f=clearTimeout:f=b}catch($){f=b}})();function S($){if(s===setTimeout)return setTimeout($,0);if((s===y||!s)&&setTimeout)return s=setTimeout,setTimeout($,0);try{return s($,0)}catch(ie){try{return s.call(null,$,0)}catch(oe){return s.call(this,$,0)}}}function E($){if(f===clearTimeout)return clearTimeout($);if((f===b||!f)&&clearTimeout)return f=clearTimeout,clearTimeout($);try{return f($)}catch(ie){try{return f.call(null,$)}catch(oe){return f.call(this,$)}}}var P=[],M=!1,A,D=-1;function C(){!M||!A||(M=!1,A.length?P=A.concat(P):D=-1,P.length&&B())}function B(){if(!M){var $=S(C);M=!0;for(var ie=P.length;ie;){for(A=P,P=[];++D<ie;)A&&A[D].run();D=-1,ie=P.length}A=null,M=!1,E($)}}i.nextTick=function($){var ie=new Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)ie[oe-1]=arguments[oe];P.push(new z($,ie)),P.length===1&&!M&&S(B)};function z($,ie){this.fun=$,this.array=ie}z.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function X(){}i.on=X,i.addListener=X,i.once=X,i.off=X,i.removeListener=X,i.removeAllListeners=X,i.emit=X,i.prependListener=X,i.prependOnceListener=X,i.listeners=function($){return[]},i.binding=function($){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function($){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var s=i(32),f=i(157),y=i(27),b=y("species");u.exports=function(S,E){var P=s(S).constructor,M;return P===void 0||(M=s(P)[b])==null?E:f(M)}},function(u,c,i){var s=i(7),f=i(100),y=i(89),b=s.TypeError;u.exports=function(S){if(f(S))return S;throw b(y(S)+" is not a constructor")}},function(u,c,i){var s=i(16),f=i(159).trim,y=i(195);s({target:"String",proto:!0,forced:y("trim")},{trim:function(){return f(this)}})},function(u,c,i){var s=i(15),f=i(45),y=i(40),b=i(160),S=s("".replace),E="["+b+"]",P=RegExp("^"+E+E+"*"),M=RegExp(E+E+"*$"),A=function(D){return function(C){var B=y(f(C));return D&1&&(B=S(B,P,"")),D&2&&(B=S(B,M,"")),B}};u.exports={start:A(1),end:A(2),trim:A(3)}},function(u,c){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(u,c,i){var s=i(35),f=i(122),y=i(32),b=i(90),S=i(40),E=i(45),P=i(59),M=i(123),A=i(124);f("match",function(D,C,B){return[function(X){var $=E(this),ie=X==null?void 0:P(X,D);return ie?s(ie,X,$):new RegExp(X)[D](S($))},function(z){var X=y(this),$=S(z),ie=B(C,X,$);if(ie.done)return ie.value;if(!X.global)return A(X,$);var oe=X.unicode;X.lastIndex=0;for(var ee=[],J=0,ue;(ue=A(X,$))!==null;){var L=S(ue[0]);ee[J]=L,L===""&&(X.lastIndex=M($,b(X.lastIndex),oe)),J++}return J===0?null:ee}]})},function(u,c,i){var s=i(7),f=i(76),y=i(62),b=i(28),S=i(34),E=i(18),P=i(133),M=i(101),A=i(86),D=i(163),C=i(126),B=s.setImmediate,z=s.clearImmediate,X=s.process,$=s.Dispatch,ie=s.Function,oe=s.MessageChannel,ee=s.String,J=0,ue={},L="onreadystatechange",U,I,w,R;try{U=s.location}catch(me){}var W=function(me){if(S(ue,me)){var Oe=ue[me];delete ue[me],Oe()}},Q=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Te=function(me){s.postMessage(ee(me),U.protocol+"//"+U.host)};(!B||!z)&&(B=function(Oe){var Pe=M(arguments,1);return ue[++J]=function(){f(b(Oe)?Oe:ie(Oe),void 0,Pe)},I(J),J},z=function(Oe){delete ue[Oe]},C?I=function(me){X.nextTick(Q(me))}:$&&$.now?I=function(me){$.now(Q(me))}:oe&&!D?(w=new oe,R=w.port2,w.port1.onmessage=ce,I=y(R.postMessage,R)):s.addEventListener&&b(s.postMessage)&&!s.importScripts&&U&&U.protocol!=="file:"&&!E(Te)?(I=Te,s.addEventListener("message",ce,!1)):L in A("script")?I=function(me){P.appendChild(A("script"))[L]=function(){P.removeChild(this),W(me)}}:I=function(me){setTimeout(Q(me),0)}),u.exports={set:B,clear:z}},function(u,c,i){var s=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},function(u,c,i){var s=i(55),f=function(y){var b,S;this.promise=new y(function(E,P){if(b!==void 0||S!==void 0)throw TypeError("Bad Promise constructor");b=E,S=P}),this.resolve=s(b),this.reject=s(S)};u.exports.f=function(y){return new f(y)}},function(u,c,i){function s(){return!1}c.a=s},function(u,c,i){(function(s){i.d(c,"a",function(){return J});var f=i(0);function y(L){throw new Error("[mobx-utils] "+L)}function b(L,U){U===void 0&&(U="Illegal state"),L||y(U)}var S=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(S(Object.getPrototypeOf(L))||[])},E=function(L){var U=S(L),I=U.filter(function(w,R){return U.indexOf(w)===R});return I},P=function(L){return E(L).filter(function(U){return U!=="constructor"&&!~U.indexOf("__")})},M="pending",A="fulfilled",D="rejected";function C(L){switch(this.state){case M:return L.pending&&L.pending(this.value);case D:return L.rejected&&L.rejected(this.value);case A:return L.fulfilled?L.fulfilled(this.value):this.value}}function B(L,U){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var I=L;L.then(Object(f.k)("observableFromPromise-resolve",function(R){I.value=R,I.state=A}),Object(f.k)("observableFromPromise-reject",function(R){I.value=R,I.state=D})),I.isPromiseBasedObservable=!0,I.case=C;var w=U&&U.state===A?U.value:void 0;return Object(f.q)(I,{value:w,state:M},{},{deep:!1}),I}(function(L){L.reject=Object(f.k)("fromPromise.reject",function(I){var w=L(Promise.reject(I));return w.state=D,w.value=I,w});function U(I){I===void 0&&(I=void 0);var w=L(Promise.resolve(I));return w.state=A,w.value=I,w}L.resolve=Object(f.k)("fromPromise.resolve",U)})(B||(B={}));var z=function(L,U,I,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,I):w,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,U,I,w);else for(var ce=L.length-1;ce>=0;ce--)(Q=L[ce])&&(W=(R<3?Q(W):R>3?Q(U,I,W):Q(U,I))||W);return R>3&&W&&Object.defineProperty(U,I,W),W};(function(){function L(U,I){var w=this;Object(f.G)(function(){w.current=I,w.subscription=U.subscribe(w)})}return L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function(U){this.current=U},L.prototype.complete=function(){this.dispose()},L.prototype.error=function(U){this.current=U,this.dispose()},z([f.C.ref],L.prototype,"current",void 0),z([f.k.bound],L.prototype,"next",null),z([f.k.bound],L.prototype,"complete",null),z([f.k.bound],L.prototype,"error",null),L})();var X=function(){return X=Object.assign||function(L){for(var U,I=1,w=arguments.length;I<w;I++){U=arguments[I];for(var R in U)Object.prototype.hasOwnProperty.call(U,R)&&(L[R]=U[R])}return L},X.apply(this,arguments)},$=function(L,U,I,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,I):w,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,U,I,w);else for(var ce=L.length-1;ce>=0;ce--)(Q=L[ce])&&(W=(R<3?Q(W):R>3?Q(U,I,W):Q(U,I))||W);return R>3&&W&&Object.defineProperty(U,I,W),W},ie=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L(U){var I=this;this.model=U,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(w){return I.localValues.has(w)},b(Object(f.A)(U),"createViewModel expects an observable object"),P(U).forEach(function(w){if(!(w===f.a||w==="__mobxDidRunLazyInitializers")){if(b(ie.indexOf(w)===-1,"The propertyname "+w+" is reserved and cannot be used with viewModels"),Object(f.w)(U,w)){var R=Object(f.h)(U,w).derivation;I.localComputedValues.set(w,Object(f.m)(R.bind(I)))}var W=Object.getOwnPropertyDescriptor(U,w),Q=W?{enumerable:W.enumerable}:{};Object.defineProperty(I,w,X(X({},Q),{configurable:!0,get:function(){return Object(f.w)(U,w)?I.localComputedValues.get(w).get():I.isPropertyDirty(w)?I.localValues.get(w):I.model[w]},set:Object(f.k)(function(ce){ce!==I.model[w]?I.localValues.set(w,ce):I.localValues.delete(w)})}))}})}return Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var U=this;Object(f.B)(this.localValues).forEach(function(I){var w=U.localValues.get(I),R=U.model[I];Object(f.y)(R)?R.replace(w):Object(f.z)(R)?(R.clear(),R.merge(w)):Object(f.v)(w)||(U.model[I]=w)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function(U){this.localValues.delete(U)},$([f.m],L.prototype,"isDirty",null),$([f.m],L.prototype,"changedValues",null),$([f.k.bound],L.prototype,"submit",null),$([f.k.bound],L.prototype,"reset",null),$([f.k.bound],L.prototype,"resetProperty",null),L})();function oe(L){if(!L)return"ROOT";for(var U=[];L.parent;)U.push(L.path),L=L.parent;return U.reverse().join("/")}function ee(L){return Object(f.A)(L)||Object(f.y)(L)||Object(f.z)(L)}function J(L,U){var I=new WeakMap;function w(ce){var Te=I.get(ce.object);R(ce,Te),U(ce,oe(Te),L)}function R(ce,Te){switch(ce.type){case"add":W(ce.newValue,Te,ce.name);break;case"update":Q(ce.oldValue),W(ce.newValue,Te,ce.name||""+ce.index);break;case"remove":case"delete":Q(ce.oldValue);break;case"splice":ce.removed.map(Q),ce.added.forEach(function(Pe,Ee){return W(Pe,Te,""+(ce.index+Ee))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(ee(ce.object[me])){var Oe=I.get(ce.object[me]);Oe&&(Oe.path=""+me)}break}}function W(ce,Te,me){if(ee(ce)){var Oe=I.get(ce);if(Oe){if(Oe.parent!==Te||Oe.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+oe(Te)+"/"+me+"',")+(" but it already exists at '"+oe(Oe.parent)+"/"+Oe.path+"'"))}else{var Pe={parent:Te,path:me,dispose:Object(f.D)(ce,w)};I.set(ce,Pe),Object(f.p)(ce).forEach(function(Ee){var Ne=Ee[0],Le=Ee[1];return W(Le,Pe,Ne)})}}}function Q(ce){if(ee(ce)){var Te=I.get(ce);if(!Te)return;I.delete(ce),Te.dispose(),Object(f.L)(ce).forEach(Q)}}return W(L,void 0,""),function(){Q(L)}}var ue=function(){var L=function(U,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var W in R)R.hasOwnProperty(W)&&(w[W]=R[W])},L(U,I)};return function(U,I){L(U,I);function w(){this.constructor=U}U.prototype=I===null?Object.create(I):(w.prototype=I.prototype,new w)}}();(function(L){ue(U,L);function U(I,w,R){var W=R===void 0?{}:R,Q=W.name,ce=Q===void 0?"ogm"+(Math.random()*1e3|0):Q,Te=W.keyToName,me=Te===void 0?function(Ee){return""+Ee}:Te,Oe=L.call(this)||this;Oe._keyToName=me,Oe._groupBy=w,Oe._ogmInfoKey=Symbol("ogmInfo"+ce),Oe._base=I;for(var Pe=0;Pe<I.length;Pe++)Oe._addItem(I[Pe]);return Oe._disposeBaseObserver=Object(f.D)(Oe._base,function(Ee){if(Ee.type==="splice")Object(f.J)(function(){for(var Ne=0,Le=Ee.removed;Ne<Le.length;Ne++){var Ve=Le[Ne];Oe._removeItem(Ve)}for(var Be=0,Se=Ee.added;Be<Se.length;Be++){var Ie=Se[Be];Oe._addItem(Ie)}});else if(Ee.type==="update")Object(f.J)(function(){Oe._removeItem(Ee.oldValue),Oe._addItem(Ee.newValue)});else throw new Error("illegal state")}),Oe}return U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(I){throw new Error("not supported")},U.prototype.set=function(I,w){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var w=this._base[I],R=w[this._ogmInfoKey];R.reaction(),delete w[this._ogmInfoKey]}},U.prototype._getGroupArr=function(I){var w=L.prototype.get.call(this,I);return w===void 0&&(w=Object(f.C)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),L.prototype.set.call(this,I,w)),w},U.prototype._removeFromGroupArr=function(I,w){var R=L.prototype.get.call(this,I);R.length===1?L.prototype.delete.call(this,I):(w===R.length-1||(R[w]=R[R.length-1],R[w][this._ogmInfoKey].groupArrIndex=w),R.length--)},U.prototype._addItem=function(I){var w=this,R=this._groupBy(I),W=this._getGroupArr(R),Q={groupByValue:R,groupArrIndex:W.length,reaction:Object(f.F)(function(){return w._groupBy(I)},function(ce,Te){var me=I[w._ogmInfoKey];w._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var Oe=w._getGroupArr(ce),Pe=Oe.length;Oe.push(I),me.groupByValue=ce,me.groupArrIndex=Pe})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Q}),W.push(I)},U.prototype._removeItem=function(I){var w=I[this._ogmInfoKey];this._removeFromGroupArr(w.groupByValue,w.groupArrIndex),w.reaction(),delete I[this._ogmInfoKey]},U})(f.b),Promise.resolve(),typeof queueMicrotask!="undefined"||typeof s!="undefined"&&s.nextTick}).call(this,i(155))},function(u,c,i){var s;(function(f,y,b){if(!f)return;for(var S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},E={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A,D=1;D<20;++D)S[111+D]="f"+D;for(D=0;D<=9;++D)S[D+96]=D.toString();function C(w,R,W){if(w.addEventListener){w.addEventListener(R,W,!1);return}w.attachEvent("on"+R,W)}function B(w){if(w.type=="keypress"){var R=String.fromCharCode(w.which);return w.shiftKey||(R=R.toLowerCase()),R}return S[w.which]?S[w.which]:E[w.which]?E[w.which]:String.fromCharCode(w.which).toLowerCase()}function z(w,R){return w.sort().join(",")===R.sort().join(",")}function X(w){var R=[];return w.shiftKey&&R.push("shift"),w.altKey&&R.push("alt"),w.ctrlKey&&R.push("ctrl"),w.metaKey&&R.push("meta"),R}function $(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function ie(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function oe(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function ee(){if(!A){A={};for(var w in S)w>95&&w<112||S.hasOwnProperty(w)&&(A[S[w]]=w)}return A}function J(w,R,W){return W||(W=ee()[w]?"keydown":"keypress"),W=="keypress"&&R.length&&(W="keydown"),W}function ue(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function L(w,R){var W,Q,ce,Te=[];for(W=ue(w),ce=0;ce<W.length;++ce)Q=W[ce],M[Q]&&(Q=M[Q]),R&&R!="keypress"&&P[Q]&&(Q=P[Q],Te.push("shift")),oe(Q)&&Te.push(Q);return R=J(Q,Te,R),{key:Q,modifiers:Te,action:R}}function U(w,R){return w===null||w===y?!1:w===R?!0:U(w.parentNode,R)}function I(w){var R=this;if(w=w||y,!(R instanceof I))return new I(w);R.target=w,R._callbacks={},R._directMap={};var W={},Q,ce=!1,Te=!1,me=!1;function Oe(Se){Se=Se||{};var Ie=!1,ke;for(ke in W){if(Se[ke]){Ie=!0;continue}W[ke]=0}Ie||(me=!1)}function Pe(Se,Ie,ke,k,Y,q){var he,xe,pe=[],ze=ke.type;if(!R._callbacks[Se])return[];for(ze=="keyup"&&oe(Se)&&(Ie=[Se]),he=0;he<R._callbacks[Se].length;++he)if(xe=R._callbacks[Se][he],!(!k&&xe.seq&&W[xe.seq]!=xe.level)&&ze==xe.action&&(ze=="keypress"&&!ke.metaKey&&!ke.ctrlKey||z(Ie,xe.modifiers))){var tt=!k&&xe.combo==Y,Ye=k&&xe.seq==k&&xe.level==q;(tt||Ye)&&R._callbacks[Se].splice(he,1),pe.push(xe)}return pe}function Ee(Se,Ie,ke,k){R.stopCallback(Ie,Ie.target||Ie.srcElement,ke,k)||Se(Ie,ke)===!1&&($(Ie),ie(Ie))}R._handleKey=function(Se,Ie,ke){var k=Pe(Se,Ie,ke),Y,q={},he=0,xe=!1;for(Y=0;Y<k.length;++Y)k[Y].seq&&(he=Math.max(he,k[Y].level));for(Y=0;Y<k.length;++Y){if(k[Y].seq){if(k[Y].level!=he)continue;xe=!0,q[k[Y].seq]=1,Ee(k[Y].callback,ke,k[Y].combo,k[Y].seq);continue}xe||Ee(k[Y].callback,ke,k[Y].combo)}var pe=ke.type=="keypress"&&Te;ke.type==me&&!oe(Se)&&!pe&&Oe(q),Te=xe&&ke.type=="keydown"};function Ne(Se){typeof Se.which!="number"&&(Se.which=Se.keyCode);var Ie=B(Se);if(!!Ie){if(Se.type=="keyup"&&ce===Ie){ce=!1;return}R.handleKey(Ie,X(Se),Se)}}function Le(){clearTimeout(Q),Q=setTimeout(Oe,1e3)}function Ve(Se,Ie,ke,k){W[Se]=0;function Y(ze){return function(){me=ze,++W[Se],Le()}}function q(ze){Ee(ke,ze,Se),k!=="keyup"&&(ce=B(ze)),setTimeout(Oe,10)}for(var he=0;he<Ie.length;++he){var xe=he+1===Ie.length,pe=xe?q:Y(k||L(Ie[he+1]).action);Be(Ie[he],pe,k,Se,he)}}function Be(Se,Ie,ke,k,Y){R._directMap[Se+":"+ke]=Ie,Se=Se.replace(/\s+/g," ");var q=Se.split(" "),he;if(q.length>1){Ve(Se,q,Ie,ke);return}he=L(Se,ke),R._callbacks[he.key]=R._callbacks[he.key]||[],Pe(he.key,he.modifiers,{type:he.action},k,Se,Y),R._callbacks[he.key][k?"unshift":"push"]({callback:Ie,modifiers:he.modifiers,action:he.action,seq:k,level:Y,combo:Se})}R._bindMultiple=function(Se,Ie,ke){for(var k=0;k<Se.length;++k)Be(Se[k],Ie,ke)},C(w,"keypress",Ne),C(w,"keydown",Ne),C(w,"keyup",Ne)}I.prototype.bind=function(w,R,W){var Q=this;return w=w instanceof Array?w:[w],Q._bindMultiple.call(Q,w,R,W),Q},I.prototype.unbind=function(w,R){var W=this;return W.bind.call(W,w,function(){},R)},I.prototype.trigger=function(w,R){var W=this;return W._directMap[w+":"+R]&&W._directMap[w+":"+R]({},w),W},I.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},I.prototype.stopCallback=function(w,R){var W=this;if((" "+R.className+" ").indexOf(" mousetrap ")>-1||U(R,W.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var Q=w.composedPath()[0];Q!==w.target&&(R=Q)}return R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},I.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},I.addKeycodes=function(w){for(var R in w)w.hasOwnProperty(R)&&(S[R]=w[R]);A=null},I.init=function(){var w=I(y);for(var R in w)R.charAt(0)!=="_"&&(I[R]=function(W){return function(){return w[W].apply(w,arguments)}}(R))},I.init(),f.Mousetrap=I,u.exports&&(u.exports=I),s=function(){return I}.call(c,i,c,u),s!==b&&(u.exports=s)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(u,c,i){var s=i(36),f=i(37),y=i(32),b=i(39),S=i(66);u.exports=s?Object.defineProperties:function(P,M){y(P);for(var A=b(M),D=S(M),C=D.length,B=0,z;C>B;)f.f(P,z=D[B++],A[z]);return P}},function(u,c,i){var s=i(7),f=i(35),y=i(28),b=i(33),S=s.TypeError;u.exports=function(E,P){var M,A;if(P==="string"&&y(M=E.toString)&&!b(A=f(M,E))||y(M=E.valueOf)&&!b(A=f(M,E))||P!=="string"&&y(M=E.toString)&&!b(A=f(M,E)))return A;throw S("Can't convert object to primitive value")}},function(u,c,i){var s=i(7),f=i(28),y=i(92),b=s.WeakMap;u.exports=f(b)&&/native code/.test(y(b))},function(u,c,i){var s=i(136).IteratorPrototype,f=i(54),y=i(71),b=i(73),S=i(70),E=function(){return this};u.exports=function(P,M,A,D){var C=M+" Iterator";return P.prototype=f(s,{next:y(+!D,A)}),b(P,C,!1,!0),S[C]=E,P}},function(u,c,i){var s=i(7),f=i(28),y=s.String,b=s.TypeError;u.exports=function(S){if(typeof S=="object"||f(S))return S;throw b("Can't set "+y(S)+" as a prototype")}},function(u,c,i){var s=i(16),f=i(7),y=i(15),b=i(95),S=i(44),E=i(138),P=i(114),M=i(117),A=i(28),D=i(33),C=i(18),B=i(118),z=i(73),X=i(143);u.exports=function($,ie,oe){var ee=$.indexOf("Map")!==-1,J=$.indexOf("Weak")!==-1,ue=ee?"set":"add",L=f[$],U=L&&L.prototype,I=L,w={},R=function(Pe){var Ee=y(U[Pe]);S(U,Pe,Pe=="add"?function(Le){return Ee(this,Le===0?0:Le),this}:Pe=="delete"?function(Ne){return J&&!D(Ne)?!1:Ee(this,Ne===0?0:Ne)}:Pe=="get"?function(Le){return J&&!D(Le)?void 0:Ee(this,Le===0?0:Le)}:Pe=="has"?function(Le){return J&&!D(Le)?!1:Ee(this,Le===0?0:Le)}:function(Le,Ve){return Ee(this,Le===0?0:Le,Ve),this})},W=b($,!A(L)||!(J||U.forEach&&!C(function(){new L().entries().next()})));if(W)I=oe.getConstructor(ie,$,ee,ue),E.enable();else if(b($,!0)){var Q=new I,ce=Q[ue](J?{}:-0,1)!=Q,Te=C(function(){Q.has(1)}),me=B(function(Pe){new L(Pe)}),Oe=!J&&C(function(){for(var Pe=new L,Ee=5;Ee--;)Pe[ue](Ee,Ee);return!Pe.has(-0)});me||(I=ie(function(Pe,Ee){M(Pe,U);var Ne=X(new L,Pe,I);return Ee!=null&&P(Ee,Ne[ue],{that:Ne,AS_ENTRIES:ee}),Ne}),I.prototype=U,U.constructor=I),(Te||Oe)&&(R("delete"),R("has"),ee&&R("get")),(Oe||ce)&&R(ue),J&&U.clear&&delete U.clear}return w[$]=I,s({global:!0,forced:I!=L},w),z(I,$),J||oe.setStrong(I,$,ee),I}},function(u,c,i){var s=i(18),f=i(33),y=i(50),b=i(175),S=Object.isExtensible,E=s(function(){});u.exports=E||b?function(M){return!f(M)||b&&y(M)=="ArrayBuffer"?!1:S?S(M):!0}:S},function(u,c,i){var s=i(18);u.exports=s(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var s=i(37).f,f=i(54),y=i(144),b=i(62),S=i(117),E=i(114),P=i(111),M=i(145),A=i(36),D=i(138).fastKey,C=i(56),B=C.set,z=C.getterFor;u.exports={getConstructor:function(X,$,ie,oe){var ee=X(function(I,w){S(I,J),B(I,{type:$,index:f(null),first:void 0,last:void 0,size:0}),A||(I.size=0),w!=null&&E(w,I[oe],{that:I,AS_ENTRIES:ie})}),J=ee.prototype,ue=z($),L=function(I,w,R){var W=ue(I),Q=U(I,w),ce,Te;return Q?Q.value=R:(W.last=Q={index:Te=D(w,!0),key:w,value:R,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=Q),ce&&(ce.next=Q),A?W.size++:I.size++,Te!=="F"&&(W.index[Te]=Q)),I},U=function(I,w){var R=ue(I),W=D(w),Q;if(W!=="F")return R.index[W];for(Q=R.first;Q;Q=Q.next)if(Q.key==w)return Q};return y(J,{clear:function(){for(var w=this,R=ue(w),W=R.index,Q=R.first;Q;)Q.removed=!0,Q.previous&&(Q.previous=Q.previous.next=void 0),delete W[Q.index],Q=Q.next;R.first=R.last=void 0,A?R.size=0:w.size=0},delete:function(I){var w=this,R=ue(w),W=U(w,I);if(W){var Q=W.next,ce=W.previous;delete R.index[W.index],W.removed=!0,ce&&(ce.next=Q),Q&&(Q.previous=ce),R.first==W&&(R.first=Q),R.last==W&&(R.last=ce),A?R.size--:w.size--}return!!W},forEach:function(w){for(var R=ue(this),W=b(w,arguments.length>1?arguments[1]:void 0),Q;Q=Q?Q.next:R.first;)for(W(Q.value,Q.key,this);Q&&Q.removed;)Q=Q.previous},has:function(w){return!!U(this,w)}}),y(J,ie?{get:function(w){var R=U(this,w);return R&&R.value},set:function(w,R){return L(this,w===0?0:w,R)}}:{add:function(w){return L(this,w=w===0?0:w,w)}}),A&&s(J,"size",{get:function(){return ue(this).size}}),ee},setStrong:function(X,$,ie){var oe=$+" Iterator",ee=z($),J=z(oe);P(X,$,function(ue,L){B(this,{type:oe,target:ue,state:ee(ue),kind:L,last:void 0})},function(){for(var ue=J(this),L=ue.kind,U=ue.last;U&&U.removed;)U=U.previous;return!ue.target||!(ue.last=U=U?U.next:ue.state.first)?(ue.target=void 0,{value:void 0,done:!0}):L=="keys"?{value:U.key,done:!1}:L=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}},ie?"entries":"values",!ie,!0),M($)}}},function(u,c,i){var s=i(116),f=i(98);u.exports=s?{}.toString:function(){return"[object "+f(this)+"]"}},function(u,c,i){var s=i(74).forEach,f=i(120),y=f("forEach");u.exports=y?[].forEach:function(S){return s(this,S,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var s=i(7),f=i(99),y=i(100),b=i(33),S=i(27),E=S("species"),P=s.Array;u.exports=function(M){var A;return f(M)&&(A=M.constructor,y(A)&&(A===P||f(A.prototype))?A=void 0:b(A)&&(A=A[E],A===null&&(A=void 0))),A===void 0?P:A}},function(u,c,i){var s=i(7);u.exports=s},function(u,c,i){var s=i(7),f=i(62),y=i(35),b=i(38),S=i(183),E=i(140),P=i(100),M=i(43),A=i(61),D=i(141),C=i(115),B=s.Array;u.exports=function(X){var $=b(X),ie=P(this),oe=arguments.length,ee=oe>1?arguments[1]:void 0,J=ee!==void 0;J&&(ee=f(ee,oe>2?arguments[2]:void 0));var ue=C($),L=0,U,I,w,R,W,Q;if(ue&&!(this==B&&E(ue)))for(R=D($,ue),W=R.next,I=ie?new this:[];!(w=y(W,R)).done;L++)Q=J?S(R,ee,[w.value,L],!0):w.value,A(I,L,Q);else for(U=M($),I=ie?new this(U):B(U);U>L;L++)Q=J?ee($[L],L):$[L],A(I,L,Q);return I.length=L,I}},function(u,c,i){var s=i(32),f=i(142);u.exports=function(y,b,S,E){try{return E?b(s(S)[0],S[1]):b(S)}catch(P){f(y,"throw",P)}}},function(u,c,i){var s=i(32);u.exports=function(){var f=s(this),y="";return f.global&&(y+="g"),f.ignoreCase&&(y+="i"),f.multiline&&(y+="m"),f.dotAll&&(y+="s"),f.unicode&&(y+="u"),f.sticky&&(y+="y"),y}},function(u,c,i){var s=i(18),f=i(7),y=f.RegExp;u.exports=s(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var s=i(18),f=i(7),y=f.RegExp;u.exports=s(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var s=i(16),f=i(15),y=i(55),b=i(38),S=i(43),E=i(40),P=i(18),M=i(188),A=i(120),D=i(189),C=i(190),B=i(65),z=i(191),X=[],$=f(X.sort),ie=f(X.push),oe=P(function(){X.sort(void 0)}),ee=P(function(){X.sort(null)}),J=A("sort"),ue=!P(function(){if(B)return B<70;if(!(D&&D>3)){if(C)return!0;if(z)return z<603;var I="",w,R,W,Q;for(w=65;w<76;w++){switch(R=String.fromCharCode(w),w){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(Q=0;Q<47;Q++)X.push({k:R+Q,v:W})}for(X.sort(function(ce,Te){return Te.v-ce.v}),Q=0;Q<X.length;Q++)R=X[Q].k.charAt(0),I.charAt(I.length-1)!==R&&(I+=R);return I!=="DGBEFHACIJK"}}),L=oe||!ee||!J||!ue,U=function(I){return function(w,R){return R===void 0?-1:w===void 0?1:I!==void 0?+I(w,R)||0:E(w)>E(R)?1:-1}};s({target:"Array",proto:!0,forced:L},{sort:function(w){w!==void 0&&y(w);var R=b(this);if(ue)return w===void 0?$(R):$(R,w);var W=[],Q=S(R),ce,Te;for(Te=0;Te<Q;Te++)Te in R&&ie(W,R[Te]);for(M(W,U(w)),ce=W.length,Te=0;Te<ce;)R[Te]=W[Te++];for(;Te<Q;)delete R[Te++];return R}})},function(u,c,i){var s=i(113),f=Math.floor,y=function(E,P){var M=E.length,A=f(M/2);return M<8?b(E,P):S(E,y(s(E,0,A),P),y(s(E,A),P),P)},b=function(E,P){for(var M=E.length,A=1,D,C;A<M;){for(C=A,D=E[A];C&&P(E[C-1],D)>0;)E[C]=E[--C];C!==A++&&(E[C]=D)}return E},S=function(E,P,M,A){for(var D=P.length,C=M.length,B=0,z=0;B<D||z<C;)E[B+z]=B<D&&z<C?A(P[B],M[z])<=0?P[B++]:M[z++]:B<D?P[B++]:M[z++];return E};u.exports=y},function(u,c,i){var s=i(53),f=s.match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,c,i){var s=i(53);u.exports=/MSIE|Trident/.test(s)},function(u,c,i){var s=i(53),f=s.match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,c,i){var s=i(16),f=i(74).find,y=i(83),b="find",S=!0;b in[]&&Array(1)[b](function(){S=!1}),s({target:"Array",proto:!0,forced:S},{find:function(P){return f(this,P,arguments.length>1?arguments[1]:void 0)}}),y(b)},function(u,c,i){var s=i(7),f=i(154),y=s.TypeError;u.exports=function(b){if(f(b))throw y("The method doesn't accept regular expressions");return b}},function(u,c,i){var s=i(27),f=s("match");u.exports=function(y){var b=/./;try{"/./"[y](b)}catch(S){try{return b[f]=!1,"/./"[y](b)}catch(E){}}return!1}},function(u,c,i){var s=i(94).PROPER,f=i(18),y=i(160),b="\u200B\x85\u180E";u.exports=function(S){return f(function(){return!!y[S]()||b[S]()!==b||s&&y[S].name!==S})}},function(u,c,i){var s=i(15);u.exports=s(1 .valueOf)},function(u,c,i){var s=i(15),f=i(38),y=Math.floor,b=s("".charAt),S=s("".replace),E=s("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;u.exports=function(A,D,C,B,z,X){var $=C+A.length,ie=B.length,oe=M;return z!==void 0&&(z=f(z),oe=P),S(X,oe,function(ee,J){var ue;switch(b(J,0)){case"$":return"$";case"&":return A;case"`":return E(D,0,C);case"'":return E(D,$);case"<":ue=z[E(J,1,-1)];break;default:var L=+J;if(L===0)return ee;if(L>ie){var U=y(L/10);return U===0?ee:U<=ie?B[U-1]===void 0?b(J,1):B[U-1]+b(J,1):ee}ue=B[L-1]}return ue===void 0?"":ue})}},function(u,c,i){var s=i(36),f=i(15),y=i(35),b=i(18),S=i(66),E=i(112),P=i(93),M=i(38),A=i(81),D=Object.assign,C=Object.defineProperty,B=f([].concat);u.exports=!D||b(function(){if(s&&D({b:1},D(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var z={},X={},$=Symbol(),ie="abcdefghijklmnopqrst";return z[$]=7,ie.split("").forEach(function(oe){X[oe]=oe}),D({},z)[$]!=7||S(D({},X)).join("")!=ie})?function(X,$){for(var ie=M(X),oe=arguments.length,ee=1,J=E.f,ue=P.f;oe>ee;)for(var L=A(arguments[ee++]),U=J?B(S(L),J(L)):S(L),I=U.length,w=0,R;I>w;)R=U[w++],(!s||y(ue,L,R))&&(ie[R]=L[R]);return ie}:D},function(u,c,i){var s=i(7),f=i(15),y=i(55),b=i(33),S=i(34),E=i(101),P=s.Function,M=f([].concat),A=f([].join),D={},C=function(B,z,X){if(!S(D,z)){for(var $=[],ie=0;ie<z;ie++)$[ie]="a["+ie+"]";D[z]=P("C,a","return new C("+A($,",")+")")}return D[z](B,X)};u.exports=P.bind||function(z){var X=y(this),$=X.prototype,ie=E(arguments,1),oe=function(){var J=M(ie,E(arguments));return this instanceof oe?C(X,J.length,J):X.apply(z,J)};return b($)&&(oe.prototype=$),oe}},function(u,c,i){var s=i(34);u.exports=function(f){return f!==void 0&&(s(f,"value")||s(f,"writable"))}},function(u,c,i){var s=i(15),f=i(45),y=i(40),b=/"/g,S=s("".replace);u.exports=function(E,P,M,A){var D=y(f(E)),C="<"+P;return M!==""&&(C+=" "+M+'="'+S(y(A),b,"&quot;")+'"'),C+">"+D+"</"+P+">"}},function(u,c,i){var s=i(18);u.exports=function(f){return s(function(){var y=""[f]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(u,c,i){var s=i(16),f=Math.hypot,y=Math.abs,b=Math.sqrt,S=!!f&&f(1/0,NaN)!==1/0;s({target:"Math",stat:!0,forced:S},{hypot:function(P,M){for(var A=0,D=0,C=arguments.length,B=0,z,X;D<C;)z=y(arguments[D++]),B<z?(X=B/z,A=A*X*X+1,B=z):z>0?(X=z/B,A+=X*X):A+=z;return B===1/0?1/0:B*b(A)}})},function(u,c,i){var s=i(16),f=i(64),y=i(7),b=i(46),S=i(35),E=i(205),P=i(44),M=i(144),A=i(97),D=i(73),C=i(145),B=i(55),z=i(28),X=i(33),$=i(117),ie=i(92),oe=i(114),ee=i(118),J=i(156),ue=i(162).set,L=i(206),U=i(209),I=i(210),w=i(164),R=i(211),W=i(56),Q=i(95),ce=i(27),Te=i(212),me=i(126),Oe=i(65),Pe=ce("species"),Ee="Promise",Ne=W.getterFor(Ee),Le=W.set,Ve=W.getterFor(Ee),Be=E&&E.prototype,Se=E,Ie=Be,ke=y.TypeError,k=y.document,Y=y.process,q=w.f,he=q,xe=!!(k&&k.createEvent&&y.dispatchEvent),pe=z(y.PromiseRejectionEvent),ze="unhandledrejection",tt="rejectionhandled",Ye=0,nt=1,ve=2,ut=1,rt=2,_e=!1,Qe,wt,dt,bt,ne=Q(Ee,function(){var je=ie(Se),$e=je!==String(Se);if(!$e&&Oe===66||f&&!Ie.finally)return!0;if(Oe>=51&&/native code/.test(je))return!1;var ot=new Se(function(G){G(1)}),Je=function(G){G(function(){},function(){})},lt=ot.constructor={};return lt[Pe]=Je,_e=ot.then(function(){})instanceof Je,_e?!$e&&Te&&!pe:!0}),Ct=ne||!ee(function(je){Se.all(je).catch(function(){})}),St=function(je){var $e;return X(je)&&z($e=je.then)?$e:!1},mt=function(je,$e){if(!je.notified){je.notified=!0;var ot=je.reactions;L(function(){for(var Je=je.value,lt=je.state==nt,G=0;ot.length>G;){var V=ot[G++],te=lt?V.ok:V.fail,re=V.resolve,Me=V.reject,De=V.domain,Xe,vt,Jt;try{te?(lt||(je.rejection===rt&&Sr(je),je.rejection=ut),te===!0?Xe=Je:(De&&De.enter(),Xe=te(Je),De&&(De.exit(),Jt=!0)),Xe===V.promise?Me(ke("Promise-chain cycle")):(vt=St(Xe))?S(vt,Xe,re,Me):re(Xe)):Me(Je)}catch(Qt){De&&!Jt&&De.exit(),Me(Qt)}}je.reactions=[],je.notified=!1,$e&&!je.rejection&&hr(je)})}},Yt=function(je,$e,ot){var Je,lt;xe?(Je=k.createEvent("Event"),Je.promise=$e,Je.reason=ot,Je.initEvent(je,!1,!0),y.dispatchEvent(Je)):Je={promise:$e,reason:ot},!pe&&(lt=y["on"+je])?lt(Je):je===ze&&I("Unhandled promise rejection",ot)},hr=function(je){S(ue,y,function(){var $e=je.facade,ot=je.value,Je=Zt(je),lt;if(Je&&(lt=R(function(){me?Y.emit("unhandledRejection",ot,$e):Yt(ze,$e,ot)}),je.rejection=me||Zt(je)?rt:ut,lt.error))throw lt.value})},Zt=function(je){return je.rejection!==ut&&!je.parent},Sr=function(je){S(ue,y,function(){var $e=je.facade;me?Y.emit("rejectionHandled",$e):Yt(tt,$e,je.value)})},qe=function(je,$e,ot){return function(Je){je($e,Je,ot)}},Pt=function(je,$e,ot){je.done||(je.done=!0,ot&&(je=ot),je.value=$e,je.state=ve,mt(je,!0))},nr=function(je,$e,ot){if(!je.done){je.done=!0,ot&&(je=ot);try{if(je.facade===$e)throw ke("Promise can't be resolved itself");var Je=St($e);Je?L(function(){var lt={done:!1};try{S(Je,$e,qe(nr,lt,je),qe(Pt,lt,je))}catch(G){Pt(lt,G,je)}}):(je.value=$e,je.state=nt,mt(je,!1))}catch(lt){Pt({done:!1},lt,je)}}};if(ne&&(Se=function($e){$(this,Ie),B($e),S(Qe,this);var ot=Ne(this);try{$e(qe(nr,ot),qe(Pt,ot))}catch(Je){Pt(ot,Je)}},Ie=Se.prototype,Qe=function($e){Le(this,{type:Ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ye,value:void 0})},Qe.prototype=M(Ie,{then:function($e,ot){var Je=Ve(this),lt=Je.reactions,G=q(J(this,Se));return G.ok=z($e)?$e:!0,G.fail=z(ot)&&ot,G.domain=me?Y.domain:void 0,Je.parent=!0,lt[lt.length]=G,Je.state!=Ye&&mt(Je,!1),G.promise},catch:function(je){return this.then(void 0,je)}}),wt=function(){var je=new Qe,$e=Ne(je);this.promise=je,this.resolve=qe(nr,$e),this.reject=qe(Pt,$e)},w.f=q=function(je){return je===Se||je===dt?new wt(je):he(je)},!f&&z(E)&&Be!==Object.prototype)){bt=Be.then,_e||(P(Be,"then",function($e,ot){var Je=this;return new Se(function(lt,G){S(bt,Je,lt,G)}).then($e,ot)},{unsafe:!0}),P(Be,"catch",Ie.catch,{unsafe:!0}));try{delete Be.constructor}catch(je){}A&&A(Be,Ie)}s({global:!0,wrap:!0,forced:ne},{Promise:Se}),D(Se,Ee,!1,!0),C(Ee),dt=b(Ee),s({target:Ee,stat:!0,forced:ne},{reject:function($e){var ot=q(this);return S(ot.reject,void 0,$e),ot.promise}}),s({target:Ee,stat:!0,forced:f||ne},{resolve:function($e){return U(f&&this===dt?Se:this,$e)}}),s({target:Ee,stat:!0,forced:Ct},{all:function($e){var ot=this,Je=q(ot),lt=Je.resolve,G=Je.reject,V=R(function(){var te=B(ot.resolve),re=[],Me=0,De=1;oe($e,function(Xe){var vt=Me++,Jt=!1;De++,S(te,ot,Xe).then(function(Qt){Jt||(Jt=!0,re[vt]=Qt,--De||lt(re))},G)}),--De||lt(re)});return V.error&&G(V.value),Je.promise},race:function($e){var ot=this,Je=q(ot),lt=Je.reject,G=R(function(){var V=B(ot.resolve);oe($e,function(te){S(V,ot,te).then(Je.resolve,lt)})});return G.error&&lt(G.value),Je.promise}})},function(u,c,i){var s=i(7);u.exports=s.Promise},function(u,c,i){var s=i(7),f=i(62),y=i(51).f,b=i(162).set,S=i(163),E=i(207),P=i(208),M=i(126),A=s.MutationObserver||s.WebKitMutationObserver,D=s.document,C=s.process,B=s.Promise,z=y(s,"queueMicrotask"),X=z&&z.value,$,ie,oe,ee,J,ue,L,U;X||($=function(){var I,w;for(M&&(I=C.domain)&&I.exit();ie;){w=ie.fn,ie=ie.next;try{w()}catch(R){throw ie?ee():oe=void 0,R}}oe=void 0,I&&I.enter()},!S&&!M&&!P&&A&&D?(J=!0,ue=D.createTextNode(""),new A($).observe(ue,{characterData:!0}),ee=function(){ue.data=J=!J}):!E&&B&&B.resolve?(L=B.resolve(void 0),L.constructor=B,U=f(L.then,L),ee=function(){U($)}):M?ee=function(){C.nextTick($)}:(b=f(b,s),ee=function(){b($)})),u.exports=X||function(I){var w={fn:I,next:void 0};oe&&(oe.next=w),ie||(ie=w,ee()),oe=w}},function(u,c,i){var s=i(53),f=i(7);u.exports=/ipad|iphone|ipod/i.test(s)&&f.Pebble!==void 0},function(u,c,i){var s=i(53);u.exports=/web0s(?!.*chrome)/i.test(s)},function(u,c,i){var s=i(32),f=i(33),y=i(164);u.exports=function(b,S){if(s(b),f(S)&&S.constructor===b)return S;var E=y.f(b),P=E.resolve;return P(S),E.promise}},function(u,c,i){var s=i(7);u.exports=function(f,y){var b=s.console;b&&b.error&&(arguments.length==1?b.error(f):b.error(f,y))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(s){return{error:!0,value:s}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var s=i(36),f=i(15),y=i(66),b=i(39),S=i(93).f,E=f(S),P=f([].push),M=function(A){return function(D){for(var C=b(D),B=y(C),z=B.length,X=0,$=[],ie;z>X;)ie=B[X++],(!s||E(C,ie))&&P($,A?[ie,C[ie]]:C[ie]);return $}};u.exports={entries:M(!0),values:M(!1)}},function(u,c,i){var s=i(38),f=i(67),y=i(43);u.exports=function(S){for(var E=s(this),P=y(E),M=arguments.length,A=f(M>1?arguments[1]:void 0,P),D=M>2?arguments[2]:void 0,C=D===void 0?P:f(D,P);C>A;)E[A++]=S;return E}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return Ur}),i.d(c,"LogicFlow",function(){return td}),i.d(c,"h",function(){return ne.g}),i.d(c,"LogicFlowUtil",function(){return s}),i.d(c,"BaseNode",function(){return vn}),i.d(c,"RectNode",function(){return yc}),i.d(c,"CircleNode",function(){return bc}),i.d(c,"PolygonNode",function(){return xc}),i.d(c,"DiamondNode",function(){return Ac}),i.d(c,"EllipseNode",function(){return wc}),i.d(c,"TextNode",function(){return Dc}),i.d(c,"HtmlNode",function(){return Rc}),i.d(c,"BaseEdge",function(){return Si}),i.d(c,"LineEdge",function(){return Uc}),i.d(c,"PolylineEdge",function(){return Xc}),i.d(c,"BezierEdge",function(){return Yc}),i.d(c,"Arrow",function(){return hj}),i.d(c,"BaseEdgeModel",function(){return yf}),i.d(c,"BezierEdgeModel",function(){return Xf}),i.d(c,"LineEdgeModel",function(){return bf}),i.d(c,"PolylineEdgeModel",function(){return xf}),i.d(c,"BaseNodeModel",function(){return pn}),i.d(c,"CircleNodeModel",function(){return Wf}),i.d(c,"DiamondNodeModel",function(){return Zf}),i.d(c,"EllipseNodeModel",function(){return Qf}),i.d(c,"PolygonNodeModel",function(){return tc}),i.d(c,"RectNodeModel",function(){return oc}),i.d(c,"TextNodeModel",function(){return ac}),i.d(c,"HtmlNodeModel",function(){return sc}),i.d(c,"EditConfigModel",function(){return fp}),i.d(c,"GraphModel",function(){return av}),i.d(c,"SnaplineModel",function(){return ug}),i.d(c,"Keyboard",function(){return ym}),i.d(c,"get",function(){return Hv}),i.d(c,"defaults",function(){return Uv});var s={};i.r(s),i.d(s,"createUuid",function(){return ro}),i.d(s,"refreshGraphId",function(){return EP}),i.d(s,"createDrag",function(){return Mf}),i.d(s,"StepDrag",function(){return no});var f=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),S=Object(b.b)("observerBatching");function E(e){e()}function P(e){e||(e=E),Object(f.n)({reactionScheduler:e}),Object(b.a)()[S]=!0}function M(e){return Object(f.t)(e)}function A(e){var r={cleanAt:Date.now()+D,reaction:e};return r}var D=1e4,C=1e4,B=new Set,z;function X(){z===void 0&&(z=setTimeout(oe,C))}function $(e){B.add(e),X()}function ie(e){B.delete(e)}function oe(){z=void 0;var e=Date.now();B.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,B.delete(r))}),B.size>0&&X()}var ee=!1,J=[];function ue(e){return function(){ee?J.push(e):e()}}function L(e){ee=!0,J=[];try{var r=e();ee=!1;var t=J.length>0?J:void 0;return y.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{ee=!1}}var U={};function I(e){return"observer"+e}function w(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=U);var n=t.useForceUpdate||b.d,o=n(),a=ue(o),l=y.d.useRef(null);if(!l.current){var p=new f.c(I(r),function(){m.mounted?a():(p.dispose(),l.current=null)}),m=A(p);l.current=m,$(l)}var x=l.current.reaction;return y.d.useDebugValue(x,M),y.d.useEffect(function(){return ie(l),l.current?l.current.mounted=!0:(l.current={reaction:new f.c(I(r),function(){a()}),cleanAt:1/0},a()),function(){l.current.reaction.dispose(),l.current=null}},[]),L(function(){var T,j;if(x.track(function(){try{T=e()}catch(_){j=_}}),j)throw j;return T})}var R=function(){return R=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(this,arguments)};function W(e,r){var t=R({forwardRef:!1},r),n=e.displayName||e.name,o=function(l,p){return w(function(){return e(l,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(y.f)(Object(y.e)(o)):a=Object(y.f)(o),ce(e,a),a.displayName=n,a}var Q={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){Q[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Te(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:w(n)}Te.propTypes={children:me,render:me},Te.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",l=typeof e[r]=="function",p=typeof e[a]=="function";return l&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):l||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(y.g);var Oe=0;function Pe(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+Oe+")";return Oe++,r}var Ee={};function Ne(e){return Ee[e]||(Ee[e]=Pe(e)),Ee[e]}function Le(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ve(e[t[o]],r[t[o]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Be(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Se=Ne("patchMixins"),Ie=Ne("patchedDefinition");function ke(e,r){var t=e[Se]=e[Se]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var l;return e!=null&&(l=e.apply(this,o)),l}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function Y(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];k.call.apply(k,[this,e,r].concat(a))};return t}function q(e,r,t){var n=ke(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Ie])){var a=e[r],l=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,l)}}function he(e,r,t,n,o){var a,l=Y(o,n);return a={},a[Ie]=!0,a.get=function(){return l},a.set=function(m){if(this===e)l=Y(m,n);else{var x=he(this,r,t,n,m);Object.defineProperty(this,r,x)}},a.configurable=!0,a.enumerable=t,a}var xe=f.a||"$mobx",pe=Ne("isMobXReactObserver"),ze=Ne("isUnmounted"),tt=Ne("skipRender"),Ye=Ne("isForcingUpdate");function nt(e){var r=e.prototype;if(e[pe]){var t=ve(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=rt;else if(r.shouldComponentUpdate!==rt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}_e(r,"props"),_e(r,"state");var n=r.render;return r.render=function(){return ut.call(this,n)},q(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[ze]=!0,!this.render[xe]){var a=ve(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ut(e){var r=this;Be(this,tt,!1),Be(this,Ye,!1);var t=ve(this),n=e.bind(this),o=!1,a=new f.c(t+".render()",function(){if(!o&&(o=!0,r[ze]!==!0)){var p=!0;try{Be(r,Ye,!0),r[tt]||y.a.prototype.forceUpdate.call(r),p=!1}finally{Be(r,Ye,!1),p&&a.dispose()}}});a.reactComponent=this,l[xe]=a,this.render=l;function l(){o=!1;var p=void 0,m=void 0;if(a.track(function(){try{m=Object(f.d)(!1,n)}catch(x){p=x}}),p)throw p;return m}return l.call(this)}function rt(e,r){return this.state!==r?!0:!Le(this.props,e)}function _e(e,r){var t=Ne("reactProp_"+r+"_valueHolder"),n=Ne("reactProp_"+r+"_atomHolder");function o(){return this[n]||Be(this,n,Object(f.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var l=!1;return f.f&&f.e&&(l=Object(f.f)(!0)),o.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(l),this[t]},set:function(l){!this[Ye]&&!Le(this[t],l)?(Be(this,t,l),Be(this,tt,!0),o.call(this).reportChanged(),Be(this,tt,!1)):Be(this,t,l)}})}var Qe=typeof Symbol=="function"&&Symbol.for,wt=Qe?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,dt=Qe?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function bt(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),dt&&e.$$typeof===dt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(wt&&e.$$typeof===wt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(Te,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(y.a,e)?W(e):nt(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var ne=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function Ct(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var St=Ct;function mt(){this.__data__=[],this.size=0}var Yt=mt;function hr(e,r){return e===r||e!==e&&r!==r}var Zt=hr;function Sr(e,r){for(var t=e.length;t--;)if(Zt(e[t][0],r))return t;return-1}var qe=Sr,Pt=Array.prototype,nr=Pt.splice;function je(e){var r=this.__data__,t=qe(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():nr.call(r,t,1),--this.size,!0}var $e=je;function ot(e){var r=this.__data__,t=qe(r,e);return t<0?void 0:r[t][1]}var Je=ot;function lt(e){return qe(this.__data__,e)>-1}var G=lt;function V(e,r){var t=this.__data__,n=qe(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=V;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Yt,re.prototype.delete=$e,re.prototype.get=Je,re.prototype.has=G,re.prototype.set=te;var Me=re;function De(){this.__data__=new Me,this.size=0}var Xe=De;function vt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Jt=vt;function Qt(e){return this.__data__.get(e)}var Xn=Qt;function kr(e){return this.__data__.has(e)}var Li=kr,Pr=i(31),zi=Pr.a.Symbol,fr=zi,gn=Object.prototype,$n=gn.hasOwnProperty,sn=gn.toString,Yn=fr?fr.toStringTag:void 0;function mn(e){var r=$n.call(e,Yn),t=e[Yn];try{e[Yn]=void 0;var n=!0}catch(a){}var o=sn.call(e);return n&&(r?e[Yn]=t:delete e[Yn]),o}var bn=mn,co=Object.prototype,rl=co.toString;function po(e){return rl.call(e)}var ho=po,Fi="[object Null]",He="[object Undefined]",Gi=fr?fr.toStringTag:void 0;function nl(e){return e==null?e===void 0?He:Fi:Gi&&Gi in Object(e)?bn(e):ho(e)}var Xr=nl;function Hi(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var At=Hi,vr="[object AsyncFunction]",Ui="[object Function]",ol="[object GeneratorFunction]",il="[object Proxy]";function al(e){if(!At(e))return!1;var r=Xr(e);return r==Ui||r==ol||r==vr||r==il}var vo=al,ki=Pr.a["__core-js_shared__"],ln=ki,Qo=function(){var e=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qo(e){return!!Qo&&Qo in e}var Xi=qo,ul=Function.prototype,yo=ul.toString;function sl(e){if(e!=null){try{return yo.call(e)}catch(r){}try{return e+""}catch(r){}}return""}var Rt=sl,yd=/[\\^$.*+?()[\]{}|]/g,gd=/^\[object .+?Constructor\]$/,md=Function.prototype,$i=Object.prototype,ll=md.toString,Yi=$i.hasOwnProperty,fl=RegExp("^"+ll.call(Yi).replace(yd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cl(e){if(!At(e)||Xi(e))return!1;var r=vo(e)?fl:gd;return r.test(Rt(e))}var $r=cl;function dl(e,r){return e==null?void 0:e[r]}var pl=dl;function ei(e,r){var t=pl(e,r);return $r(t)?t:void 0}var jr=ei,hl=jr(Pr.a,"Map"),On=hl,vl=jr(Object,"create"),Wn=vl;function yl(){this.__data__=Wn?Wn(null):{},this.size=0}var ti=yl;function Wi(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var gl=Wi,ri="__lodash_hash_undefined__",Ki=Object.prototype,Vi=Ki.hasOwnProperty;function Zi(e){var r=this.__data__;if(Wn){var t=r[e];return t===ri?void 0:t}return Vi.call(r,e)?r[e]:void 0}var Ji=Zi,ml=Object.prototype,Qi=ml.hasOwnProperty;function bl(e){var r=this.__data__;return Wn?r[e]!==void 0:Qi.call(r,e)}var qi=bl,ea="__lodash_hash_undefined__";function Ol(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Wn&&r===void 0?ea:r,this}var El=Ol;function En(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}En.prototype.clear=ti,En.prototype.delete=gl,En.prototype.get=Ji,En.prototype.has=qi,En.prototype.set=El;var xn=En;function Sn(){this.size=0,this.__data__={hash:new xn,map:new(On||Me),string:new xn}}var xl=Sn;function Sl(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ta=Sl;function Pl(e,r){var t=e.__data__;return ta(r)?t[typeof r=="string"?"string":"hash"]:t.map}var go=Pl;function Al(e){var r=go(this,e).delete(e);return this.size-=r?1:0,r}var Tl=Al;function Pn(e){return go(this,e).get(e)}var Yr=Pn;function Ml(e){return go(this,e).has(e)}var wl=Ml;function Nl(e,r){var t=go(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Ar=Nl;function An(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}An.prototype.clear=xl,An.prototype.delete=Tl,An.prototype.get=Yr,An.prototype.has=wl,An.prototype.set=Ar;var Kn=An,Dl=200;function mo(e,r){var t=this.__data__;if(t instanceof Me){var n=t.__data__;if(!On||n.length<Dl-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Kn(n)}return t.set(e,r),this.size=t.size,this}var bo=mo;function Tn(e){var r=this.__data__=new Me(e);this.size=r.size}Tn.prototype.clear=Xe,Tn.prototype.delete=Jt,Tn.prototype.get=Xn,Tn.prototype.has=Li,Tn.prototype.set=bo;var Mn=Tn,Tr="__lodash_hash_undefined__";function Vn(e){return this.__data__.set(e,Tr),this}var Mr=Vn;function yr(e){return this.__data__.has(e)}var Zn=yr;function qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Kn;++r<t;)this.add(e[r])}qt.prototype.add=qt.prototype.push=Mr,qt.prototype.has=Zn;var jl=qt;function Cl(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Rl=Cl;function ra(e,r){return e.has(r)}var Cr=ra,Il=1,Rr=2;function na(e,r,t,n,o,a){var l=t&Il,p=e.length,m=r.length;if(p!=m&&!(l&&m>p))return!1;var x=a.get(e),T=a.get(r);if(x&&T)return x==r&&T==e;var j=-1,_=!0,H=t&Rr?new jl:void 0;for(a.set(e,r),a.set(r,e);++j<p;){var Z=e[j],ae=r[j];if(n)var se=l?n(ae,Z,j,r,e,a):n(Z,ae,j,e,r,a);if(se!==void 0){if(se)continue;_=!1;break}if(H){if(!Rl(r,function(le,we){if(!Cr(H,we)&&(Z===le||o(Z,le,t,n,a)))return H.push(we)})){_=!1;break}}else if(!(Z===ae||o(Z,ae,t,n,a))){_=!1;break}}return a.delete(e),a.delete(r),_}var oa=na,ni=Pr.a.Uint8Array,kt=ni;function ia(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Bl=ia;function aa(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var cr=aa,ua=1,oi=2,sa="[object Boolean]",la="[object Date]",_l="[object Error]",fa="[object Map]",Ll="[object Number]",zl="[object RegExp]",gr="[object Set]",wr="[object String]",Jn="[object Symbol]",Fl="[object ArrayBuffer]",ca="[object DataView]",Oo=fr?fr.prototype:void 0,Qn=Oo?Oo.valueOf:void 0;function da(e,r,t,n,o,a,l){switch(t){case ca:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Fl:return!(e.byteLength!=r.byteLength||!a(new kt(e),new kt(r)));case sa:case la:case Ll:return Zt(+e,+r);case _l:return e.name==r.name&&e.message==r.message;case zl:case wr:return e==r+"";case fa:var p=Bl;case gr:var m=n&ua;if(p||(p=cr),e.size!=r.size&&!m)return!1;var x=l.get(e);if(x)return x==r;n|=oi,l.set(e,r);var T=oa(p(e),p(r),n,o,a,l);return l.delete(e),T;case Jn:if(Qn)return Qn.call(e)==Qn.call(r)}return!1}var Gl=da;function Eo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var ii=Eo,pa=Array.isArray,d=pa;function h(e,r,t){var n=r(e);return d(e)?n:ii(n,t(e))}var O=h;function N(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var l=e[t];r(l,t,e)&&(a[o++]=l)}return a}var F=N;function K(){return[]}var fe=K,Ae=Object.prototype,Ue=Ae.propertyIsEnumerable,ft=Object.getOwnPropertySymbols,ct=ft?function(e){return e==null?[]:(e=Object(e),F(ft(e),function(r){return Ue.call(e,r)}))}:fe,Ot=ct;function xt(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Bt=xt;function Xt(e){return e!=null&&typeof e=="object"}var Tt=Xt,mr="[object Arguments]";function wn(e){return Tt(e)&&Xr(e)==mr}var ha=wn,va=Object.prototype,ya=va.hasOwnProperty,ga=va.propertyIsEnumerable,ai=ha(function(){return arguments}())?ha:function(e){return Tt(e)&&ya.call(e,"callee")&&!ga.call(e,"callee")},Nn=ai,fn=i(48),wb=9007199254740991,Nb=/^(?:0|[1-9]\d*)$/;function Db(e,r){var t=typeof e;return r=r==null?wb:r,!!r&&(t=="number"||t!="symbol"&&Nb.test(e))&&e>-1&&e%1==0&&e<r}var ma=Db,jb=9007199254740991;function Cb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jb}var Hl=Cb,Rb="[object Arguments]",Ib="[object Array]",Bb="[object Boolean]",_b="[object Date]",Lb="[object Error]",zb="[object Function]",Fb="[object Map]",Gb="[object Number]",Hb="[object Object]",Ub="[object RegExp]",kb="[object Set]",Xb="[object String]",$b="[object WeakMap]",Yb="[object ArrayBuffer]",Wb="[object DataView]",Kb="[object Float32Array]",Vb="[object Float64Array]",Zb="[object Int8Array]",Jb="[object Int16Array]",Qb="[object Int32Array]",qb="[object Uint8Array]",eO="[object Uint8ClampedArray]",tO="[object Uint16Array]",rO="[object Uint32Array]",Nt={};Nt[Kb]=Nt[Vb]=Nt[Zb]=Nt[Jb]=Nt[Qb]=Nt[qb]=Nt[eO]=Nt[tO]=Nt[rO]=!0,Nt[Rb]=Nt[Ib]=Nt[Yb]=Nt[Bb]=Nt[Wb]=Nt[_b]=Nt[Lb]=Nt[zb]=Nt[Fb]=Nt[Gb]=Nt[Hb]=Nt[Ub]=Nt[kb]=Nt[Xb]=Nt[$b]=!1;function nO(e){return Tt(e)&&Hl(e.length)&&!!Nt[Xr(e)]}var oO=nO;function iO(e){return function(r){return e(r)}}var Ul=iO,xo=i(49),bd=xo.a&&xo.a.isTypedArray,aO=bd?Ul(bd):oO,kl=aO,uO=Object.prototype,sO=uO.hasOwnProperty;function lO(e,r){var t=d(e),n=!t&&Nn(e),o=!t&&!n&&Object(fn.a)(e),a=!t&&!n&&!o&&kl(e),l=t||n||o||a,p=l?Bt(e.length,String):[],m=p.length;for(var x in e)(r||sO.call(e,x))&&!(l&&(x=="length"||o&&(x=="offset"||x=="parent")||a&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||ma(x,m)))&&p.push(x);return p}var Od=lO,fO=Object.prototype;function cO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||fO;return e===t}var ba=cO;function dO(e,r){return function(t){return e(r(t))}}var Ed=dO,pO=Ed(Object.keys,Object),hO=pO,vO=Object.prototype,yO=vO.hasOwnProperty;function gO(e){if(!ba(e))return hO(e);var r=[];for(var t in Object(e))yO.call(e,t)&&t!="constructor"&&r.push(t);return r}var mO=gO;function bO(e){return e!=null&&Hl(e.length)&&!vo(e)}var qn=bO;function OO(e){return qn(e)?Od(e):mO(e)}var So=OO;function EO(e){return O(e,So,Ot)}var Xl=EO,xO=1,SO=Object.prototype,PO=SO.hasOwnProperty;function AO(e,r,t,n,o,a){var l=t&xO,p=Xl(e),m=p.length,x=Xl(r),T=x.length;if(m!=T&&!l)return!1;for(var j=m;j--;){var _=p[j];if(!(l?_ in r:PO.call(r,_)))return!1}var H=a.get(e),Z=a.get(r);if(H&&Z)return H==r&&Z==e;var ae=!0;a.set(e,r),a.set(r,e);for(var se=l;++j<m;){_=p[j];var le=e[_],we=r[_];if(n)var ge=l?n(we,le,_,r,e,a):n(le,we,_,e,r,a);if(!(ge===void 0?le===we||o(le,we,t,n,a):ge)){ae=!1;break}se||(se=_=="constructor")}if(ae&&!se){var be=e.constructor,Fe=r.constructor;be!=Fe&&"constructor"in e&&"constructor"in r&&!(typeof be=="function"&&be instanceof be&&typeof Fe=="function"&&Fe instanceof Fe)&&(ae=!1)}return a.delete(e),a.delete(r),ae}var TO=AO,MO=jr(Pr.a,"DataView"),$l=MO,wO=jr(Pr.a,"Promise"),Yl=wO,NO=jr(Pr.a,"Set"),Wl=NO,DO=jr(Pr.a,"WeakMap"),Kl=DO,xd="[object Map]",jO="[object Object]",Sd="[object Promise]",Pd="[object Set]",Ad="[object WeakMap]",Td="[object DataView]",CO=Rt($l),RO=Rt(On),IO=Rt(Yl),BO=Rt(Wl),_O=Rt(Kl),eo=Xr;($l&&eo(new $l(new ArrayBuffer(1)))!=Td||On&&eo(new On)!=xd||Yl&&eo(Yl.resolve())!=Sd||Wl&&eo(new Wl)!=Pd||Kl&&eo(new Kl)!=Ad)&&(eo=function(e){var r=Xr(e),t=r==jO?e.constructor:void 0,n=t?Rt(t):"";if(n)switch(n){case CO:return Td;case RO:return xd;case IO:return Sd;case BO:return Pd;case _O:return Ad}return r});var ui=eo,LO=1,Md="[object Arguments]",wd="[object Array]",Oa="[object Object]",zO=Object.prototype,Nd=zO.hasOwnProperty;function FO(e,r,t,n,o,a){var l=d(e),p=d(r),m=l?wd:ui(e),x=p?wd:ui(r);m=m==Md?Oa:m,x=x==Md?Oa:x;var T=m==Oa,j=x==Oa,_=m==x;if(_&&Object(fn.a)(e)){if(!Object(fn.a)(r))return!1;l=!0,T=!1}if(_&&!T)return a||(a=new Mn),l||kl(e)?oa(e,r,t,n,o,a):Gl(e,r,m,t,n,o,a);if(!(t&LO)){var H=T&&Nd.call(e,"__wrapped__"),Z=j&&Nd.call(r,"__wrapped__");if(H||Z){var ae=H?e.value():e,se=Z?r.value():r;return a||(a=new Mn),o(ae,se,t,n,a)}}return _?(a||(a=new Mn),TO(e,r,t,n,o,a)):!1}var GO=FO;function Dd(e,r,t,n,o){return e===r?!0:e==null||r==null||!Tt(e)&&!Tt(r)?e!==e&&r!==r:GO(e,r,t,n,Dd,o)}var Vl=Dd,HO=1,UO=2;function kO(e,r,t,n){var o=t.length,a=o,l=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(l&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var m=p[0],x=e[m],T=p[1];if(l&&p[2]){if(x===void 0&&!(m in e))return!1}else{var j=new Mn;if(n)var _=n(x,T,m,e,r,j);if(!(_===void 0?Vl(T,x,HO|UO,n,j):_))return!1}}return!0}var XO=kO;function $O(e){return e===e&&!At(e)}var jd=$O;function YO(e){for(var r=So(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,jd(o)]}return r}var WO=YO;function KO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Cd=KO;function VO(e){var r=WO(e);return r.length==1&&r[0][2]?Cd(r[0][0],r[0][1]):function(t){return t===e||XO(t,e,r)}}var ZO=VO,JO="[object Symbol]";function QO(e){return typeof e=="symbol"||Tt(e)&&Xr(e)==JO}var Ea=QO,qO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eE=/^\w*$/;function tE(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Ea(e)?!0:eE.test(e)||!qO.test(e)||r!=null&&e in Object(r)}var Zl=tE,rE="Expected a function";function Jl(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(rE);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var l=e.apply(this,n);return t.cache=a.set(o,l)||a,l};return t.cache=new(Jl.Cache||Kn),t}Jl.Cache=Kn;var nE=Jl,oE=500;function iE(e){var r=nE(e,function(n){return t.size===oE&&t.clear(),n}),t=r.cache;return r}var aE=iE,uE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sE=/\\(\\)?/g,lE=aE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(uE,function(t,n,o,a){r.push(o?a.replace(sE,"$1"):n||t)}),r}),fE=lE,cE=1/0,Rd=fr?fr.prototype:void 0,Id=Rd?Rd.toString:void 0;function Bd(e){if(typeof e=="string")return e;if(d(e))return St(e,Bd)+"";if(Ea(e))return Id?Id.call(e):"";var r=e+"";return r=="0"&&1/e==-cE?"-0":r}var dE=Bd;function pE(e){return e==null?"":dE(e)}var hE=pE;function vE(e,r){return d(e)?e:Zl(e,r)?[e]:fE(hE(e))}var xa=vE,yE=1/0;function gE(e){if(typeof e=="string"||Ea(e))return e;var r=e+"";return r=="0"&&1/e==-yE?"-0":r}var si=gE;function mE(e,r){r=xa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[si(r[t++])];return t&&t==n?e:void 0}var Ql=mE;function bE(e,r,t){var n=e==null?void 0:Ql(e,r);return n===void 0?t:n}var _d=bE;function OE(e,r){return e!=null&&r in Object(e)}var EE=OE;function xE(e,r,t){r=xa(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var l=si(r[n]);if(!(a=e!=null&&t(e,l)))break;e=e[l]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Hl(o)&&ma(l,o)&&(d(e)||Nn(e)))}var SE=xE;function PE(e,r){return e!=null&&SE(e,r,EE)}var Ld=PE,AE=1,TE=2;function ME(e,r){return Zl(e)&&jd(r)?Cd(si(e),r):function(t){var n=_d(t,e);return n===void 0&&n===r?Ld(t,e):Vl(r,n,AE|TE)}}var wE=ME;function NE(e){return e}var ql=NE;function DE(e){return function(r){return r==null?void 0:r[e]}}var jE=DE;function CE(e){return function(r){return Ql(r,e)}}var RE=CE;function IE(e){return Zl(e)?jE(si(e)):RE(e)}var BE=IE;function _E(e){return typeof e=="function"?e:e==null?ql:typeof e=="object"?d(e)?wE(e[0],e[1]):ZO(e):BE(e)}var LE=_E;function zE(e){return function(r,t,n){for(var o=-1,a=Object(r),l=n(r),p=l.length;p--;){var m=l[e?p:++o];if(t(a[m],m,a)===!1)break}return r}}var FE=zE,GE=FE(),zd=GE;function HE(e,r){return e&&zd(e,r,So)}var UE=HE;function kE(e,r){return function(t,n){if(t==null)return t;if(!qn(t))return e(t,n);for(var o=t.length,a=r?o:-1,l=Object(t);(r?a--:++a<o)&&n(l[a],a,l)!==!1;);return t}}var XE=kE,$E=XE(UE),YE=$E;function WE(e,r){var t=-1,n=qn(e)?Array(e.length):[];return YE(e,function(o,a,l){n[++t]=r(o,a,l)}),n}var KE=WE;function VE(e,r){var t=d(e)?St:KE;return t(e,LE(r))}var Sa=VE,ZE=function(){try{var e=jr(Object,"defineProperty");return e({},"",{}),e}catch(r){}}(),Pa=ZE;function JE(e,r,t){r=="__proto__"&&Pa?Pa(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var ef=JE,QE=Object.prototype,qE=QE.hasOwnProperty;function ex(e,r,t){var n=e[r];(!(qE.call(e,r)&&Zt(n,t))||t===void 0&&!(r in e))&&ef(e,r,t)}var Aa=ex;function tx(e,r,t,n){var o=!t;t||(t={});for(var a=-1,l=r.length;++a<l;){var p=r[a],m=n?n(t[p],e[p],p,t,e):void 0;m===void 0&&(m=e[p]),o?ef(t,p,m):Aa(t,p,m)}return t}var Po=tx;function rx(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var nx=rx,Fd=Math.max;function ox(e,r,t){return r=Fd(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=Fd(n.length-r,0),l=Array(a);++o<a;)l[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(l),nx(e,this,p)}}var Gd=ox;function ix(e){return function(){return e}}var ax=ix,ux=Pa?function(e,r){return Pa(e,"toString",{configurable:!0,enumerable:!1,value:ax(r),writable:!0})}:ql,sx=ux,lx=800,fx=16,cx=Date.now;function dx(e){var r=0,t=0;return function(){var n=cx(),o=fx-(n-t);if(t=n,o>0){if(++r>=lx)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var px=dx,hx=px(sx),Hd=hx;function vx(e,r){return Hd(Gd(e,r,ql),e+"")}var yx=vx;function gx(e,r,t){if(!At(t))return!1;var n=typeof r;return(n=="number"?qn(t)&&ma(r,t.length):n=="string"&&r in t)?Zt(t[r],e):!1}var mx=gx;function bx(e){return yx(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,l=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,l&&mx(t[0],t[1],l)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var Ud=bx,Ox=Object.prototype,Ex=Ox.hasOwnProperty,xx=Ud(function(e,r){if(ba(r)||qn(r)){Po(r,So(r),e);return}for(var t in r)Ex.call(r,t)&&Aa(e,t,r[t])}),or=xx;function Sx(e,r,t,n){if(!At(e))return e;r=xa(r,e);for(var o=-1,a=r.length,l=a-1,p=e;p!=null&&++o<a;){var m=si(r[o]),x=t;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(o!=l){var T=p[m];x=n?n(T,m,p):void 0,x===void 0&&(x=At(T)?T:ma(r[o+1])?[]:{})}Aa(p,m,x),p=p[m]}return e}var Px=Sx;function Ax(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var l=r[n],p=Ql(e,l);t(p,l)&&Px(a,xa(l,e),p)}return a}var Tx=Ax;function Mx(e,r){return Tx(e,r,function(t,n){return Ld(e,n)})}var wx=Mx,kd=fr?fr.isConcatSpreadable:void 0;function Nx(e){return d(e)||Nn(e)||!!(kd&&e&&e[kd])}var Dx=Nx;function Xd(e,r,t,n,o){var a=-1,l=e.length;for(t||(t=Dx),o||(o=[]);++a<l;){var p=e[a];r>0&&t(p)?r>1?Xd(p,r-1,t,n,o):ii(o,p):n||(o[o.length]=p)}return o}var jx=Xd;function Cx(e){var r=e==null?0:e.length;return r?jx(e,1):[]}var Rx=Cx;function Ix(e){return Hd(Gd(e,void 0,Rx),e+"")}var Bx=Ix,_x=Bx(function(e,r){return e==null?{}:wx(e,r)}),li=_x,It,$d,Yd,Wd,Kd,Vd,Zd,Jd,Qd,qd,ep,tp,rp,np,op,ip,ap,up;function Wt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Lx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zx(e,r,t){return r&&sp(e.prototype,r),t&&sp(e,t),e}function lp(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $t(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Fx={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},tf=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],fp=(It=function(){function e(r){Lx(this,e),Wt(this,"isSilentMode",$d,this),Wt(this,"stopZoomGraph",Yd,this),Wt(this,"stopScrollGraph",Wd,this),Wt(this,"stopMoveGraph",Kd,this),Wt(this,"adjustEdge",Vd,this),Wt(this,"adjustEdgeMiddle",Zd,this),Wt(this,"adjustEdgeStartAndEnd",Jd,this),Wt(this,"adjustNodePosition",Qd,this),Wt(this,"hideAnchors",qd,this),Wt(this,"hoverOutline",ep,this),Wt(this,"nodeSelectedOutline",tp,this),Wt(this,"edgeSelectedOutline",rp,this),Wt(this,"nodeTextEdit",np,this),Wt(this,"edgeTextEdit",op,this),Wt(this,"nodeTextDraggable",ip,this),Wt(this,"edgeTextDraggable",ap,this),Wt(this,"autoExpand",up,this),lp(this,"multipleSelectKey",""),lp(this,"defaultConfig",{}),or(this,this.getConfigDetail(r))}return zx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);or(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&or(a,this.defaultConfig),n===!0){var l=li(Fx,tf);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},or(a,l)}o===!1&&or(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=li(t,tf);return or(a,p)}},{key:"getConfig",value:function(){return li(this,tf)}}]),e}(),$d=$t(It.prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=$t(It.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wd=$t(It.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=$t(It.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=$t(It.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zd=$t(It.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jd=$t(It.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qd=$t(It.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qd=$t(It.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ep=$t(It.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=$t(It.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=$t(It.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=$t(It.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),op=$t(It.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ip=$t(It.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ap=$t(It.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),up=$t(It.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$t(It.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(77);var Et;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Et||(Et={}));var cp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(cp||(cp={}));var pt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(pt||(pt={}));var Gt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Gt||(Gt={}));var it;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(it||(it={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var Gx=9999,br;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(br||(br={}));var _t,dp,pp,hp,vp,yp,gp,mp;function Ta(e,r){return Xx(e)||kx(e,r)||Ux(e,r)||Hx()}function Hx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ux(e,r){if(!!e){if(typeof e=="string")return bp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bp(e,r)}}function bp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function kx(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Xx(e){if(Array.isArray(e))return e}function to(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function $x(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Op(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yx(e,r,t){return r&&Op(e.prototype,r),t&&Op(e,t),e}function rf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wx=(_t=function(){function e(r){$x(this,e),rf(this,"MINI_SCALE_SIZE",.2),rf(this,"MAX_SCALE_SIZE",16),to(this,"SCALE_X",dp,this),to(this,"SKEW_Y",pp,this),to(this,"SKEW_X",hp,this),to(this,"SCALE_Y",vp,this),to(this,"TRANSLATE_X",yp,this),to(this,"TRANSLATE_Y",gp,this),to(this,"ZOOM_SIZE",mp,this),rf(this,"eventCenter",void 0),this.eventCenter=r}return Yx(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Ta(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Ta(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=Ta(t,2),l=a[0],p=a[1];return[l+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(it.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var l=this.CanvasPointToHtmlPoint([t,n]),p=Ta(l,2),m=p[0],x=p[1],T=o/2-m,j=a/2-x;this.TRANSLATE_X+=T,this.TRANSLATE_Y+=j,this.emitGraphTransform("focusOn")}}]),e}(),dp=Ir(_t.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pp=Ir(_t.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Ir(_t.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vp=Ir(_t.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yp=Ir(_t.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gp=Ir(_t.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mp=Ir(_t.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Ir(_t.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"zoom"),_t.prototype),Ir(_t.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"resetZoom"),_t.prototype),Ir(_t.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"translate"),_t.prototype),Ir(_t.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"focusOn"),_t.prototype),_t);function Kx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Vx=Kx;function Zx(e,r){return e&&Po(r,So(r),e)}var Jx=Zx;function Qx(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var qx=Qx,eS=Object.prototype,tS=eS.hasOwnProperty;function rS(e){if(!At(e))return qx(e);var r=ba(e),t=[];for(var n in e)n=="constructor"&&(r||!tS.call(e,n))||t.push(n);return t}var nS=rS;function oS(e){return qn(e)?Od(e,!0):nS(e)}var fi=oS;function iS(e,r){return e&&Po(r,fi(r),e)}var aS=iS,Ep=i(106);function uS(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var xp=uS;function sS(e,r){return Po(e,Ot(e),r)}var lS=sS,fS=Ed(Object.getPrototypeOf,Object),nf=fS,cS=Object.getOwnPropertySymbols,dS=cS?function(e){for(var r=[];e;)ii(r,Ot(e)),e=nf(e);return r}:fe,Sp=dS;function pS(e,r){return Po(e,Sp(e),r)}var hS=pS;function vS(e){return O(e,fi,Sp)}var yS=vS,gS=Object.prototype,mS=gS.hasOwnProperty;function bS(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&mS.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var OS=bS;function ES(e){var r=new e.constructor(e.byteLength);return new kt(r).set(new kt(e)),r}var of=ES;function xS(e,r){var t=r?of(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var SS=xS,PS=/\w*$/;function AS(e){var r=new e.constructor(e.source,PS.exec(e));return r.lastIndex=e.lastIndex,r}var TS=AS,Pp=fr?fr.prototype:void 0,Ap=Pp?Pp.valueOf:void 0;function MS(e){return Ap?Object(Ap.call(e)):{}}var wS=MS;function NS(e,r){var t=r?of(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Tp=NS,DS="[object Boolean]",jS="[object Date]",CS="[object Map]",RS="[object Number]",IS="[object RegExp]",BS="[object Set]",_S="[object String]",LS="[object Symbol]",zS="[object ArrayBuffer]",FS="[object DataView]",GS="[object Float32Array]",HS="[object Float64Array]",US="[object Int8Array]",kS="[object Int16Array]",XS="[object Int32Array]",$S="[object Uint8Array]",YS="[object Uint8ClampedArray]",WS="[object Uint16Array]",KS="[object Uint32Array]";function VS(e,r,t){var n=e.constructor;switch(r){case zS:return of(e);case DS:case jS:return new n(+e);case FS:return SS(e,t);case GS:case HS:case US:case kS:case XS:case $S:case YS:case WS:case KS:return Tp(e,t);case CS:return new n;case RS:case _S:return new n(e);case IS:return TS(e);case BS:return new n;case LS:return wS(e)}}var ZS=VS,Mp=Object.create,JS=function(){function e(){}return function(r){if(!At(r))return{};if(Mp)return Mp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),QS=JS;function qS(e){return typeof e.constructor=="function"&&!ba(e)?QS(nf(e)):{}}var wp=qS,e0="[object Map]";function t0(e){return Tt(e)&&ui(e)==e0}var r0=t0,Np=xo.a&&xo.a.isMap,n0=Np?Ul(Np):r0,o0=n0,i0="[object Set]";function a0(e){return Tt(e)&&ui(e)==i0}var u0=a0,Dp=xo.a&&xo.a.isSet,s0=Dp?Ul(Dp):u0,l0=s0,f0=1,c0=2,d0=4,jp="[object Arguments]",p0="[object Array]",h0="[object Boolean]",v0="[object Date]",y0="[object Error]",Cp="[object Function]",g0="[object GeneratorFunction]",m0="[object Map]",b0="[object Number]",Rp="[object Object]",O0="[object RegExp]",E0="[object Set]",x0="[object String]",S0="[object Symbol]",P0="[object WeakMap]",A0="[object ArrayBuffer]",T0="[object DataView]",M0="[object Float32Array]",w0="[object Float64Array]",N0="[object Int8Array]",D0="[object Int16Array]",j0="[object Int32Array]",C0="[object Uint8Array]",R0="[object Uint8ClampedArray]",I0="[object Uint16Array]",B0="[object Uint32Array]",Mt={};Mt[jp]=Mt[p0]=Mt[A0]=Mt[T0]=Mt[h0]=Mt[v0]=Mt[M0]=Mt[w0]=Mt[N0]=Mt[D0]=Mt[j0]=Mt[m0]=Mt[b0]=Mt[Rp]=Mt[O0]=Mt[E0]=Mt[x0]=Mt[S0]=Mt[C0]=Mt[R0]=Mt[I0]=Mt[B0]=!0,Mt[y0]=Mt[Cp]=Mt[P0]=!1;function Ma(e,r,t,n,o,a){var l,p=r&f0,m=r&c0,x=r&d0;if(t&&(l=o?t(e,n,o,a):t(e)),l!==void 0)return l;if(!At(e))return e;var T=d(e);if(T){if(l=OS(e),!p)return xp(e,l)}else{var j=ui(e),_=j==Cp||j==g0;if(Object(fn.a)(e))return Object(Ep.a)(e,p);if(j==Rp||j==jp||_&&!o){if(l=m||_?{}:wp(e),!p)return m?hS(e,aS(l,e)):lS(e,Jx(l,e))}else{if(!Mt[j])return o?e:{};l=ZS(e,j,p)}}a||(a=new Mn);var H=a.get(e);if(H)return H;a.set(e,l),l0(e)?e.forEach(function(se){l.add(Ma(se,r,t,se,e,a))}):o0(e)&&e.forEach(function(se,le){l.set(le,Ma(se,r,t,le,e,a))});var Z=x?m?yS:Xl:m?fi:So,ae=T?void 0:Z(e);return Vx(ae||e,function(se,le){ae&&(le=se,se=e[le]),Aa(l,le,Ma(se,r,t,le,e,a))}),l}var _0=Ma,L0=1,z0=4;function F0(e){return _0(e,L0|z0)}var jt=F0;function G0(e,r,t){(t!==void 0&&!Zt(e[r],t)||t===void 0&&!(r in e))&&ef(e,r,t)}var af=G0;function H0(e){return Tt(e)&&qn(e)}var U0=H0,k0="[object Object]",X0=Function.prototype,$0=Object.prototype,Ip=X0.toString,Y0=$0.hasOwnProperty,W0=Ip.call(Object);function K0(e){if(!Tt(e)||Xr(e)!=k0)return!1;var r=nf(e);if(r===null)return!0;var t=Y0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Ip.call(t)==W0}var V0=K0;function Z0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var uf=Z0;function J0(e){return Po(e,fi(e))}var Q0=J0;function q0(e,r,t,n,o,a,l){var p=uf(e,t),m=uf(r,t),x=l.get(m);if(x){af(e,t,x);return}var T=a?a(p,m,t+"",e,r,l):void 0,j=T===void 0;if(j){var _=d(m),H=!_&&Object(fn.a)(m),Z=!_&&!H&&kl(m);T=m,_||H||Z?d(p)?T=p:U0(p)?T=xp(p):H?(j=!1,T=Object(Ep.a)(m,!0)):Z?(j=!1,T=Tp(m,!0)):T=[]:V0(m)||Nn(m)?(T=p,Nn(p)?T=Q0(p):(!At(p)||vo(p))&&(T=wp(m))):j=!1}j&&(l.set(m,T),o(T,m,n,a,l),l.delete(m)),af(e,t,T)}var eP=q0;function Bp(e,r,t,n,o){e!==r&&zd(r,function(a,l){if(o||(o=new Mn),At(a))eP(e,r,l,t,Bp,n,o);else{var p=n?n(uf(e,l),a,l+"",e,r,o):void 0;p===void 0&&(p=a),af(e,l,p)}},fi)}var tP=Bp,rP=Ud(function(e,r,t){tP(e,r,t)}),_p=rP,nP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Lp=function(r){var t=jt(nP);return r&&(t=_p(t,r)),t};i(78),i(158);function oP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iP(e,r,t){return r&&zp(e.prototype,r),t&&zp(e,t),e}function aP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var uP="*",sP=function(){function e(){oP(this,e),aP(this,"_events",{})}return iP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(l){l=l.trim(),a._events[l]||(a._events[l]=[]),a._events[l].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var l=o._events[a]||[],p=o._events[uP]||[],m=function(T){for(var j=T.length,_=0;_<j;_++)if(!!T[_]){var H=T[_],Z=H.callback,ae=H.once;ae&&(T.splice(_,1),T.length===0&&delete o._events[a],j--,_--),Z.apply(o,[n])}};m(l),m(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var l=o._events[a]||[],p=l.length,m=0;m<p;m++)l[m].callback===n&&(l.splice(m,1),p--,m--);l.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Dn(e,r){return r*Math.round(e/r)||e}function Fp(e,r){return e%r}function sf(e,r){return dP(e)||cP(e,r)||fP(e,r)||lP()}function lP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fP(e,r){if(!!e){if(typeof e=="string")return Gp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gp(e,r)}}function Gp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function dP(e){if(Array.isArray(e))return e}var lf=function(r,t,n){var o=sf(r,2),a=o[0],l=o[1],p=sf(t,2),m=p[0],x=p[1],T=sf(n,2),j=T[0],_=T[1];return a>m&&a<j&&l>x&&l<_},Hp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var wa,pP=new Uint8Array(16);function hP(){if(!wa&&(wa=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wa(pP)}var vP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yP(e){return typeof e=="string"&&vP.test(e)}for(var gP=yP,Kt=[],ff=0;ff<256;++ff)Kt.push((ff+256).toString(16).substr(1));function mP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Kt[e[r+0]]+Kt[e[r+1]]+Kt[e[r+2]]+Kt[e[r+3]]+"-"+Kt[e[r+4]]+Kt[e[r+5]]+"-"+Kt[e[r+6]]+Kt[e[r+7]]+"-"+Kt[e[r+8]]+Kt[e[r+9]]+"-"+Kt[e[r+10]]+Kt[e[r+11]]+Kt[e[r+12]]+Kt[e[r+13]]+Kt[e[r+14]]+Kt[e[r+15]]).toLowerCase();if(!gP(t))throw TypeError("Stringified UUID is invalid");return t}var bP=mP;function OP(e,r,t){e=e||{};var n=e.random||(e.rng||hP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return bP(n)}var cf=OP,ro=function(){var r=cf();return r},EP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+cf(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+cf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var xP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var l=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(l-r.x)*(l-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(l-n.x)*(l-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:l,y:p}:!1},ci=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function Na(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Na=function(t){return typeof t}:Na=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function Up(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function kp(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Up(Object(t),!0).forEach(function(n){SP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Up(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function SP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var df=function(r){var t=r.anchors;return t},Da=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var l=n[a],p=TP(r,l);if(p){var m=AP(r,l);if(m){var x={node:l,anchorIndex:m.index,anchor:m.anchor};(!o||PP(l,o.node,t))&&(o=x)}}}return o},PP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},AP=function(r,t){for(var n=df(t),o,a=Number.MAX_SAFE_INTEGER,l=0;l<n.length;l++){var p=Wr(r.x,r.y,n[l].x,n[l].y);p<a&&(a=p,o={index:l,anchor:kp(kp({},n[l]),{},{x:n[l].x,y:n[l].y,id:n[l].id})})}return o},Wr=function(r,t,n,o){return Math.hypot(r-n,t-o)},jn=function(r,t){var n=!1,o=0,a=Or(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},TP=function(r,t){var n=!1,o=5,a=Or(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},Or=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,l={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return l},MP=function(r){var t=r,n=t.x,o=t.y,a=t.width,l=t.height,p=t.radius,m=[{x:n-a/2+p,y:o-l/2+p,r:p},{x:n+a/2-p,y:o-l/2+p,r:p},{x:n-a/2+p,y:o+l/2-p,r:p},{x:n+a/2-p,y:o+l/2-p,r:p}];return m},Xp=function(r,t,n){var o=MP(n),a,l=Number.MAX_SAFE_INTEGER;o.forEach(function(m){var x=Wr(r.x,r.y,m.x,m.y);x<l&&(l=x,a=m)});var p=pf(r,t,a);return p},pf=function(r,t,n){var o,a=n,l=a.x,p=a.y,m=a.r;if(t===Dt.HORIZONTAL){var x=l-Math.sqrt(m*m-(r.y-p)*(r.y-p)),T=l+Math.sqrt(m*m-(r.y-p)*(r.y-p)),j=Math.abs(x-r.x)<Math.abs(T-r.x)?x:T;o={x:j,y:r.y}}else if(t===Dt.VERTICAL){var _=p-Math.sqrt(m*m-(r.x-l)*(r.x-l)),H=p+Math.sqrt(m*m-(r.x-l)*(r.x-l)),Z=Math.abs(_-r.y)<Math.abs(H-r.y)?_:H;o={x:r.x,y:Z}}return o},$p=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},l=n.x,p=n.y,m=n.width,x=n.height;return r.y===p+x/2||r.y===p-x/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===l+m/2||r.x===l-m/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},Yp=function(r,t,n){var o,a=n,l=a.x,p=a.y,m=a.rx,x=a.ry;if(t===Dt.HORIZONTAL){var T=l-Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(x*x)),j=l+Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(x*x)),_=Math.abs(T-r.x)<Math.abs(j-r.x)?T:j;o={x:_,y:r.y}}else if(t===Dt.VERTICAL){var H=p-Math.sqrt(x*x-(r.x-l)*(r.x-l)*x*x/(m*m)),Z=p+Math.sqrt(x*x-(r.x-l)*(r.x-l)*x*x/(m*m)),ae=Math.abs(H-r.y)<Math.abs(Z-r.y)?H:Z;o={x:r.x,y:ae}}return o},ja=function(r,t,n){for(var o=n,a=o.pointsPosition,l=Number.MAX_SAFE_INTEGER,p,m=[],x=0;x<a.length;x++)m.push({start:a[x],end:a[(x+1)%a.length]});return m.forEach(function(T){var j=T.start,_=T.end,H=j,Z=_;j.x>_.x&&(H=_,Z=j);var ae={x:r.x,y:r.y};if(H.x===Z.x&&t===Dt.HORIZONTAL&&(ae={x:H.x,y:r.y}),H.y===Z.y&&t===Dt.VERTICAL&&(ae={x:r.x,y:H.y}),H.x!==Z.x&&H.y!==Z.y){var se=(Z.y-H.y)/(Z.x-H.x),le=(H.x*Z.y-Z.x*H.y)/(H.x-Z.x);t===Dt.HORIZONTAL?ae={x:(r.y-le)/se,y:r.y}:t===Dt.VERTICAL&&(ae={x:r.x,y:se*r.x+le})}var we=ci(ae,j,_);if(we){var ge=Wr(ae.x,ae.y,r.x,r.y);ge<l&&(l=ge,p=ae)}}),p},wP=function(r){var t=li(r,["id","type","x","y","text","properties","virtual"]);return t},Wp=function(r,t,n,o){var a=r.x,l=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?l=r.y+o/2:t.y<r.y&&(l=r.y-o/2),{x:a,y:l}},Kp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,l=document.createElement("div");l.style.fontSize=n.fontSize,l.style.width=n.width,l.className=a,l.style.lineHeight=n.lineHeight,l.style.padding=n.padding,n.fontFamily&&(l.style.fontFamily=n.fontFamily),o>1?t.forEach(function(m){var x=document.createElement("div");x.textContent=m,l.appendChild(x)}):l.textContent=t,document.body.appendChild(l);var p=l.clientHeight;return document.body.removeChild(l),p},hf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(l){var p=Fh(l);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ca=function(r){return Na(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},Vp={node:!1,edge:!1},NP={node:!0,edge:!0},DP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},er=function(r){try{return JSON.parse(JSON.stringify(r))}catch(t){return r}},jP=1e3,CP=999,vf=function(){return++jP},RP=function(){return--CP},ye,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,sh,lh,fh,ch,dh,ph,hh;function vh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Br(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vh(Object(t),!0).forEach(function(n){Er(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ht(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function IP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BP(e,r,t){return r&&yh(e.prototype,r),t&&yh(e,t),e}function Er(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function et(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var yf=(ye=function(){function e(r,t){IP(this,e),Er(this,"id",ro()),Ht(this,"type",Zp,this),Ht(this,"sourceNodeId",Jp,this),Ht(this,"targetNodeId",Qp,this),Ht(this,"startPoint",qp,this),Ht(this,"endPoint",eh,this),Ht(this,"text",th,this),Ht(this,"properties",rh,this),Ht(this,"points",nh,this),Ht(this,"pointsList",oh,this),Ht(this,"isSelected",ih,this),Ht(this,"isHovered",ah,this),Ht(this,"isHitable",uh,this),Ht(this,"draggable",sh,this),Ht(this,"visible",lh,this),Er(this,"virtual",!1),Ht(this,"isAnimation",fh,this),Er(this,"graphModel",void 0),Ht(this,"zIndex",ch,this),Er(this,"BaseType",Gt.EDGE),Er(this,"modelType",pt.EDGE),Ht(this,"state",dh,this),Er(this,"additionStateData",void 0),Er(this,"sourceAnchorId",""),Er(this,"targetAnchorId",""),Er(this,"menu",void 0),Er(this,"customTextPosition",!1),Er(this,"animationData",DP),Ht(this,"style",ph,this),Ht(this,"arrowConfig",hh,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return BP(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}or(this,PA(t));var l=this.graphModel.overlapMode;l===br.INCREASE&&(this.zIndex=t.zIndex||vf()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Br(Br({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return jt(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return jt(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return jt(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return jt(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,l=df(t);return l.forEach(function(p){var m=Uh(p,n);a?m<a&&(a=m,o=p):(a=m,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,l=df(t);return l.forEach(function(p){var m=Uh(p,n.startPoint);a?m<a&&(a=m,o=p):(a=m,o=p)}),o}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return a&&(l.text={x:n,y:o,value:a}),this.graphModel.overlapMode===br.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=er(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Br(Br({},this.properties),er(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=Br(Br({},this.style),{},Er({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=Br(Br({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=Br({},er(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,l=o.y,p=o.value,m=o.draggable,x=o.editable;this.text={value:p,draggable:m,x:a+t,y:l+n,editable:x}}}},{key:"setText",value:function(t){t&&or(this.text,t)}},{key:"updateText",value:function(t){this.text=Br(Br({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){or(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Zp=et(ye.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp=et(ye.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qp=et(ye.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qp=et(ye.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eh=et(ye.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),th=et(ye.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),rh=et(ye.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),nh=et(ye.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),oh=et(ye.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ih=et(ye.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ah=et(ye.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uh=et(ye.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sh=et(ye.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lh=et(ye.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fh=et(ye.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ch=et(ye.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dh=et(ye.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ph=et(ye.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hh=et(ye.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),et(ye.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"sourceNode"),ye.prototype),et(ye.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"targetNode"),ye.prototype),et(ye.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"textPosition"),ye.prototype),et(ye.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperty"),ye.prototype),et(ye.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"deleteProperty"),ye.prototype),et(ye.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperties"),ye.prototype),et(ye.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"changeEdgeId"),ye.prototype),et(ye.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyle"),ye.prototype),et(ye.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyles"),ye.prototype),et(ye.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStyles"),ye.prototype),et(ye.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"formatText"),ye.prototype),et(ye.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"resetTextPosition"),ye.prototype),et(ye.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveText"),ye.prototype),et(ye.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setText"),ye.prototype),et(ye.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateText"),ye.prototype),et(ye.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setAnchors"),ye.prototype),et(ye.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setSelected"),ye.prototype),et(ye.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHovered"),ye.prototype),et(ye.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHitable"),ye.prototype),et(ye.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"openEdgeAnimation"),ye.prototype),et(ye.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"closeEdgeAnimation"),ye.prototype),et(ye.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setElementState"),ye.prototype),et(ye.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStartPoint"),ye.prototype),et(ye.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveStartPoint"),ye.prototype),et(ye.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateEndPoint"),ye.prototype),et(ye.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveEndPoint"),ye.prototype),et(ye.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setZIndex"),ye.prototype),et(ye.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"initPoints"),ye.prototype),et(ye.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAttributes"),ye.prototype),et(ye.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustStart"),ye.prototype),et(ye.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustEnd"),ye.prototype),et(ye.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAfterAdjustStartAndEnd"),ye.prototype),ye),gf=yf;function Ra(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ra=function(t){return typeof t}:Ra=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(e)}function gh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function mh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gh(Object(t),!0).forEach(function(n){Eh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LP(e,r,t){return r&&bh(e.prototype,r),t&&bh(e,t),e}function Ia(){return typeof Reflect!="undefined"&&Reflect.get?Ia=Reflect.get:Ia=function(r,t,n){var o=zP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ia.apply(this,arguments)}function zP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ao(e),e!==null););return e}function FP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&mf(e,r)}function mf(e,r){return mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},mf(e,r)}function GP(e){var r=UP();return function(){var n=Ao(e),o;if(r){var a=Ao(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HP(this,o)}}function HP(e,r){if(r&&(Ra(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oh(e)}function Oh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(e)}function Eh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var bf=function(e){FP(t,e);var r=GP(t);function t(){var n;_P(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Eh(Oh(n),"modelType",pt.LINE_EDGE),n}return LP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=Ia(Ao(t.prototype),"getEdgeStyle",this).call(this);return mh(mh({},a),jt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(gf);function Ba(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ba=function(t){return typeof t}:Ba=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(e)}var at,xh;function kP(e,r){return WP(e)||YP(e,r)||$P(e,r)||XP()}function XP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $P(e,r){if(!!e){if(typeof e=="string")return Sh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sh(e,r)}}function Sh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function YP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function WP(e){if(Array.isArray(e))return e}function Ph(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ah(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ph(Object(t),!0).forEach(function(n){Ef(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ph(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function KP(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function VP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Th(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZP(e,r,t){return r&&Th(e.prototype,r),t&&Th(e,t),e}function To(){return typeof Reflect!="undefined"&&Reflect.get?To=Reflect.get:To=function(r,t,n){var o=JP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},To.apply(this,arguments)}function JP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Cn(e),e!==null););return e}function QP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Of(e,r)}function Of(e,r){return Of=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Of(e,r)}function qP(e){var r=tA();return function(){var n=Cn(e),o;if(r){var a=Cn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eA(this,o)}}function eA(e,r){if(r&&(Ba(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(e)}function Ef(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var xf=(at=function(e){QP(t,e);var r=qP(t);function t(){var n;VP(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Ef(di(n),"modelType",pt.POLYLINE_EDGE),Ef(di(n),"draginngPointList",void 0),KP(di(n),"dbClickPosition",xh,di(n)),n}return ZP(t,[{key:"initEdgeData",value:function(o){this.offset=30,To(Cn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=To(Cn(t.prototype),"getEdgeStyle",this).call(this);return Ah(Ah({},a),jt(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var l=this.dbClickPosition,p=l.x,m=l.y;return{x:p,y:m}}var x=Mo(this.points),T=OA(x),j=kP(T,2),_=j[0],H=j[1];return{x:(_.x+H.x)/2,y:(_.y+H.y)/2}}},{key:"getAfterAnchor",value:function(o,a,l){var p,m;return l.forEach(function(x){var T;o===Dt.HORIZONTAL?T=Math.abs(a.y-x.y):o===Dt.VERTICAL&&(T=Math.abs(a.x-x.x)),(!m||m>T)&&(m=T,p=x)}),p}},{key:"getCorssPoint",value:function(o,a,l){var p;return o===Dt.HORIZONTAL?p={x:l.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:l.y}),p}},{key:"removeCrossPoints",value:function(o,a,l){var p=l.map(function(Re){return Re});if(o===1){var m=p[o],x=p[a],T=p[o-1],j=Bh(T,m,this.sourceNode);if(j){var _=_h(m,x,this.sourceNode);if(_){var H=Lh(m,x,this.sourceNode);H&&(p[o]=H,p.splice(o-1,1),o--,a--)}}else{var Z=this.sourceNode.anchors;Z.forEach(function(Re){if(Re.x===T.x&&Re.x===m.x||Re.y===T.y&&Re.y===m.y){var Ze=Wr(Re.x,Re.y,m.x,m.y),Ge=Wr(T.x,T.y,m.x,m.y);Ze<Ge&&(p[o-1]=Re)}})}}if(a===l.length-2){var ae=p[o],se=p[a],le=p[a+1],we=Bh(se,le,this.targetNode);if(we){var ge=_h(ae,se,this.targetNode);if(ge){var be=Lh(ae,se,this.targetNode);be&&(p[a]=be,p.splice(a+1,1))}}else{var Fe=this.targetNode.anchors;Fe.forEach(function(Re){if(Re.x===le.x&&Re.x===se.x||Re.y===le.y&&Re.y===se.y){var Ze=Wr(Re.x,Re.y,se.x,se.y),Ge=Wr(le.x,le.y,se.x,se.y);Ze<Ge&&(p[a+1]=Re)}})}}return p}},{key:"getDragingPoints",value:function(o,a,l,p,m){var x=m.map(function(_){return _}),T=this.getAfterAnchor(o,l,p),j=this.getCorssPoint(o,l,T);return a==="start"?(x.unshift(j),x.unshift(T)):(x.push(j),x.push(T)),x}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(be){return be}),l=o[0],p=o[1],m=o[a.length-2],x=o[a.length-1],T=this.sourceNode,j=this.targetNode,_=T.modelType,H=j.modelType,Z=Ua(l,p),ae=a[0];switch(_){case pt.RECT_NODE:if(T.radius!==0){var se=$p(l,T);se||(ae=Xp(l,Z,T))}break;case pt.CIRCLE_NODE:ae=pf(l,Z,T);break;case pt.ELLIPSE_NODE:ae=Yp(l,Z,T);break;case pt.DIAMOND_NODE:ae=ja(l,Z,T);break;case pt.POLYGON_NODE:ae=ja(l,Z,T);break}a[0]=ae;var le=Ua(m,x),we=a[a.length-1];switch(H){case pt.RECT_NODE:if(j.radius!==0){var ge=$p(x,j);ge||(we=Xp(x,le,j))}break;case pt.CIRCLE_NODE:we=pf(x,le,j);break;case pt.ELLIPSE_NODE:we=Yp(x,le,j);break;case pt.DIAMOND_NODE:we=ja(x,le,j);break;case pt.POLYGON_NODE:we=ja(x,le,j);break}return a[a.length-1]=we,a}},{key:"getData",value:function(){var o=To(Cn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var p=l.x,m=l.y;return{x:p,y:m}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Ih({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var l=o.start,p=o.end,m=o.startIndex,x=o.endIndex,T=o.direction,j=this.pointsList,_=j;return T===Dt.HORIZONTAL?(j[m]={x:l.x,y:l.y+a.y},j[x]={x:p.x,y:p.y+a.y},_=this.pointsList.map(function(H){return H})):T===Dt.VERTICAL&&(j[m]={x:l.x+a.x,y:l.y},j[x]={x:p.x+a.x,y:p.y},_=this.pointsList.map(function(H){return H})),this.updatePointsAfterDrag(_),this.draginngPointList=_,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[m]),end:Object.assign({},j[x]),startIndex:m,endIndex:x,direction:T}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var l=o.start,p=o.end,m=o.startIndex,x=o.endIndex,T=o.direction,j=this.pointsList;if(T===Dt.HORIZONTAL){j[m]={x:l.x,y:l.y+a.y},j[x]={x:p.x,y:p.y+a.y};var _=this.pointsList.map(function(yt){return yt});if(m!==0&&x!==this.pointsList.length-1&&(_=this.removeCrossPoints(m,x,_)),m===0){var H={x:l.x,y:l.y+a.y},Z=jn(H,this.sourceNode);if(!Z){var ae=this.sourceNode.anchors;_=this.getDragingPoints(T,"start",H,ae,_)}}if(x===this.pointsList.length-1){var se={x:p.x,y:p.y+a.y},le=jn(se,this.targetNode);if(!le){var we=this.targetNode.anchors;_=this.getDragingPoints(T,"end",se,we,_)}}this.updatePointsAfterDrag(_),this.draggingPointList=_}else if(T===Dt.VERTICAL){j[m]={x:l.x+a.x,y:l.y},j[x]={x:p.x+a.x,y:p.y};var ge=this.pointsList.map(function(yt){return yt});if(m!==0&&x!==this.pointsList.length-1&&(ge=this.removeCrossPoints(m,x,ge)),m===0){var be={x:l.x+a.x,y:l.y},Fe=jn(be,this.sourceNode);if(!Fe){var Re=this.sourceNode.anchors;ge=this.getDragingPoints(T,"start",be,Re,ge)}}if(x===this.pointsList.length-1){var Ze={x:p.x+a.x,y:p.y},Ge=jn(Ze,this.targetNode);if(!Ge){var ht=this.targetNode.anchors;ge=this.getDragingPoints(T,"end",Ze,ht,ge)}}this.updatePointsAfterDrag(ge),this.draggingPointList=ge}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[m]),end:Object.assign({},j[x]),startIndex:m,endIndex:x,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Rh(Mo(this.points));this.pointsList=o.map(function(p){return p}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,l=o.endPoint,p=o.sourceNode,m=o.targetNode,x=Ih({x:a.x,y:a.y},{x:l.x,y:l.y},p,m,this.offset||0);this.pointsList=x,this.initPoints()}}]),t}(gf),xh=ir(at.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir(at.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"initPoints"),at.prototype),ir(at.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePoints"),at.prototype),ir(at.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateStartPoint"),at.prototype),ir(at.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveStartPoint"),at.prototype),ir(at.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateEndPoint"),at.prototype),ir(at.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveEndPoint"),at.prototype),ir(at.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendStart"),at.prototype),ir(at.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendSimple"),at.prototype),ir(at.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppend"),at.prototype),ir(at.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendEnd"),at.prototype),ir(at.prototype,"updatePointsAfterDrag",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePointsAfterDrag"),at.prototype),ir(at.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustStart"),at.prototype),ir(at.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustEnd"),at.prototype),ir(at.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateAfterAdjustStartAndEnd"),at.prototype),at),pi=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,l=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},m=Math.atan((n.y-t.y)/(n.x-t.x)),x=Math.atan(o/a),T=Math.sqrt(a*a+o*o);return l==="start"?n.x>=t.x?(p.leftX=t.x+T*Math.sin(m+x),p.leftY=t.y-T*Math.cos(m+x),p.rightX=t.x-T*Math.sin(m-x),p.rightY=t.y+T*Math.cos(m-x)):(p.leftX=t.x-T*Math.sin(m+x),p.leftY=t.y+T*Math.cos(m+x),p.rightX=t.x+T*Math.sin(m-x),p.rightY=t.y-T*Math.cos(m-x)):l==="end"&&(n.x>=t.x?(p.leftX=n.x+T*Math.sin(m-x),p.leftY=n.y-T*Math.cos(m-x),p.rightX=n.x-T*Math.sin(m+x),p.rightY=n.y+T*Math.cos(m+x)):(p.leftX=n.x-T*Math.sin(m-x),p.leftY=n.y+T*Math.cos(m-x),p.rightX=n.x+T*Math.sin(m+x),p.rightY=n.y-T*Math.cos(m+x))),p};function Mh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function _a(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mh(Object(t),!0).forEach(function(n){rA(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function rA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function nA(e){return aA(e)||iA(e)||wh(e)||oA()}function oA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aA(e){if(Array.isArray(e))return Pf(e)}function La(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(t){return typeof t}:La=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}function Sf(e,r){return lA(e)||sA(e,r)||wh(e,r)||uA()}function uA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wh(e,r){if(!!e){if(typeof e=="string")return Pf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pf(e,r)}}function Pf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function sA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function lA(e){if(Array.isArray(e))return e}var fA=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Af=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},za=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},cA=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Fa=function(r,t){var n=cA(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Nh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),l=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+l)/2,minX:n,minY:o,maxX:a,maxY:l,height:l-o,width:a-n}},hi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(j){n.push(j.x),o.push(j.y)});var a=Math.min.apply(Math,n),l=Math.max.apply(Math,n),p=Math.min.apply(Math,o),m=Math.max.apply(Math,o),x=l-a,T=m-p;return t&&(x+=t,T+=t),{centerX:(a+l)/2,centerY:(p+m)/2,maxX:l,maxY:m,minX:a,minY:p,x:(a+l)/2,y:(p+m)/2,height:T,width:x}},Ga=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},Ha=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},dA=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},pA=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},hA=function(r,t){return dA(r,t.x).concat(pA(r,t.y))},Tf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},vA=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},Dh=function(r,t,n,o,a){return Tf(r,t)+Tf(r,n)+vA(r,[t,n,o,a])},yA=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},gA=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},vi=function(r,t,n,o){var a=t.x-r.x,l=t.y-r.y,p=o.x-n.x,m=o.y-n.y,x=(-l*(r.x-n.x)+a*(r.y-n.y))/(-p*l+a*m),T=(p*(r.y-n.y)-m*(r.x-n.x))/(-p*l+a*m);return x>=0&&x<=1&&T>=0&&T<=1},jh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Ga(n),a=Sf(o,4),l=a[0],p=a[1],m=a[2],x=a[3];return vi(r,t,l,p)||vi(r,t,l,x)||vi(r,t,p,m)||vi(r,t,m,x)},mA=function(r,t,n,o){var a=[];return r.forEach(function(l){l!==t&&(l.x===t.x||l.y===t.y)&&!jh(l,t,n)&&!jh(l,t,o)&&a.push(l)}),Af(a)},bA=function(r,t,n,o,a,l,p){var m=[],x=[t],T={},j={},_={};j[t.id]=0,_[t.id]=Dh(t,n,t);var H={};r.forEach(function(se){H[se.id]=se});for(var Z=function(){var le=void 0,we=1/0;if(x.forEach(function(be){_[be.id]<we&&(we=_[be.id],le=be)}),le===n){var ge=[];return yA(ge,H,T,n.id),{v:ge}}gA(x,le),m.push(le),mA(r,le,o,a).forEach(function(be){if(m.indexOf(be)===-1){x.indexOf(be)===-1&&x.push(be);var Fe=_[le.id]+Tf(le,be);j[be.id]&&Fe>=j[be.id]||(T[be.id]=le.id,j[be.id]=Fe,_[be.id]=j[be.id]+Dh(be,n,t,l,p))}})};x.length;){var ae=Z();if(La(ae)==="object")return ae.v}return[t,n]},Ch=function(r){var t=Or(r);return t},Rh=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],a=t[n],l=t[n+1];o.x===a.x&&a.x===l.x||o.y===a.y&&a.y===l.y?t.splice(n,1):n++}return t},Ih=function(r,t,n,o,a){var l=Ch(n),p=Ch(o),m=za(l,a),x=za(p,a),T=Fa(m,r),j=Fa(x,t);if(fA(m,x)){var _=EA(r,t,T,j);return[r,T].concat(nA(_),[j,t])}var H=hi([T,j]),Z=Nh(m,H),ae=Nh(x,H),se=[];se=se.concat(Ga(Z)),se=se.concat(Ga(ae));var le={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[H,Z,ae].forEach(function(ge){se=se.concat(hA(ge,le).filter(function(be){return Ha(be,m)&&Ha(be,x)}))}),[{x:T.x,y:j.y},{x:j.x,y:T.y}].forEach(function(ge){Ha(ge,m)&&Ha(ge,x)&&se.push(ge)}),se.unshift(T),se.push(j),se=Af(se);var we=bA(se,T,j,l,p,r,t);return we.unshift(r),we.push(t),we.length>2&&(we=Rh(we)),Af(we)},OA=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Wr(n.x,n.y,o.x,o.y),l=1;l<r.length-1;l++){var p=r[l],m=r[l+1],x=Wr(p.x,p.y,m.x,m.y);x>a&&(a=x,n=p,o=m)}t=[n,o]}return t},Bh=function(r,t,n){var o=jn(r,n),a=jn(t,n);return o&&a},_h=function(r,t,n){var o=jn(r,n),a=jn(t,n),l=o&&a,p=o||a;return!l&&p},Lh=function(r,t,n){for(var o,a,l=Or(n),p=Ga(l),m=0;m<p.length;m++){var x=vi(r,t,p[m],p[(m+1)%p.length]);x&&(a=[p[m],p[(m+1)%p.length]])}return a&&(o=xP(r,t,a[0],a[1])),o},Ua=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},Mo=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),l=Sf(a,2),p=l[0],m=l[1];n.push({x:Number(p),y:Number(m)})}),n},EA=function(r,t,n,o){var a=[],l=Ua(r,n),p=Ua(t,o);if(l===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var m={x:n.x,y:o.y},x=ci(m,r,n),T=ci(m,t,o);if(x||T)m={x:o.x,y:n.y};else{var j=zh(m,r,n),_=zh(m,t,o);j&&_&&(m={x:o.x,y:n.y})}a.push(m)}return a},zh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},Fh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},xA=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},l=pi(_a(_a({},a),{},{type:"start"})),p=pi(_a(_a({},a),{},{type:"end"}));o="M".concat(l.leftX," ").concat(l.leftY,` 
    L`).concat(l.rightX," ").concat(l.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Gh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,l=r.offset,p=Or(o),m=Or(a),x=za(p,l),T=za(m,l),j=Fa(x,t),_=Fa(T,n);return{sNext:j,ePre:_}},ka=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Xa(t[0]),o=Xa(t[1]),a=Xa(t[2]),l=Xa(t[3]);return[n,o,a,l]},Xa=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=Sf(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},SA=function(r){var t=ka(r);return[t[2],t[3]]},Hh=function(r,t){for(var n=r.x,o=r.y,a=Mo(t),l=Number.MAX_SAFE_INTEGER,p,m=[],x=0;x<a.length;x++)m.push({start:a[x],end:a[(x+1)%a.length]});if(m.forEach(function(H){var Z=H.start,ae=H.end;if(Z.x===ae.x){var se={x:Z.x,y:o},le=ci(se,Z,ae);if(le){var we=Math.abs(Z.x-n);we<l&&(l=we,p=se)}}else if(Z.y===ae.y){var ge={x:n,y:Z.y},be=ci(ge,Z,ae);if(be){var Fe=Math.abs(Z.y-o);Fe<l&&(l=Fe,p=ge)}}}),!p){var T=m[0],j=T.start,_=T.end;p={x:j.x+(_.x-j.x)/2,y:j.y+(_.y-j.y)/2}}return p},PA=function(r){return li(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Uh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function AA(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function TA(){}var wo=TA;function MA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function kh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wA(e,r,t){return r&&kh(e.prototype,r),t&&kh(e,t),e}function zt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Kr=window.document,Xh=0;function Mf(e){var r=e.onDragStart,t=r===void 0?wo:r,n=e.onDraging,o=n===void 0?wo:n,a=e.onDragEnd,l=a===void 0?wo:a,p=e.step,m=p===void 0?1:p,x=e.isStopPropagation,T=x===void 0?!0:x,j=!1,_=!1,H=0,Z=0,ae=0,se=0;function le(be){if(T&&be.stopPropagation(),!!_&&(j=!0,ae+=be.clientX-H,se+=be.clientY-Z,H=be.clientX,Z=be.clientY,Math.abs(ae)>m||Math.abs(se)>m)){var Fe=ae%m,Re=se%m,Ze=ae-Fe,Ge=se-Re;ae=Fe,se=Re,o({deltaX:Ze,deltaY:Ge,event:be})}}function we(be){if(T&&be.stopPropagation(),_=!1,Kr.removeEventListener("mousemove",le,!1),Kr.removeEventListener("mouseup",we,!1),!!j)return j=!1,l({event:be})}function ge(be){if(be.button===Xh)return T&&be.stopPropagation(),_=!0,H=be.clientX,Z=be.clientY,Kr.addEventListener("mousemove",le,!1),Kr.addEventListener("mouseup",we,!1),t({event:be})}return ge}var no=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?wo:n,a=r.onDraging,l=a===void 0?wo:a,p=r.onDragEnd,m=p===void 0?wo:p,x=r.eventType,T=x===void 0?"":x,j=r.eventCenter,_=j===void 0?null:j,H=r.step,Z=H===void 0?1:H,ae=r.isStopPropagation,se=ae===void 0?!0:ae,le=r.model,we=le===void 0?null:le;MA(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(ge){var be,Fe;if(ge.button===Xh){t.isStopPropagation&&ge.stopPropagation(),t.isStartDraging=!0,t.startX=ge.clientX,t.startY=ge.clientY,Kr.addEventListener("mousemove",t.handleMouseMove,!1),Kr.addEventListener("mouseup",t.handleMouseUp,!1);var Re=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEDOWN")],{e:ge,data:Re}),t.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(ge){if(t.isStopPropagation&&ge.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=ge.clientX-t.startX,t.sumDeltaY+=ge.clientY-t.startY,t.startX=ge.clientX,t.startY=ge.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var be,Fe=t.sumDeltaX%t.step,Re=t.sumDeltaY%t.step,Ze=t.sumDeltaX-Fe,Ge=t.sumDeltaY-Re;t.sumDeltaX=Fe,t.sumDeltaY=Re;var ht=(be=t.model)===null||be===void 0?void 0:be.getData();if(!t.isDraging){var yt;(yt=t.eventCenter)===null||yt===void 0||yt.emit(it["".concat(t.eventType,"_DRAGSTART")],{e:ge,data:ht}),t.onDragStart({event:ge})}t.isDraging=!0,Promise.resolve().then(function(){var sr,xr;t.onDraging({deltaX:Ze,deltaY:Ge,event:ge}),(sr=t.eventCenter)===null||sr===void 0||sr.emit(it["".concat(t.eventType,"_MOUSEMOVE")],{e:ge,data:ht}),(xr=t.eventCenter)===null||xr===void 0||xr.emit(it["".concat(t.eventType,"_DRAG")],{e:ge,data:ht})})}}),zt(this,"handleMouseUp",function(ge){t.isStartDraging=!1,t.isStopPropagation&&ge.stopPropagation(),Promise.resolve().then(function(){var be,Fe,Re;Kr.removeEventListener("mousemove",t.handleMouseMove,!1),Kr.removeEventListener("mouseup",t.handleMouseUp,!1);var Ze=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEUP")],{e:ge,data:Ze}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:ge}),(Re=t.eventCenter)===null||Re===void 0||Re.emit(it["".concat(t.eventType,"_DROP")],{e:ge,data:Ze}))})}),zt(this,"cancelDrag",function(){Kr.removeEventListener("mousemove",t.handleMouseMove,!1),Kr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=l,this.onDragEnd=m,this.step=Z,this.isStopPropagation=se,this.eventType=T,this.eventCenter=_,this.model=we}return wA(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),NA=function(r){return!r||typeof r=="boolean"?jt(r===!0?NP:Vp):_p(jt(Vp),r)},de,$h,Yh,Wh,Kh,Vh,Zh,Jh,Qh,qh,ev,tv,rv;function nv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $a(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?nv(Object(t),!0).forEach(function(n){Vr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function wf(e,r){return CA(e)||jA(e,r)||ov(e,r)||DA()}function DA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function CA(e){if(Array.isArray(e))return e}function No(e){return BA(e)||IA(e)||ov(e)||RA()}function RA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ov(e,r){if(!!e){if(typeof e=="string")return Nf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nf(e,r)}}function IA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BA(e){if(Array.isArray(e))return Nf(e)}function Nf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yi=function(t){return typeof t}:yi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function Nr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function _A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LA(e,r,t){return r&&iv(e.prototype,r),t&&iv(e,t),e}function Vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ke(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ya=200,av=(de=function(){function e(r){_A(this,e),Vr(this,"rootEl",void 0),Nr(this,"width",$h,this),Nr(this,"height",Yh,this),Vr(this,"theme",void 0),Vr(this,"eventCenter",void 0),Vr(this,"modelMap",new Map),Vr(this,"topElement",void 0),Vr(this,"animation",void 0),Vr(this,"idGenerator",void 0),Vr(this,"edgeGenerator",void 0),Vr(this,"nodeMoveRules",[]),Nr(this,"edgeType",Wh,this),Nr(this,"nodes",Kh,this),Nr(this,"edges",Vh,this),Nr(this,"overlapMode",Zh,this),Nr(this,"background",Jh,this),Nr(this,"transformModel",Qh,this),Nr(this,"editConfigModel",qh,this),Nr(this,"gridSize",ev,this),Nr(this,"partial",tv,this),Nr(this,"fakerNode",rv,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,l=r.idGenerator,p=r.edgeGenerator,m=r.animation;this.background=o,yi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new fp(r),this.eventCenter=new sP,this.transformModel=new Wx(this.eventCenter),this.theme=Lp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=NA(m),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=l,this.edgeGenerator=AA(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return LA(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(No(this.nodes),No(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(m){return t.push(m)}),this.edges.forEach(function(m){return t.push(m)}),t=t.sort(function(m,x){return m.zIndex-x.zIndex});for(var n=[],o=[-Ya,-Ya],a=[this.width+Ya,this.height+Ya],l=0;l<t.length;l++){var p=t[l];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,a,!1,!1))&&n.push(p)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],m=[];this.nodes.forEach(function(j){return m.push(j)}),this.edges.forEach(function(j){return m.push(j)});for(var x=0;x<m.length;x++){var T=m[x];(!l||T.visible)&&this.isElementInArea(T,t,n,o,a)&&p.push(T)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),l={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),m=wf(p,2),x=m[0],T=m[1];return{domOverlayPosition:l,canvasOverlayPosition:{x,y:T}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Gt.NODE){t=t;for(var p=Or(t),m=p.minX,x=p.minY,T=p.maxX,j=p.maxY,_=[{x:m,y:x},{x:T,y:x},{x:T,y:j},{x:m,y:j}],H=l,Z=0;Z<_.length;Z++){var ae=_[Z],se=ae.x,le=ae.y,we=this.transformModel.CanvasPointToHtmlPoint([se,le]),ge=wf(we,2);if(se=ge[0],le=ge[1],lf([se,le],n,o)!==l){H=!l;break}}return H}if(t.BaseType===Gt.EDGE){t=t;var be=t,Fe=be.startPoint,Re=be.endPoint,Ze=this.transformModel.CanvasPointToHtmlPoint([Fe.x,Fe.y]),Ge=this.transformModel.CanvasPointToHtmlPoint([Re.x,Re.y]),ht=lf(Ze,n,o),yt=lf(Ge,n,o);return a?ht&&yt:ht||yt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=Sa(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,p=o.y;return l&&p&&(o.x=Dn(l,n.gridSize),o.y=Dn(p,n.gridSize),yi(o.text)==="object"&&(o.text.x-=Fp(l,n.gridSize),o.text.y-=Fp(p,n.gridSize))),new a(o,n)}),this.edges=Sa(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var l=!1,p=[],m=0;m<this.edges.length;m++){var x=this.edges[m];if(x.isDragging){l=!0;break}else p.push(x.getHistoryData())}return l?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],l=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(l||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Gt.NODE&&o.nodes.push(a.getData()),a.BaseType===Gt.EDGE){var l=a.getData(),p=n.get(l.sourceNodeId)&&n.get(l.targetNodeId);(t||p)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=ro()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=ro()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===br.DEFAULT){var l;(l=this.topElement)===null||l===void 0||l.setZIndex(),a.setZIndex(Gx),this.topElement=a}this.overlapMode===br.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,l=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(l){var p;typeof n=="number"&&(p=n),n==="top"&&(p=vf()),n==="bottom"&&(p=RP()),l.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(it.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=er(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));n.x=Dn(n.x,this.gridSize),n.y=Dn(n.y,this.gridSize);var a=new o(n,this);this.nodes.push(a);var l=a.getData();return this.eventCenter.emit(it.NODE_ADD,{data:l}),a}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=l.model,m=p.getMoveDistance(n,o,a),x=wf(m,2);n=x[0],o=x[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=l.model,m=p.x,x=p.y,T=n-m,j=o-x;this.moveNode(t,T,j,a)}},{key:"editText",value:function(t){this.setElementStateById(t,Et.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=er(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new a($a($a({},n),{},{type:o}),this),p=l.getData();return this.edges.push(l),this.eventCenter.emit(it.EDGE_ADD,{data:p}),l}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var l=this.edges[a],p=l.textPosition,m=p.x,x=p.y,T=this.edges[a].sourceNodeId===t,j=this.edges[a].targetNodeId===t;if(T&&l.moveStartPoint(n,o),j&&l.moveEndPoint(n,o),T||j){var _;if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===pt.POLYLINE_EDGE&&(_=l.text)!==null&&_!==void 0&&_.value){var H=l.text,Z=Hh(H,l.points);l.moveText(Z.x-H.x,Z.y-H.y)}else{var ae=l.textPosition,se=ae.x,le=ae.y;l.moveText(se-m,le-x)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===br.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(p){return a.moveNode(p,n,o,l)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var a=o.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var p=new l(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var m=this.getNodeEdges(t);m.forEach(function(x){if(x.sourceNodeId===t){var T=Wp(p,x.startPoint,p.width,p.height);x.updateStartPoint(T)}if(x.targetNodeId===t){var j=Wp(p,x.endPoint,p.width,p.height);x.updateEndPoint(j)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(o.type!==n){var a=o.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var p=new l(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Lp($a($a({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(H){var Z=H.x,ae=H.y,se=H.width,le=H.height,we=H.getNodeStyle(),ge=we.strokeWidth,be=ge===void 0?0:ge;n=n.concat([Z+se/2+be,Z-se/2-be]),o=o.concat([ae+le/2+be,ae-le/2-be])});var a=Math.min.apply(Math,No(n)),l=Math.max.apply(Math,No(n)),p=Math.min.apply(Math,No(o)),m=Math.max.apply(Math,No(o)),x=l-a||0,T=m-p||0,j=a+x/2,_=p+T/2;return{virtualRectWidth:x,virtualRectHeight:T,virtualRectCenterPositionX:j,virtualRectCenterPositionY:_}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,l=this.transformModel;if(!!t.length){var p=n||a.clientWidth,m=o||a.clientHeight,x=this.getVirtualRectSize(),T=x.virtualRectCenterPositionX,j=x.virtualRectCenterPositionY;l.focusOn(T,j,p,m)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,l=this.height,p=this.rootEl,m=this.transformModel;if(!!o.length){var x=a||p.clientWidth,T=l||p.clientHeight,j=this.getVirtualRectSize(),_=j.virtualRectWidth,H=j.virtualRectHeight,Z=j.virtualRectCenterPositionX,ae=j.virtualRectCenterPositionY,se=(_+n)/x,le=(H+t)/T,we=0;we=1/Math.max(se,le);var ge=[x/2,T/2];m.zoom(we,ge),m.focusOn(Z,ae,x,T)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),$h=Ke(de.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Ke(de.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Ke(de.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=Ke(de.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vh=Ke(de.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zh=Ke(de.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return br.DEFAULT}}),Jh=Ke(de.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=Ke(de.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=Ke(de.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ev=Ke(de.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),tv=Ke(de.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rv=Ke(de.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke(de.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ke(de.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ke(de.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ke(de.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ke(de.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ke(de.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ke(de.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ke(de.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ke(de.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ke(de.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ke(de.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ke(de.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ke(de.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ke(de.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ke(de.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ke(de.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ke(de.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ke(de.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ke(de.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ke(de.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ke(de.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ke(de.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ke(de.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ke(de.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ke(de.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ke(de.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ke(de.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ke(de.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ke(de.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ke(de.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ke(de.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ke(de.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ke(de.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ke(de.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ke(de.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ke(de.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ke(de.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ke(de.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ke(de.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ke(de.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ke(de.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ke(de.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ke(de.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ke(de.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),zA=av;function Wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wa=function(t){return typeof t}:Wa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}var uv;function Df(){return Df=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Df.apply(this,arguments)}function FA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GA(e,r,t){return r&&sv(e.prototype,r),t&&sv(e,t),e}function HA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function UA(e){var r=XA();return function(){var n=Ka(e),o;if(r){var a=Ka(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kA(this,o)}}function kA(e,r){if(r&&(Wa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function Zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(e)}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var $A=Ur(uv=function(e){HA(t,e);var r=UA(t);function t(n){var o;FA(this,t),o=r.call(this),cn(Zr(o),"stepDrag",void 0),cn(Zr(o),"stepScrollX",0),cn(Zr(o),"stepScrollY",0),cn(Zr(o),"onDraging",function(m){var x=m.deltaX,T=m.deltaY;o.setState({isDraging:!0});var j=o.props.graphModel,_=j.transformModel,H=j.editConfigModel;H.stopMoveGraph||_.translate(x,T)}),cn(Zr(o),"onDragEnd",function(){o.setState({isDraging:!1})}),cn(Zr(o),"zoomHandler",function(m){var x=o.props,T=x.graphModel,j=T.editConfigModel,_=T.transformModel,H=T.gridSize,Z=x.graphModel,ae=m.deltaX,se=m.deltaY;if(!j.stopScrollGraph&&m.ctrlKey!==!0){if(m.preventDefault(),o.stepScrollX+=ae,o.stepScrollY+=se,Math.abs(o.stepScrollX)>=H){var le=o.stepScrollX%H,we=o.stepScrollX-le;_.translate(-we*_.SCALE_X,0),o.stepScrollX=le}if(Math.abs(o.stepScrollY)>=H){var ge=o.stepScrollY%H,be=o.stepScrollY-ge;_.translate(0,-be*_.SCALE_Y),o.stepScrollY=ge}return}if(!j.stopZoomGraph){m.preventDefault();var Fe=Z.getPointByClient({x:m.clientX,y:m.clientY}),Re=Fe.canvasOverlayPosition,Ze=Re.x,Ge=Re.y;_.zoom(m.deltaY<0,[Ze,Ge])}}),cn(Zr(o),"clickHandler",function(m){var x=m.target;if(x.getAttribute("name")==="canvas-overlay"){var T=o.props.graphModel,j=T.selectElements;j.size>0&&T.clearSelectElements(),T.eventCenter.emit(it.BLANK_CLICK,{e:m})}}),cn(Zr(o),"handleContextMenu",function(m){var x=m.target;if(x.getAttribute("name")==="canvas-overlay"){m.preventDefault();var T=o.props.graphModel,j=T.getPointByClient({x:m.clientX,y:m.clientY});T.eventCenter.emit(it.BLANK_CONTEXTMENU,{e:m,position:j})}}),cn(Zr(o),"mouseDownHandler",function(m){var x=o.props.graphModel,T=x.eventCenter,j=x.editConfigModel,_=x.transformModel.SCALE_X,H=x.gridSize,Z=m.target,ae=!j.adjustEdge&&!j.adjustNodePosition;(Z.getAttribute("name")==="canvas-overlay"||ae)&&(j.stopMoveGraph?T.emit(it.BLANK_MOUSEDOWN,{e:m}):(o.stepDrag.setStep(H*_),o.stepDrag.handleMouseDown(m)),o.clickHandler(m))});var a=n.graphModel,l=a.gridSize,p=a.eventCenter;return o.stepDrag=new no({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDraging:!1},o}return GA(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),l=a.transform,p=this.props,m=p.children,x=p.dnd,T=this.state.isDraging;return Object(ne.g)("svg",Df({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:T?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},x.eventMap()),Object(ne.g)("g",{transform:l},m))}}]),t}(ne.a))||uv,YA=$A;function Va(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(t){return typeof t}:Va=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}var lv;function WA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KA(e,r,t){return r&&fv(e.prototype,r),t&&fv(e,t),e}function VA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function ZA(e){var r=QA();return function(){var n=Za(e),o;if(r){var a=Za(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return JA(this,o)}}function JA(e,r){if(r&&(Va(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cv(e)}function cv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(e)}function qA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var eT=Ur(lv=function(e){VA(t,e);var r=ZA(t);function t(){var n;WA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),qA(cv(n),"setToolOverlayRef",function(p){var m=n.props.tool,x=m.getInstance();x.components.forEach(function(T){return T(x,p)}),x.components=[]}),n}return KA(t,[{key:"getTools",value:function(){var o=this.props,a=o.tool,l=o.graphModel,p=a.getTools(),m=p.map(function(x){return Object(ne.g)(x,{graphModel:l,logicFlow:a.instance})});return a.components=m,m}},{key:"render",value:function(){return Object(ne.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(ne.a))||lv;function Ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(t){return typeof t}:Ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function tT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rT(e,r,t){return r&&dv(e.prototype,r),t&&dv(e,t),e}function nT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rf(e,r)}function oT(e){var r=uT();return function(){var n=Qa(e),o;if(r){var a=Qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iT(this,o)}}function iT(e,r){if(r&&(Ja(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aT(e)}function aT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}var sT=function(e){nT(t,e);var r=oT(t);function t(){return tT(this,t),r.apply(this,arguments)}return rT(t,[{key:"render",value:function(){var o=this.props.background;return Object(ne.g)("div",{className:"lf-background"},Object(ne.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(ne.a);function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}var pv;function lT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fT(e,r,t){return r&&hv(e.prototype,r),t&&hv(e,t),e}function cT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function dT(e){var r=hT();return function(){var n=eu(e),o;if(r){var a=eu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pT(this,o)}}function pT(e,r){if(r&&(qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vv(e)}function vv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}function vT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yv=Ur(pv=function(e){cT(t,e);var r=dT(t);function t(){var n;lT(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),vT(vv(n),"id",ro()),n}return fT(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,l=a.color,p=a.thickness,m=p===void 0?2:p,x=o.size,T=o.visible,j=Math.min(Math.max(2,m),x/2),_=1;return T||(_=0),Object(ne.g)("rect",{width:j,height:j,rx:j/2,ry:j/2,fill:l,opacity:_})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,l=a.color,p=a.thickness,m=p===void 0?1:p,x=o.size,T=o.visible,j=Math.min(Math.max(1,m),x/2),_="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),H=1;return T||(H=0),Object(ne.g)("path",{d:_,stroke:l,strokeWidth:j,opacity:H})}},{key:"render",value:function(){var o=this.props,a=o.type,l=o.size,p=o.graphModel.transformModel,m=p.SCALE_X,x=p.SKEW_Y,T=p.SKEW_X,j=p.SCALE_Y,_=p.TRANSLATE_X,H=p.TRANSLATE_Y,Z=[m,x,T,j,_,H].join(","),ae="matrix(".concat(Z,")");return Object(ne.g)("div",{className:"lf-grid"},Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ne.g)("defs",null,Object(ne.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ae,x:"0",y:"0",width:l,height:l},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ne.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(ne.a))||pv;yv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tu=function(t){return typeof t}:tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function yT(e,r){return OT(e)||bT(e,r)||mT(e,r)||gT()}function gT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mT(e,r){if(!!e){if(typeof e=="string")return gv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gv(e,r)}}function gv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function bT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function OT(e){if(Array.isArray(e))return e}function ET(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=yT(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var l=tu(a);l!=="object"&&(r[o]=a)}}),Object(ne.g)("line",r)}var oo=ET;function ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(t){return typeof t}:ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}var mv;function bv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function nu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?bv(Object(t),!0).forEach(function(n){xT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ST(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ov(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PT(e,r,t){return r&&Ov(e.prototype,r),t&&Ov(e,t),e}function AT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function TT(e){var r=NT();return function(){var n=ou(e),o;if(r){var a=ou(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return MT(this,o)}}function MT(e,r){if(r&&(ru(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wT(e)}function wT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(e)}var DT=Ur(mv=function(e){AT(t,e);var r=TT(t);function t(){return ST(this,t),r.apply(this,arguments)}return PT(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,l=o.isShowHorizontal,p=o.isShowVertical,m=o.getStyle(),x=a.x,T=x===void 0?0:x,j=a.y,_=j===void 0?0:j,H=nu(nu({x1:-1e5,y1:_,x2:1e5,y2:_},m),{},{stroke:l?m.stroke:"none"}),Z=nu(nu({x1:T,y1:-1e5,x2:T,y2:1e5},m),{},{stroke:p?m.stroke:"none"});return Object(ne.g)("g",{className:"lf-snapline"},Object(ne.g)(oo,H),Object(ne.g)(oo,Z))}}]),t}(ne.a))||mv;function iu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(t){return typeof t}:iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function jT(e,r){return BT(e)||IT(e,r)||RT(e,r)||CT()}function CT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RT(e,r){if(!!e){if(typeof e=="string")return Ev(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ev(e,r)}}function Ev(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function IT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function BT(e){if(Array.isArray(e))return e}function Rn(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,l=e.radius,p=r-n/2,m=t-o/2,x={};return Object.entries(e).forEach(function(T){var j=jT(T,2),_=j[0],H=j[1],Z=iu(H);Z!=="object"&&(x[_]=H)}),a?x.className="lf-basic-shape ".concat(a):x.className="lf-basic-shape",l&&(x.rx=l,x.ry=l),x.x=p,x.y=m,Object(ne.g)("rect",x)}Rn.defaultProps={className:"",radius:""};function au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}var xv;function Do(){return Do=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Do.apply(this,arguments)}function Sv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Pv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sv(Object(t),!0).forEach(function(n){_T(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _T(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function LT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Av(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zT(e,r,t){return r&&Av(e.prototype,r),t&&Av(e,t),e}function FT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return _f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_f(e,r)}function GT(e){var r=kT();return function(){var n=uu(e),o;if(r){var a=uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HT(this,o)}}function HT(e,r){if(r&&(au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UT(e)}function UT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(e)}var XT=Ur(xv=function(e){FT(t,e);var r=GT(t);function t(){return LT(this,t),r.apply(this,arguments)}return zT(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,l=o.editConfigModel,p=l.hoverOutline,m=l.nodeSelectedOutline,x=[];return a.forEach(function(T){if(T.isHovered||T.isSelected){var j=T.isHovered,_=T.isSelected,H=T.x,Z=T.y,ae=T.width,se=T.height;if(m&&_||p&&j){var le=T.getOutlineStyle(),we={};if(Object.keys(le).forEach(function(be){be!=="hover"&&(we[be]=le[be])}),j){var ge=le.hover;we=Pv(Pv({},we),ge)}x.push(Object(ne.g)(Rn,Do({className:"lf-outline-node",x:H,y:Z,width:ae+10,height:se+10},we)))}}}),x}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,l=o.editConfigModel,p=l.edgeSelectedOutline,m=l.hoverOutline,x=[],T=0;T<a.length;T++){var j=a[T];(p&&j.isSelected||m&&j.isHovered)&&(j.modelType===pt.LINE_EDGE?x.push(this.getLineOutline(j)):j.modelType===pt.POLYLINE_EDGE?x.push(this.getPolylineOutline(j)):j.modelType===pt.BEZIER_EDGE&&x.push(this.getBezierOutline(j)))}return x}},{key:"getLineOutline",value:function(o){var a=o.startPoint,l=o.endPoint,p=(a.x+l.x)/2,m=(a.y+l.y)/2,x=Math.abs(a.x-l.x)+10,T=Math.abs(a.y-l.y)+10,j=o.getOutlineStyle();return Object(ne.g)(Rn,Do({className:"lf-outline-edge",x:p,y:m,width:x,height:T},j))}},{key:"getPolylineOutline",value:function(o){var a=o.points,l=Mo(a),p=hi(l,8),m=p.x,x=p.y,T=p.width,j=p.height,_=o.getOutlineStyle();return Object(ne.g)(Rn,Do({className:"lf-outline",x:m,y:x,width:T,height:j},_))}},{key:"getBezierOutline",value:function(o){var a=o.path,l=ka(a),p=hi(l,8),m=p.x,x=p.y,T=p.width,j=p.height,_=o.getOutlineStyle();return Object(ne.g)(Rn,Do({className:"lf-outline",x:m,y:x,width:T,height:j},_))}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(ne.a))||xv;function su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(t){return typeof t}:su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function $T(e,r){return VT(e)||KT(e,r)||WT(e,r)||YT()}function YT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WT(e,r){if(!!e){if(typeof e=="string")return Tv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tv(e,r)}}function Tv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function KT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function VT(e){if(Array.isArray(e))return e}function gi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,l=a===void 0?4:a,p=e.className,m={cx:t,cy:o,r:l,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(x){var T=$T(x,2),j=T[0],_=T[1],H=su(_);H!=="object"&&(m[j]=_)}),p?m.className="lf-basic-shape ".concat(p):m.className="lf-basic-shape",Object(ne.g)("circle",m)}function lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(t){return typeof t}:lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}var Mv;function ZT(e,r){return eM(e)||qT(e,r)||QT(e,r)||JT()}function JT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QT(e,r){if(!!e){if(typeof e=="string")return wv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wv(e,r)}}function wv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function eM(e){if(Array.isArray(e))return e}function mi(){return mi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mi.apply(this,arguments)}function Nv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jv(e,r,t){return r&&Dv(e.prototype,r),t&&Dv(e,t),e}function Cv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lf(e,r)}function Lf(e,r){return Lf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lf(e,r)}function Rv(e){var r=rM();return function(){var n=cu(e),o;if(r){var a=cu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return tM(this,o)}}function tM(e,r){if(r&&(lu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fu(e)}function fu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function cu(e){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(e)}function zf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Iv=function(e){Cv(t,e);var r=Rv(t);function t(){var n;return Nv(this,t),n=r.call(this),zf(fu(n),"dragHandler",void 0),zf(fu(n),"onDraging",function(o){var a=o.event,l=n.props,p=l.graphModel,m=l.bezierModel,x=l.type,T=p.getPointByClient({x:a.clientX,y:a.clientY}),j=T.canvasOverlayPosition,_=j.x,H=j.y;m.updateAdjustAnchor({x:_,y:H},x)}),zf(fu(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new no({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return jv(t,[{key:"render",value:function(){var o=this,a=this.props.position,l=a.x,p=a.y,m=this.props.bezierModel,x=m.getEdgeStyle(),T=x.adjustAnchor;return Object(ne.g)(gi,mi({className:"lf-bezier-adjust-anchor",x:l,y:p},T,{onMouseDown:function(_){o.dragHandler.handleMouseDown(_)}}))}}]),t}(ne.a),nM=Ur(Mv=function(e){Cv(t,e);var r=Rv(t);function t(){return Nv(this,t),r.apply(this,arguments)}return jv(t,[{key:"getBezierAdjust",value:function(o,a){var l=o.path,p=o.id,m=ka(l),x=ZT(m,4),T=x[0],j=x[1],_=x[2],H=x[3],Z=o.getEdgeStyle(),ae=Z.adjustLine,se=[];return se.push(Object(ne.g)(oo,mi({x1:T.x,y1:T.y,x2:j.x,y2:j.y},ae))),se.push(Object(ne.g)(Iv,{position:j,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),se.push(Object(ne.g)(oo,mi({x1:H.x,y1:H.y,x2:_.x,y2:_.y},ae))),se.push(Object(ne.g)(Iv,{position:_,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),se}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,l=[],p=0;p<a.length;p++){var m=a[p];m.isSelected&&m.modelType===pt.BEZIER_EDGE&&m.draggable&&l.push(this.getBezierAdjust(m,o))}return l}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(ne.a))||Mv;function du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?du=function(t){return typeof t}:du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}var Bv;function oM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iM(e,r,t){return r&&_v(e.prototype,r),t&&_v(e,t),e}function aM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ff(e,r)}function Ff(e,r){return Ff=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ff(e,r)}function uM(e){var r=fM();return function(){var n=pu(e),o;if(r){var a=pu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sM(this,o)}}function sM(e,r){if(r&&(du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lM(e)}function lM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function pu(e){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(e)}var cM=Ur(Bv=function(e){aM(t,e);var r=uM(t);function t(){return oM(this,t),r.apply(this,arguments)}return iM(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),l=a.transform,p=this.props.children;return Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ne.g)("g",{transform:l},p))}}]),t}(ne.a))||Bv;function hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(t){return typeof t}:hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var Lv;function Gf(){return Gf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Gf.apply(this,arguments)}function dM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pM(e,r,t){return r&&zv(e.prototype,r),t&&zv(e,t),e}function hM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hf(e,r)}function Hf(e,r){return Hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hf(e,r)}function vM(e){var r=mM();return function(){var n=vu(e),o;if(r){var a=vu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return yM(this,o)}}function yM(e,r){if(r&&(hu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gM(e)}function gM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function vu(e){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(e)}var bM=Ur(Lv=function(e){hM(t,e);var r=vM(t);function t(){return dM(this,t),r.apply(this,arguments)}return pM(t,[{key:"getComponent",value:function(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,m=p(o.type);return Object(ne.g)(m,{key:o.id,model:o,graphModel:a,overlay:l})}},{key:"render",value:function(){var o=this,a=this.props,l=a.graphModel,p=a.tool,m=a.options,x=a.dnd,T=a.snaplineModel,j={};m.width&&(j.width="".concat(l.width,"px")),m.height&&(j.height="".concat(l.height,"px"));var _=l.fakerNode,H=l.editConfigModel,Z=H.adjustEdge;return Object(ne.g)("div",{className:"lf-graph",style:j},Object(ne.g)(YA,{graphModel:l,dnd:x},Object(ne.g)("g",{className:"lf-base"},Sa(l.sortElements,function(ae){return o.getComponent(ae,l)})),_?this.getComponent(_,l):""),Object(ne.g)(cM,{graphModel:l},Object(ne.g)(XT,{graphModel:l}),Z?Object(ne.g)(nM,{graphModel:l}):"",m.snapline!==!1?Object(ne.g)(DT,{snaplineModel:T}):""),Object(ne.g)(eT,{graphModel:l,tool:p}),m.background&&Object(ne.g)(sT,{background:m.background}),m.grid&&Object(ne.g)(yv,Gf({},m.grid,{graphModel:l})))}}]),t}(ne.a))||Lv,OM=bM;function Fv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Fv(Object(t),!0).forEach(function(n){dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function EM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xM(e,r,t){return r&&Gv(e.prototype,r),t&&Gv(e,t),e}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var SM=function(){function e(r){var t=this;EM(this,e),dn(this,"nodeConfig",void 0),dn(this,"lf",void 0),dn(this,"fakerNode",void 0),dn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),dn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(yu(yu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),dn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),l=a.x,p=a.y;t.fakerNode.moveTo(l,p);var m=t.fakerNode.getData();t.lf.setNodeSnapLine(m),t.lf.graphModel.eventCenter.emit(it.NODE_DND_DRAG,{data:m})}return!1}),dn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),dn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(yu(yu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var l=a.getData();t.lf.graphModel.eventCenter.emit(it.NODE_DND_ADD,{data:l,e:o})}});var n=r.lf;this.lf=n}return xM(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=_d(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:n,y:o}),p=l.canvasOverlayPosition,m=p.x,x=p.y;return{x:Dn(m,a),y:Dn(x,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Hv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=or({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),or({},Uv,e)}var Uv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gu=function(t){return typeof t}:gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}var gt,kv;function Uf(e,r){return MM(e)||TM(e,r)||AM(e,r)||PM()}function PM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AM(e,r){if(!!e){if(typeof e=="string")return Xv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xv(e,r)}}function Xv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function TM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function MM(e){if(Array.isArray(e))return e}function $v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function mu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$v(Object(t),!0).forEach(function(n){Wv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$v(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function wM(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function NM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Yv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DM(e,r,t){return r&&Yv(e.prototype,r),t&&Yv(e,t),e}function jo(){return typeof Reflect!="undefined"&&Reflect.get?jo=Reflect.get:jo=function(r,t,n){var o=jM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},jo.apply(this,arguments)}function jM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=In(e),e!==null););return e}function CM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&kf(e,r)}function kf(e,r){return kf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},kf(e,r)}function RM(e){var r=BM();return function(){var n=In(e),o;if(r){var a=In(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return IM(this,o)}}function IM(e,r){if(r&&(gu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bu(e)}function bu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function In(e){return In=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},In(e)}function Wv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _r(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Xf=(gt=function(e){CM(t,e);var r=RM(t);function t(){var n;NM(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Wv(bu(n),"modelType",pt.BEZIER_EDGE),wM(bu(n),"path",kv,bu(n)),n}return DM(t,[{key:"initEdgeData",value:function(o){this.offset=100,jo(In(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=jo(In(t.prototype),"getEdgeStyle",this).call(this);return mu(mu({},a),jt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(l){var p=l.x,m=l.y;o+=p,a+=m}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=jo(In(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var p=l.x,m=l.y;return{x:p,y:m}});return mu(mu({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,l=Gh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return l}},{key:"getPath",value:function(o){var a=Uf(o,4),l=a[0],p=a[1],m=a[2],x=a[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,l=o.ePre;this.updatePath(a,l)}},{key:"updatePath",value:function(o,a){var l={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var m=this.getControls();o=m.sNext,a=m.ePre}this.pointsList=[l,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var l=Uf(this.pointsList,3),p=l[1],m=l[2];p.x+=o,p.y+=a,this.updatePath(p,m)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var l=Uf(this.pointsList,3),p=l[1],m=l[2];m.x+=o,m.y+=a,this.updatePath(p,m)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,l=o.endPoint,p=o.sourceNode,m=o.targetNode,x=Gh({start:a,end:l,sourceNode:p,targetNode:m,offset:this.offset}),T=x.sNext,j=x.ePre;this.pointsList=[a,T,j,l],this.initPoints()}}]),t}(gf),kv=_r(gt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_r(gt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),_r(gt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),_r(gt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),_r(gt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),_r(gt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),_r(gt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),_r(gt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),_r(gt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),_r(gt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),_r(gt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function _M(e){return e==null}var LM=_M,Ce,Kv,Vv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,sy,ly,fy,cy,dy;function Ou(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ou=function(t){return typeof t}:Ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function zM(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=FM(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(x){throw x},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,l=!1,p;return{s:function(){t=t.call(e)},n:function(){var x=t.next();return a=x.done,x},e:function(x){l=!0,p=x},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(l)throw p}}}}function FM(e,r){if(!!e){if(typeof e=="string")return py(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return py(e,r)}}function py(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function hy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ar(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hy(Object(t),!0).forEach(function(n){dr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ut(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function GM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HM(e,r,t){return r&&vy(e.prototype,r),t&&vy(e,t),e}function dr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function st(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pn=(Ce=function(){function e(r,t){GM(this,e),dr(this,"id",ro()),Ut(this,"type",Kv,this),Ut(this,"x",Vv,this),Ut(this,"y",Zv,this),Ut(this,"text",Jv,this),Ut(this,"properties",Qv,this),Ut(this,"_width",qv,this),Ut(this,"_height",ey,this),Ut(this,"anchorsOffset",ty,this),Ut(this,"isSelected",ry,this),Ut(this,"isHovered",ny,this),Ut(this,"isShowAnchor",oy,this),Ut(this,"isDragging",iy,this),Ut(this,"isHitable",ay,this),Ut(this,"draggable",uy,this),Ut(this,"visible",sy,this),dr(this,"virtual",!1),dr(this,"graphModel",void 0),Ut(this,"zIndex",ly,this),Ut(this,"state",fy,this),Ut(this,"autoToFront",cy,this),Ut(this,"style",dy,this),dr(this,"BaseType",Gt.NODE),dr(this,"modelType",pt.NODE),dr(this,"additionStateData",void 0),dr(this,"targetRules",[]),dr(this,"sourceRules",[]),dr(this,"moveRules",[]),dr(this,"hasSetTargetRules",!1),dr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return HM(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}this.formatText(t),or(this,wP(t));var l=this.graphModel.overlapMode;l===br.INCREASE&&(this.zIndex=t.zIndex||vf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,l=this.properties;Object(f.x)(l)&&(l=Object(f.I)(l));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===br.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ar(ar({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return jt(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return jt(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return jt(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return jt(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l=!0,p,m=0;m<a.length;m++){var x=a[m];if(!x.validate.call(this,this,t,n,o)){l=!1,p=x.message;break}}return{isAllPass:l,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l=!0,p,m=0;m<a.length;m++){var x=a[m];if(!x.validate.call(this,t,this,n,o)){l=!1,p=x.message;break}}return{isAllPass:l,msg:p}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,l=this.moveRules.concat(this.graphModel.nodeMoveRules),p=zM(l),m;try{for(p.s();!(m=p.n()).done;){var x=m.value,T=x(this,t,n);if(!T)return!1;if(Ou(T)==="object"){var j=T;if(j.x===!1&&j.y===!1)return!1;o=o&&j.x,a=a&&j.y}}}catch(_){p.e(_)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(l,p){return l.length?(l=l,{id:"".concat(n,"_").concat(p),x:o+l[0],y:a+l[1]}):(l=l,ar(ar({},l),{},{x:o+l.x,y:a+l.y,id:l.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!LM(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1;if(o)a=!0,l=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,l=p):(a=p.x,l=p.y)}if(a){var m=this.x+t;this.x=m,this.text&&this.moveText(t,0)}if(l){var x=this.y+n;this.y=x,this.text&&this.moveText(0,n)}return a||l}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1,p=0,m=0;if(o)a=!0,l=!0;else{var x=this.isAllowMoveNode(t,n);typeof x=="boolean"?(a=x,l=x):(a=x.x,l=x.y)}if(a&&t){var T=this.x+t;this.x=T,this.text&&this.moveText(t,0),p=t}if(l&&n){var j=this.y+n;this.y=j,this.text&&this.moveText(0,n),m=n}return[p,m]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,l=n-this.y;return!o&&!this.isAllowMoveNode(a,l)?!1:(this.text&&this.text&&this.moveText(a,l),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,l=o.y,p=o.value,m=o.draggable,x=o.editable;this.text={value:p,editable:x,draggable:m,x:a+t,y:l+n}}},{key:"updateText",value:function(t){this.text=ar(ar({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=ar(ar({},this.properties),{},dr({},t,er(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ar(ar({},this.properties),er(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=ar(ar({},this.style),{},dr({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=ar(ar({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=ar({},er(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){or(this,t)}}]),e}(),Kv=st(Ce.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vv=st(Ce.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zv=st(Ce.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jv=st(Ce.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Qv=st(Ce.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),qv=st(Ce.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),ey=st(Ce.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),ty=st(Ce.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ry=st(Ce.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ny=st(Ce.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oy=st(Ce.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iy=st(Ce.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ay=st(Ce.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uy=st(Ce.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sy=st(Ce.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ly=st(Ce.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fy=st(Ce.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),cy=st(Ce.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dy=st(Ce.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),st(Ce.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"incoming"),Ce.prototype),st(Ce.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"outgoing"),Ce.prototype),st(Ce.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"addNodeMoveRules"),Ce.prototype),st(Ce.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"move"),Ce.prototype),st(Ce.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"getMoveDistance"),Ce.prototype),st(Ce.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveTo"),Ce.prototype),st(Ce.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveText"),Ce.prototype),st(Ce.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateText"),Ce.prototype),st(Ce.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setSelected"),Ce.prototype),st(Ce.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHovered"),Ce.prototype),st(Ce.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setIsShowAnchor"),Ce.prototype),st(Ce.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHitable"),Ce.prototype),st(Ce.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setElementState"),Ce.prototype),st(Ce.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperty"),Ce.prototype),st(Ce.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperties"),Ce.prototype),st(Ce.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"deleteProperty"),Ce.prototype),st(Ce.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyle"),Ce.prototype),st(Ce.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyles"),Ce.prototype),st(Ce.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateStyles"),Ce.prototype),st(Ce.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setZIndex"),Ce.prototype),st(Ce.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateAttributes"),Ce.prototype),Ce);function Eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}var hn,yy;function gy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function my(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gy(Object(t),!0).forEach(function(n){Oy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function UM(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function kM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function by(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XM(e,r,t){return r&&by(e.prototype,r),t&&by(e,t),e}function xu(){return typeof Reflect!="undefined"&&Reflect.get?xu=Reflect.get:xu=function(r,t,n){var o=$M(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},xu.apply(this,arguments)}function $M(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Co(e),e!==null););return e}function YM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$f(e,r)}function $f(e,r){return $f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$f(e,r)}function WM(e){var r=VM();return function(){var n=Co(e),o;if(r){var a=Co(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return KM(this,o)}}function KM(e,r){if(r&&(Eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Su(e)}function Su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(e)}function Oy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wf=(hn=function(e){YM(t,e);var r=WM(t);function t(){var n;kM(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Oy(Su(n),"modelType",pt.CIRCLE_NODE),UM(Su(n),"r",yy,Su(n)),n}return XM(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=xu(Co(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return my(my({},o),jt(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.r;return[{x:o,y:a-l,id:"".concat(this.id,"_0")},{x:o+l,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+l,id:"".concat(this.id,"_2")},{x:o-l,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),yy=Yf(hn.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Yf(hn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Yf(hn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);i(127);function Pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(t){return typeof t}:Pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}var tr,Ey,xy;function Kf(e,r){return qM(e)||QM(e,r)||JM(e,r)||ZM()}function ZM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JM(e,r){if(!!e){if(typeof e=="string")return Sy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sy(e,r)}}function Sy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function QM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function qM(e){if(Array.isArray(e))return e}function Py(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ay(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Py(Object(t),!0).forEach(function(n){wy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Py(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ty(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ew(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function My(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tw(e,r,t){return r&&My(e.prototype,r),t&&My(e,t),e}function Au(){return typeof Reflect!="undefined"&&Reflect.get?Au=Reflect.get:Au=function(r,t,n){var o=rw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Au.apply(this,arguments)}function rw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Io(e),e!==null););return e}function nw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vf(e,r)}function Vf(e,r){return Vf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Vf(e,r)}function ow(e){var r=aw();return function(){var n=Io(e),o;if(r){var a=Io(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iw(this,o)}}function iw(e,r){if(r&&(Pu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}function Ro(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(e)}function wy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Bo(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Zf=(tr=function(e){nw(t,e);var r=ow(t);function t(){var n;ew(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),wy(Ro(n),"modelType",pt.DIAMOND_NODE),Ty(Ro(n),"rx",Ey,Ro(n)),Ty(Ro(n),"ry",xy,Ro(n)),n}return tw(t,[{key:"getNodeStyle",value:function(){var o=Au(Io(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Ay(Ay({},o),jt(a))}},{key:"points",get:function(){var o=this.x,a=this.y,l=this.rx,p=this.ry;return[[o,a-p],[o+l,a],[o,a+p],[o-l,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Kf(l,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Kf(l,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,l){var p=Kf(a,2),m=p[0],x=p[1];return{x:m,y:x,id:"".concat(o.id,"_").concat(l)}})}}]),t}(pn),Ey=Bo(tr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),xy=Bo(tr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Bo(tr.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"points"),tr.prototype),Bo(tr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"pointsPosition"),tr.prototype),Bo(tr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"width"),tr.prototype),Bo(tr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"height"),tr.prototype),tr);function Tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(t){return typeof t}:Tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}var Jr,Ny,Dy;function jy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Cy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jy(Object(t),!0).forEach(function(n){By(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ry(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function uw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Iy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sw(e,r,t){return r&&Iy(e.prototype,r),t&&Iy(e,t),e}function Mu(){return typeof Reflect!="undefined"&&Reflect.get?Mu=Reflect.get:Mu=function(r,t,n){var o=lw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Mu.apply(this,arguments)}function lw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Lo(e),e!==null););return e}function fw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Jf(e,r)}function Jf(e,r){return Jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Jf(e,r)}function cw(e){var r=pw();return function(){var n=Lo(e),o;if(r){var a=Lo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dw(this,o)}}function dw(e,r){if(r&&(Tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _o(e)}function _o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(e)}function By(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function wu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Qf=(Jr=function(e){fw(t,e);var r=cw(t);function t(){var n;uw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),By(_o(n),"modelType",pt.ELLIPSE_NODE),Ry(_o(n),"rx",Ny,_o(n)),Ry(_o(n),"ry",Dy,_o(n)),n}return sw(t,[{key:"getNodeStyle",value:function(){var o=Mu(Lo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Cy(Cy({},o),jt(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+l,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-l,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Ny=wu(Jr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Dy=wu(Jr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),wu(Jr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Jr.prototype,"width"),Jr.prototype),wu(Jr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Jr.prototype,"height"),Jr.prototype),Jr);function Nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nu=function(t){return typeof t}:Nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}var Dr,_y;function qf(e,r){return gw(e)||yw(e,r)||vw(e,r)||hw()}function hw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vw(e,r){if(!!e){if(typeof e=="string")return Ly(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ly(e,r)}}function Ly(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function gw(e){if(Array.isArray(e))return e}function zy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Fy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zy(Object(t),!0).forEach(function(n){Hy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function bw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ow(e,r,t){return r&&Gy(e.prototype,r),t&&Gy(e,t),e}function Du(){return typeof Reflect!="undefined"&&Reflect.get?Du=Reflect.get:Du=function(r,t,n){var o=Ew(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Du.apply(this,arguments)}function Ew(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function xw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ec(e,r)}function ec(e,r){return ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ec(e,r)}function Sw(e){var r=Aw();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Pw(this,o)}}function Pw(e,r){if(r&&(Nu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ju(e)}function ju(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function Hy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Cu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var tc=(Dr=function(e){xw(t,e);var r=Sw(t);function t(){var n;bw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Hy(ju(n),"modelType",pt.POLYGON_NODE),mw(ju(n),"points",_y,ju(n)),n}return Ow(t,[{key:"getNodeStyle",value:function(){var o=Du(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return Fy(Fy({},o),jt(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,l=this.width,p=this.height,m=this.points.map(function(x){return{x:x[0]+o-l/2,y:x[1]+a-p/2}});return m}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=qf(l,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=qf(l,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,l=this.y,p=this.width,m=this.height,x=this.points;return x.map(function(T,j){var _=qf(T,2),H=_[0],Z=_[1];return{x:a+H-p/2,y:l+Z-m/2,id:"".concat(o.id,"_").concat(j)}})}}]),t}(pn),_y=Cu(Dr.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Cu(Dr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"pointsPosition"),Dr.prototype),Cu(Dr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"width"),Dr.prototype),Cu(Dr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"height"),Dr.prototype),Dr);function Ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=function(t){return typeof t}:Ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}var rc,Uy;function ky(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Xy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ky(Object(t),!0).forEach(function(n){Yy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ky(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Tw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Mw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $y(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ww(e,r,t){return r&&$y(e.prototype,r),t&&$y(e,t),e}function Iu(){return typeof Reflect!="undefined"&&Reflect.get?Iu=Reflect.get:Iu=function(r,t,n){var o=Nw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Iu.apply(this,arguments)}function Nw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function Dw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&nc(e,r)}function nc(e,r){return nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},nc(e,r)}function jw(e){var r=Rw();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Cw(this,o)}}function Cw(e,r){if(r&&(Ru(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bu(e)}function Bu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Yy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Iw(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var oc=(rc=function(e){Dw(t,e);var r=jw(t);function t(){var n;Mw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Yy(Bu(n),"modelType",pt.RECT_NODE),Tw(Bu(n),"radius",Uy,Bu(n)),n}return ww(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Iu(Fo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Xy(Xy({},o),jt(a))}}]),t}(pn),Uy=Iw(rc.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rc);function _u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_u=function(t){return typeof t}:_u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}var Bn;function Wy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ky(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wy(Object(t),!0).forEach(function(n){Jy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Bw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _w(e,r,t){return r&&Vy(e.prototype,r),t&&Vy(e,t),e}function Lu(){return typeof Reflect!="undefined"&&Reflect.get?Lu=Reflect.get:Lu=function(r,t,n){var o=Lw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Lu.apply(this,arguments)}function Lw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Go(e),e!==null););return e}function zw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ic(e,r)}function ic(e,r){return ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ic(e,r)}function Fw(e){var r=Hw();return function(){var n=Go(e),o;if(r){var a=Go(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Gw(this,o)}}function Gw(e,r){if(r&&(_u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zy(e)}function Zy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(e)}function Jy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Qy(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ac=(Bn=function(e){zw(t,e);var r=Fw(t);function t(){var n;Bw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Jy(Zy(n),"modelType",pt.TEXT_NODE),n}return _w(t,[{key:"getTextStyle",value:function(){var o=Lu(Go(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Ky(Ky({},o),jt(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,p=hf({rows:o,fontSize:l,rowsLength:o.length}),m=p.width;return m}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,p=hf({rows:o,fontSize:l,rowsLength:o.length}),m=p.height;return m}}]),t}(pn),Qy(Bn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Bn.prototype,"width"),Bn.prototype),Qy(Bn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Bn.prototype,"height"),Bn.prototype),Bn);function zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zu=function(t){return typeof t}:zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function Uw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kw(e,r,t){return r&&qy(e.prototype,r),t&&qy(e,t),e}function Xw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&uc(e,r)}function uc(e,r){return uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},uc(e,r)}function $w(e){var r=Ww();return function(){var n=Fu(e),o;if(r){var a=Fu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Yw(this,o)}}function Yw(e,r){if(r&&(zu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eg(e)}function eg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ww(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fu(e){return Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(e)}function Kw(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var sc=function(e){Xw(t,e);var r=$w(t);function t(){var n;Uw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Kw(eg(n),"modelType",pt.HTML_NODE),n}return kw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Lr,tg,rg,ng;function og(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Vw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?og(Object(t),!0).forEach(function(n){ag(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):og(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function lc(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Zw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jw(e,r,t){return r&&ig(e.prototype,r),t&&ig(e,t),e}function ag(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function bi(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ug=(Lr=function(){function e(r){Zw(this,e),ag(this,"graphModel",void 0),lc(this,"isShowHorizontal",tg,this),lc(this,"isShowVertical",rg,this),lc(this,"position",ng,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return Jw(e,[{key:"getStyle",value:function(){return Vw({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,l=!1,p=!1,m=0;m<n.length;m++){var x=n[m];if(x.id!==t.id&&(o===x.x&&(l=!0),a===x.y&&(p=!0),l&&p))break}return{isShowVertical:l,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,l=t.id,p;if(l){var m=this.graphModel.fakerNode;if(m&&m.id===l)p=Or(m);else{var x=this.graphModel.getNodeModelById(l);p=Or(x)}}for(var T=0;T<n.length;T++){var j=n[T];if(j.id!==t.id){var _=Or(j);if(_.minY===p.minY||_.maxY===p.minY){o=!0,a=p.minY;break}if(_.minY===p.maxY||_.maxY===p.maxY){o=!0,a=p.maxY;break}}}return or({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,l=t.id,p;if(l){var m=this.graphModel.fakerNode;if(m&&m.id===l)p=Or(m);else{var x=this.graphModel.getNodeModelById(l);p=Or(x)}}for(var T=0;T<n.length;T++){var j=n[T];if(j.id!==t.id){var _=Or(j);if(_.minX===p.minX||_.maxX===p.minX){o=!0,a=p.minX;break}if(_.minX===p.maxX||_.maxX===p.maxX){o=!0,a=p.maxX;break}}}return or({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,l=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!l){var m=this.getVerticalSnapline(t,n);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),tg=bi(Lr.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rg=bi(Lr.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ng=bi(Lr.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi(Lr.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(Lr.prototype,"clearSnapline"),Lr.prototype),bi(Lr.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(Lr.prototype,"setNodeSnapLine"),Lr.prototype),Lr),Oi=new Map,sg=function(r){var t=ro();function n(){r();var a=Oi.get(t);if(a){var l=window.requestAnimationFrame(n);Oi.set(t,l)}}var o=window.requestAnimationFrame(n);return Oi.set(t,o),t},Gu=function(r){var t=Oi.get(r);t&&(window.cancelAnimationFrame(t),Oi.delete(r))};function Hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hu=function(t){return typeof t}:Hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Ei(){return Ei=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ei.apply(this,arguments)}function lg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?lg(Object(t),!0).forEach(function(n){qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Qw(e,r){return r1(e)||t1(e,r)||e1(e,r)||qw()}function qw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e1(e,r){if(!!e){if(typeof e=="string")return fg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fg(e,r)}}function fg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function t1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function r1(e){if(Array.isArray(e))return e}function n1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o1(e,r,t){return r&&cg(e.prototype,r),t&&cg(e,t),e}function i1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&fc(e,r)}function fc(e,r){return fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},fc(e,r)}function a1(e){var r=s1();return function(){var n=ku(e),o;if(r){var a=ku(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return u1(this,o)}}function u1(e,r){if(r&&(Hu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function Qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(e)}function qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var l1=function(e){i1(t,e);var r=a1(t);function t(){var n;return n1(this,t),n=r.call(this),qr(Qr(n),"preTargetNode",void 0),qr(Qr(n),"sourceRuleResults",void 0),qr(Qr(n),"targetRuleResults",void 0),qr(Qr(n),"dragHandler",void 0),qr(Qr(n),"t",void 0),qr(Qr(n),"onDragStart",function(o){var a=o.event,l=n.props,p=l.anchorData,m=l.nodeModel,x=l.graphModel,T=x.overlapMode;x.selectNodeById(m.id),T!==br.INCREASE&&m.autoToFront&&x.toFront(m.id),x.eventCenter.emit(it.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:m}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),qr(Qr(n),"onDraging",function(o){var a=o.event,l=n.props,p=l.graphModel,m=l.nodeModel,x=l.anchorData,T=p.transformModel,j=p.eventCenter,_=p.width,H=p.height,Z=p.editConfigModel,ae=Z.autoExpand,se=Z.stopMoveGraph,le=a.clientX,we=a.clientY,ge=p.getPointByClient({x:le,y:we}),be=ge.domOverlayPosition,Fe=be.x,Re=be.y,Ze=ge.canvasOverlayPosition,Ge=Ze.x,ht=Ze.y;n.t&&Gu(n.t);var yt=[],sr=10;Fe<10?yt=[sr,0]:Fe+10>_?yt=[-sr,0]:Re<10?yt=[0,sr]:Re+10>H&&(yt=[0,-sr]),n.setState({endX:Ge,endY:ht,draging:!0}),n.moveAnchorEnd(Ge,ht),yt.length>0&&!se&&ae&&(n.t=sg(function(){var xr=yt,on=Qw(xr,2),zn=on[0],so=on[1];T.translate(zn,so);var Xo=n.state,Fn=Xo.endX,$o=Xo.endY;n.setState({endX:Fn-zn,endY:$o-so}),n.moveAnchorEnd(Fn-zn,$o-so)})),j.emit(it.ANCHOR_DRAG,{data:x,e:a,nodeModel:m})}),qr(Qr(n),"onDragEnd",function(o){n.t&&Gu(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,l=a.graphModel,p=a.nodeModel,m=a.anchorData;l.eventCenter.emit(it.ANCHOR_DRAGEND,{data:m,e:o,nodeModel:p})}),qr(Qr(n),"checkEnd",function(o){var a=n.props,l=a.graphModel,p=a.nodeModel,m=a.anchorData,x=m.x,T=m.y,j=m.id;l.edgeType;var _=n.state,H=_.endX,Z=_.endY,ae=_.draging,se=Da({x:H,y:Z},l);if(n.preTargetNode&&n.preTargetNode.state!==Et.DEFAULT&&n.preTargetNode.setElementState(Et.DEFAULT),!!ae&&se&&se.node){var le=se.node,we=se.anchor.id,ge="".concat(p.id,"_").concat(le.id,"_").concat(we,"_").concat(j),be=n.sourceRuleResults.get(ge)||{},Fe=be.isAllPass,Re=be.msg,Ze=n.targetRuleResults.get(ge)||{},Ge=Ze.isAllPass,ht=Ze.msg;if(Fe&&Ge){le.setElementState(Et.DEFAULT);var yt=l.edgeGenerator(p.getData(),l.getNodeModelById(se.node.id).getData()),sr=l.addEdge(Uu(Uu({},yt),{},{sourceNodeId:p.id,sourceAnchorId:j,startPoint:{x,y:T},targetNodeId:se.node.id,targetAnchorId:se.anchor.id,endPoint:{x:se.anchor.x,y:se.anchor.y}})),xr=n.props.anchorData;l.eventCenter.emit(it.ANCHOR_DROP,{data:xr,e:o,nodeModel:p,edgeModel:sr})}else{var on=le.getData();l.eventCenter.emit(it.CONNECTION_NOT_ALLOWED,{data:on,msg:ht||Re})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new no({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return o1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,l=o.style,p=o.node,m=p.getAnchorShape(a);if(m)return m;var x=a.x,T=a.y,j=Uu(Uu({},l),l.hover);return Object(ne.g)("g",null,Object(ne.g)(gi,Ei({className:"lf-node-anchor-hover"},j,{x,y:T})),Object(ne.g)(gi,Ei({className:"lf-node-anchor"},l,{x,y:T})))}},{key:"moveAnchorEnd",value:function(o,a){var l=this.props,p=l.graphModel,m=l.nodeModel,x=l.anchorData,T=Da({x:o,y:a},p);if(T){var j=T.node,_=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(Et.DEFAULT),x.id===_)return;this.preTargetNode=j;var H="".concat(m.id,"_").concat(j.id,"_").concat(_,"_").concat(x.id);if(!this.targetRuleResults.has(H)){var Z=T.anchor,ae=m.isAllowConnectedAsSource(j,x,Z),se=j.isAllowConnectedAsTarget(m,x,Z);this.sourceRuleResults.set(H,Ca(ae)),this.targetRuleResults.set(H,Ca(se))}var le=this.sourceRuleResults.get(H),we=le.isAllPass,ge=this.targetRuleResults.get(H),be=ge.isAllPass;we&&be?j.setElementState(Et.ALLOW_CONNECT):j.setElementState(Et.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Et.DEFAULT&&this.preTargetNode.setElementState(Et.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,l=o.startY,p=o.endX,m=o.endY,x=Wr(a,l,p,m);return x>10}},{key:"render",value:function(){var o=this,a=this.state,l=a.startX,p=a.startY,m=a.endX,x=a.endY,T=this.props,j=T.anchorData.edgeAddable,_=T.edgeStyle;return Object(ne.g)("g",{className:"lf-anchor"},Object(ne.g)("g",{onMouseDown:function(Z){j!==!1&&o.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&Object(ne.g)(oo,Ei({x1:l,y1:p,x2:m,y2:x},_,{"pointer-events":"none"})))}}]),t}(ne.a),f1=l1;i(63);function dg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function c1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dg(Object(t),!0).forEach(function(n){d1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function p1(e,r){return g1(e)||y1(e,r)||v1(e,r)||h1()}function h1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1(e,r){if(!!e){if(typeof e=="string")return pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pg(e,r)}}function pg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function y1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function g1(e){if(Array.isArray(e))return e}function hg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,l=e.fontSize,p=e.fill,m=p===void 0?"currentColor":p,x=e.overflowMode,T=x===void 0?"default":x,j=e.textWidth,_=j===void 0?"":j,H=e.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:m};if(Object.entries(e).forEach(function(be){var Fe=p1(be,2),Re=Fe[0],Ze=Fe[1],Ge=Xu(Ze);Ge!=="object"&&(Z[Re]=Ze)}),a){var ae=String(a).split(/[\r\n]/g),se=ae.length;if(T!=="default"){var le=H.BaseType,we=H.modelType;if(le===Gt.NODE&&we!==pt.TEXT_NODE||le===Gt.EDGE&&_)return m1(e)}if(se>1){var ge=ae.map(function(be,Fe){var Re=l+2,Ze=(Fe-(se-1)/2)*Re;return Object(ne.g)("tspan",{className:"lf-text-tspan",x:t,y:o+Ze},be)});return Object(ne.g)("text",Z,ge)}return Object(ne.g)("text",Z,a)}}function m1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,l=e.lineHeight,p=e.wrapPadding,m=p===void 0?"0, 0":p,x=e.overflowMode,T=e.x,j=e.y,_=n.width,H=n.textHeight,Z=e.textWidth||_,ae=String(r).split(/[\r\n]/g),se=ae.length,le=Kp({rows:ae,style:{fontSize:"".concat(t,"px"),width:"".concat(Z,"px"),fontFamily:a,lineHeight:l,padding:m},rowsLength:se,className:"lf-get-text-height"}),we=n.height>le?n.height:le;H&&(we=H);var ge=x==="ellipsis";return Object(ne.g)("g",null,Object(ne.g)("foreignObject",{width:Z,height:we,x:T-Z/2,y:j-we/2},Object(ne.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:we,width:Z,padding:m}},Object(ne.g)("div",{className:ge?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:c1({},e)},ae.map(function(be){return Object(ne.g)("div",{className:"lf-node-text--auto-wrap-inner"},be)})))))}function $u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(t){return typeof t}:$u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function cc(){return cc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},cc.apply(this,arguments)}function b1(e,r){return S1(e)||x1(e,r)||E1(e,r)||O1()}function O1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1(e,r){if(!!e){if(typeof e=="string")return vg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vg(e,r)}}function vg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function x1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function S1(e){if(Array.isArray(e))return e}function P1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A1(e,r,t){return r&&yg(e.prototype,r),t&&yg(e,t),e}function T1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&dc(e,r)}function dc(e,r){return dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},dc(e,r)}function M1(e){var r=N1();return function(){var n=Yu(e),o;if(r){var a=Yu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return w1(this,o)}}function w1(e,r){if(r&&($u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _n(e)}function _n(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Yu(e){return Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yu(e)}function io(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gg=function(e){T1(t,e);var r=M1(t);function t(n){var o;P1(this,t),o=r.call(this),io(_n(o),"dragHandler",void 0),io(_n(o),"sumDeltaX",0),io(_n(o),"sumDeltaY",0),io(_n(o),"stepDrag",void 0),io(_n(o),"onDraging",function(p){var m=p.deltaX,x=p.deltaY,T=o.props,j=T.model,_=T.graphModel.transformModel,H=_.fixDeltaXY(m,x),Z=b1(H,2),ae=Z[0],se=Z[1];j.moveText(ae,se)}),io(_n(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var m=o.props.model;m.setElementState(Et.TEXT_EDIT)}}),io(_n(o),"mouseDownHandle",function(p){var m=o.props,x=m.draggable,T=m.graphModel.editConfigModel.nodeTextDraggable;(x||T)&&o.stepDrag.handleMouseDown(p)});var a=n.model,l=n.draggable;return o.stepDrag=new no({onDraging:o.onDraging,step:1,model:a,isStopPropagation:l}),o}return A1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.text,m=l.editConfigModel,x=p.value,T=p.x,j=p.y,_=p.editable,H=p.draggable,Z={x:T,y:j,className:"",value:x};_?Z.className="lf-element-text":H||m.nodeTextDraggable?Z.className="lf-text-draggable":Z.className="lf-text-disabled";var ae=a.getTextStyle();return Object(ne.g)(hg,cc({},Z,ae,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(ne.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(ne.a),D1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(t){return typeof t}:Wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Ku(e,r){return I1(e)||R1(e,r)||C1(e,r)||j1()}function j1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C1(e,r){if(!!e){if(typeof e=="string")return mg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mg(e,r)}}function mg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function R1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function I1(e){if(Array.isArray(e))return e}function B1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _1(e,r,t){return r&&bg(e.prototype,r),t&&bg(e,t),e}function L1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&pc(e,r)}function pc(e,r){return pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},pc(e,r)}function z1(e){var r=G1();return function(){var n=Vu(e),o;if(r){var a=Vu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return F1(this,o)}}function F1(e,r){if(r&&(Wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Vu(e){return Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vu(e)}function ur(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vn=function(e){L1(t,e);var r=z1(t);function t(n){var o;B1(this,t),o=r.call(this),ur(rr(o),"t",void 0),ur(rr(o),"moveOffset",void 0),ur(rr(o),"stepDrag",void 0),ur(rr(o),"contextMenuTime",void 0),ur(rr(o),"startTime",void 0),ur(rr(o),"clickTimer",void 0),ur(rr(o),"onDragStart",function(x){var T=x.event,j=T.clientX,_=T.clientY,H=o.props,Z=H.model,ae=H.graphModel,se=ae.getPointByClient({x:j,y:_}),le=se.canvasOverlayPosition,we=le.x,ge=le.y;o.moveOffset={x:Z.x-we,y:Z.y-ge}}),ur(rr(o),"onDraging",function(x){var T=x.event,j=o.props,_=j.model,H=j.graphModel,Z=H.editConfigModel,ae=Z.stopMoveGraph,se=Z.autoExpand,le=H.transformModel,we=H.width,ge=H.height,be=H.gridSize;_.isDragging=!0;var Fe=T.clientX,Re=T.clientY,Ze=H.getPointByClient({x:Fe,y:Re}),Ge=Ze.canvasOverlayPosition,ht=Ge.x,yt=Ge.y,sr=le.CanvasPointToHtmlPoint([ht,yt]),xr=Ku(sr,2),on=xr[0],zn=xr[1];if(ht=ht+o.moveOffset.x,yt=yt+o.moveOffset.y,ht=Dn(ht,be),yt=Dn(yt,be),!we||!ge){H.moveNode2Coordinate(_.id,ht,yt);return}var so=on<0||zn<0||on>we||zn>ge;if(!(se&&!ae&&so)){var Xo=le.CanvasPointToHtmlPoint([ht-_.width/2,yt-_.height/2]),Fn=Ku(Xo,2),$o=Fn[0],rd=Fn[1],MC=le.CanvasPointToHtmlPoint([ht+_.width/2,yt+_.height/2]),Em=Ku(MC,2),wC=Em[0],NC=Em[1],Hs=Math.max(be,20),Yo=[];$o<0?Yo=[Hs,0]:wC>H.width?Yo=[-Hs,0]:rd<0?Yo=[0,Hs]:NC>H.height&&(Yo=[0,-Hs]),o.t&&Gu(o.t),Yo.length>0&&!ae&&se?o.t=sg(function(){var DC=Yo,xm=Ku(DC,2),Sm=xm[0],Pm=xm[1];le.translate(Sm,Pm),H.moveNode(_.id,-Sm/le.SCALE_X,-Pm/le.SCALE_X)}):H.moveNode2Coordinate(_.id,ht,yt)}}),ur(rr(o),"onDragEnd",function(){o.t&&Gu(o.t);var x=o.props.model;x.isDragging=!1}),ur(rr(o),"handleClick",function(x){if(!!o.startTime){var T=new Date().getTime()-o.startTime;if(!(T>200)){var j=o.props,_=j.model,H=j.graphModel,Z=_.getData(),ae=H.getPointByClient({x:x.clientX,y:x.clientY}),se={data:Z,e:x,position:ae},le=x.button===2,we=x.detail===2;if(!le){var ge=H.editConfigModel;H.selectNodeById(_.id,Hp(x,ge)),o.toFront(),we?(ge.nodeTextEdit&&_.text.editable&&(_.setSelected(!1),H.setElementStateById(_.id,Et.TEXT_EDIT)),H.eventCenter.emit(it.NODE_DBCLICK,se)):(H.eventCenter.emit(it.ELEMENT_CLICK,se),H.eventCenter.emit(it.NODE_CLICK,se))}}}}),ur(rr(o),"handleContextMenu",function(x){x.preventDefault();var T=o.props,j=T.model,_=T.graphModel,H=j.getData(),Z=_.getPointByClient({x:x.clientX,y:x.clientY});_.setElementStateById(j.id,Et.SHOW_MENU,Z.domOverlayPosition),_.selectNodeById(j.id),_.eventCenter.emit(it.NODE_CONTEXTMENU,{data:H,e:x,position:Z}),o.toFront()}),ur(rr(o),"handleMouseDown",function(x){var T=o.props,j=T.model,_=T.graphModel;o.startTime=new Date().getTime();var H=_.editConfigModel;H.adjustNodePosition&&j.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(x)}),ur(rr(o),"setHoverON",function(x){var T=o.props,j=T.model,_=T.graphModel;if(!j.isHovered){var H=j.getData();j.setHovered(!0),_.eventCenter.emit(it.NODE_MOUSEENTER,{data:H,e:x})}}),ur(rr(o),"setHoverOFF",function(x){var T=o.props,j=T.model,_=T.graphModel,H=j.getData();!j.isHovered||(j.setHovered(!1),_.eventCenter.emit(it.NODE_MOUSELEAVE,{data:H,e:x}))}),ur(rr(o),"onMouseOut",function(x){D1&&o.setHoverOFF(x)});var a=n.graphModel,l=a.gridSize,p=a.eventCenter,m=n.model;return o.stepDrag=new no({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:m}),o}return _1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,l=a.model,p=a.graphModel,m=l.isSelected,x=l.isHitable,T=l.isDragging,j=l.isShowAnchor;return x&&(m||j)&&!T?Sa(l.anchors,function(_,H){var Z=l.getAnchorLineStyle(_),ae=l.getAnchorStyle(_);return Object(ne.g)(f1,{anchorData:_,node:o,style:ae,edgeStyle:Z,anchorIndex:H,nodeModel:l,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,l=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";if(a.text){var p=l.editConfigModel,m=!1;return(a.text.draggable||p.nodeTextDraggable)&&(m=!0),Object(ne.g)(gg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:m})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,l=o.isDraging,p=o.isSelected,m="lf-node";switch(a){case Et.ALLOW_CONNECT:m+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default";break}return l&&(m+=" lf-isDragging"),p&&(m+=" lf-node-selected"),m}},{key:"toFront",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=l.overlapMode;p!==br.INCREASE&&a.autoToFront&&l.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=l.editConfigModel,m=p.hideAnchors,x=p.adjustNodePosition,T=l.gridSize,j=l.transformModel.SCALE_X,_=a.isHitable,H=a.draggable,Z=Object(ne.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),m?null:this.getAnchors()),ae;return _?(x&&H&&this.stepDrag.setStep(T*j),ae=Object(ne.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Z)):ae=Object(ne.g)("g",{className:this.getStateClassName()},Z),ae}}],[{key:"getModel",value:function(o){return o}}]),t}(ne.a);function Zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zu=function(t){return typeof t}:Zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function hc(){return hc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},hc.apply(this,arguments)}function H1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U1(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}function k1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&vc(e,r)}function vc(e,r){return vc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},vc(e,r)}function X1(e){var r=W1();return function(){var n=Ju(e),o;if(r){var a=Ju(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return $1(this,o)}}function $1(e,r){if(r&&(Zu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1(e)}function Y1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ju(e)}var yc=function(e){k1(t,e);var r=X1(t);function t(){return H1(this,t),r.apply(this,arguments)}return U1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(Rn,hc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vn);function Qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(t){return typeof t}:Qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function gc(){return gc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gc.apply(this,arguments)}function K1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Eg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V1(e,r,t){return r&&Eg(e.prototype,r),t&&Eg(e,t),e}function Z1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&mc(e,r)}function mc(e,r){return mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},mc(e,r)}function J1(e){var r=eN();return function(){var n=qu(e),o;if(r){var a=qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Q1(this,o)}}function Q1(e,r){if(r&&(Qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q1(e)}function q1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qu(e)}var bc=function(e){Z1(t,e);var r=J1(t);function t(){return K1(this,t),r.apply(this,arguments)}return V1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.r,m=o.getNodeStyle();return Object(ne.g)(gi,gc({},m,{x:a,y:l,r:p}))}}]),t}(vn);function es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(t){return typeof t}:es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function tN(e,r){return iN(e)||oN(e,r)||nN(e,r)||rN()}function rN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nN(e,r){if(!!e){if(typeof e=="string")return xg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xg(e,r)}}function xg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function iN(e){if(Array.isArray(e))return e}function Sg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=tN(o,2),l=a[0],p=a[1],m=es(p);m!=="object"&&(n[l]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(ne.g)("polygon",n)}function ts(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ts=function(t){return typeof t}:ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function Oc(){return Oc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oc.apply(this,arguments)}function aN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uN(e,r,t){return r&&Pg(e.prototype,r),t&&Pg(e,t),e}function sN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ec(e,r)}function Ec(e,r){return Ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ec(e,r)}function lN(e){var r=dN();return function(){var n=rs(e),o;if(r){var a=rs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fN(this,o)}}function fN(e,r){if(r&&(ts(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cN(e)}function cN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rs(e)}var xc=function(e){sN(t,e);var r=lN(t);function t(){return aN(this,t),r.apply(this,arguments)}return uN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.width,m=o.height,x=o.points,T=o.getNodeStyle(),j={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(l-m/2,")")};return Object(ne.g)("g",j,Object(ne.g)(Sg,Oc({},T,{points:x,x:a,y:l})))}}]),t}(vn);function ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ns=function(t){return typeof t}:ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function Sc(){return Sc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sc.apply(this,arguments)}function pN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hN(e,r,t){return r&&Ag(e.prototype,r),t&&Ag(e,t),e}function vN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pc(e,r)}function Pc(e,r){return Pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Pc(e,r)}function yN(e){var r=bN();return function(){var n=os(e),o;if(r){var a=os(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return gN(this,o)}}function gN(e,r){if(r&&(ns(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mN(e)}function mN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},os(e)}var Ac=function(e){vN(t,e);var r=yN(t);function t(){return pN(this,t),r.apply(this,arguments)}return hN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)("g",null,Object(ne.g)(Sg,Sc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(vn);function is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(t){return typeof t}:is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function ON(e,r){return PN(e)||SN(e,r)||xN(e,r)||EN()}function EN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xN(e,r){if(!!e){if(typeof e=="string")return Tg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tg(e,r)}}function Tg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function SN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function PN(e){if(Array.isArray(e))return e}function AN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,l=a===void 0?4:a,p=e.ry,m=p===void 0?4:p,x=e.className,T={cx:t,cy:o,rx:l,ry:m,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(j){var _=ON(j,2),H=_[0],Z=_[1],ae=is(Z);ae!=="object"&&(T[H]=Z)}),x?T.className="lf-basic-shape ".concat(x):T.className="lf-basic-shape",Object(ne.g)("ellipse",T)}function as(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?as=function(t){return typeof t}:as=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function Tc(){return Tc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tc.apply(this,arguments)}function TN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MN(e,r,t){return r&&Mg(e.prototype,r),t&&Mg(e,t),e}function wN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mc(e,r)}function Mc(e,r){return Mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mc(e,r)}function NN(e){var r=CN();return function(){var n=us(e),o;if(r){var a=us(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return DN(this,o)}}function DN(e,r){if(r&&(as(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jN(e)}function jN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function us(e){return us=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},us(e)}var wc=function(e){wN(t,e);var r=NN(t);function t(){return TN(this,t),r.apply(this,arguments)}return MN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(AN,Tc({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vn);function ss(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ss=function(t){return typeof t}:ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function wg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ng(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wg(Object(t),!0).forEach(function(n){RN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function RN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function IN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BN(e,r,t){return r&&Dg(e.prototype,r),t&&Dg(e,t),e}function _N(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nc(e,r)}function Nc(e,r){return Nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nc(e,r)}function LN(e){var r=GN();return function(){var n=ls(e),o;if(r){var a=ls(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return zN(this,o)}}function zN(e,r){if(r&&(ss(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FN(e)}function FN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ls(e){return ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ls(e)}var Dc=function(e){_N(t,e);var r=LN(t);function t(){return IN(this,t),r.apply(this,arguments)}return BN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),l=o.text;if(l&&l.value&&a.background&&a.background.fill!=="transparnet"){var p=l.x,m=l.y,x=o.width,T=o.height,j=Ng(Ng({},a.background),{},{x:p,y:m-1,width:x,height:T});return Object(ne.g)(Rn,j)}}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getBackground())}}]),t}(vn);function fs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(t){return typeof t}:fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function jc(){return jc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jc.apply(this,arguments)}function HN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UN(e,r,t){return r&&jg(e.prototype,r),t&&jg(e,t),e}function kN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cc(e,r)}function Cc(e,r){return Cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cc(e,r)}function XN(e){var r=YN();return function(){var n=cs(e),o;if(r){var a=cs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return $N(this,o)}}function $N(e,r){if(r&&(fs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xi(e)}function xi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cs(e)}function ds(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Rc=function(e){kN(t,e);var r=XN(t);function t(){var n;HN(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),ds(xi(n),"ref",void 0),ds(xi(n),"currentProperties",void 0),ds(xi(n),"preProperties",void 0),ds(xi(n),"setRef",function(p){n.ref=p}),n}return UN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.height,m=o.width,x=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(ne.g)("foreignObject",jc({},x,{x:a-m/2,y:l-p/2,width:m,height:p,ref:this.setRef}))}}]),t}(vn);function ps(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ps=function(t){return typeof t}:ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function Ic(){return Ic=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ic.apply(this,arguments)}function Cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ao(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Cg(Object(t),!0).forEach(function(n){Lc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function WN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Rg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KN(e,r,t){return r&&Rg(e.prototype,r),t&&Rg(e,t),e}function VN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bc(e,r)}function Bc(e,r){return Bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bc(e,r)}function ZN(e){var r=QN();return function(){var n=hs(e),o;if(r){var a=hs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return JN(this,o)}}function JN(e,r){if(r&&(ps(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _c(e)}function _c(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function hs(e){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hs(e)}function Lc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qN=function(e){VN(t,e);var r=ZN(t);function t(n){var o;return WN(this,t),o=r.call(this,n),Lc(_c(o),"setHoverON",function(){o.setState({isHoverd:!0})}),Lc(_c(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return KN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),l=o.text,p=a.background||{},m=this.state.isHoverd;if(m&&a.hover&&a.hover.background&&(p=ao(ao({},p),a.hover.background)),l&&l.value&&p.fill!=="transparent"){var x=a.fontSize,T=a.overflowMode,j=a.lineHeight,_=a.wrapPadding,H=a.textWidth,Z=l.value,ae=l.x,se=l.y,le=String(Z).split(/[\r\n]/g),we=le.length,ge;if(T==="autoWrap"&&H){var be=Kp({rows:le,style:{fontSize:"".concat(x,"px"),width:"".concat(H,"px"),lineHeight:j,padding:_},rowsLength:we,className:"lf-get-text-height"});ge=ao(ao({},p),{},{x:ae-1,y:se-1,width:H,height:be})}else{le&&le.forEach(function(ht){Fh(ht)});var Fe=hf({rows:le,fontSize:x,rowsLength:we}),Re=Fe.width,Ze=Fe.height;if(typeof p.wrapPadding=="string"){var Ge=p.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});Ge.length>0&&Ge.length<=4&&(Ge.length===1?Ge=[Ge[0],Ge[0],Ge[0],Ge[0]]:Ge.length===2?Ge=[Ge[0],Ge[1],Ge[0],Ge[1]]:Ge.length===3&&(Ge=[Ge[0],Ge[1],Ge[2],Ge[1]]),Re+=Ge[1]+Ge[3],Ze+=Ge[0]+Ge[2],ae=ae+(Ge[1]-Ge[3])/2,se=se+(Ge[2]-Ge[0])/2)}ge=ao(ao({},p),{},{x:ae-1,y:se-1,width:Re,height:Ze})}return Object(ne.g)(Rn,ge)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,l=a.value,p=a.x,m=a.y;if(!!l){var x=o.getTextStyle(),T=ao({x:p,y:m,className:"lf-element-text",value:l},x);return Object(ne.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ne.g)(hg,Ic({},T,{model:o})))}}}]),t}(gg);function vs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(t){return typeof t}:vs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function zc(){return zc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},zc.apply(this,arguments)}function Ig(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ig(Object(t),!0).forEach(function(n){Fr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ig(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eD(e,r){return oD(e)||nD(e,r)||rD(e,r)||tD()}function tD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rD(e,r){if(!!e){if(typeof e=="string")return Bg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bg(e,r)}}function Bg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function nD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function oD(e){if(Array.isArray(e))return e}function iD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _g(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aD(e,r,t){return r&&_g(e.prototype,r),t&&_g(e,t),e}function uD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function sD(e){var r=fD();return function(){var n=ys(e),o;if(r){var a=ys(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return lD(this,o)}}function lD(e,r){if(r&&(vs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zr(e)}function zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ys(e)}function Fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var en;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(en||(en={}));var Lg=function(e){uD(t,e);var r=sD(t);function t(){var n;return iD(this,t),n=r.call(this),Fr(zr(n),"dragHandler",void 0),Fr(zr(n),"oldEdge",void 0),Fr(zr(n),"preTargetNode",void 0),Fr(zr(n),"targetRuleResults",void 0),Fr(zr(n),"sourceRuleResults",void 0),Fr(zr(n),"onDragStart",function(){var o=n.props,a=o.x,l=o.y,p=o.edgeModel,m=p.startPoint,x=p.endPoint,T=p.pointsList;n.oldEdge={startPoint:m,endPoint:x,pointsList:T},n.setState({endX:a,endY:l,draging:!0}),p.isHitable=!1}),Fr(zr(n),"onDraging",function(o){var a=o.deltaX,l=o.deltaY,p=n.state,m=p.endX,x=p.endY,T=n.props,j=T.graphModel,_=T.type,H=j.transformModel,Z=H.moveCanvasPointByHtml([m,x],a,l),ae=eD(Z,2),se=ae[0],le=ae[1];n.setState({endX:se,endY:le,draging:!0});var we=n.props.edgeModel,ge=Da({x:m,y:x},j);if(ge&&ge.node&&n.isAllowAdjust(ge)){var be,Fe=we.startPoint,Re=we.endPoint,Ze=we.sourceNode,Ge=we.targetNode;_===en.SOURCE?be={startPoint:{x:ge.anchor.x,y:ge.anchor.y},endPoint:{x:Re.x,y:Re.y},sourceNode:ge.node,targetNode:Ge}:_===en.TARGET&&(be={startPoint:{x:Fe.x,y:Fe.y},endPoint:{x:ge.anchor.x,y:ge.anchor.y},sourceNode:Ze,targetNode:ge.node}),we.updateAfterAdjustStartAndEnd(be)}else _===en.SOURCE?we.updateStartPoint({x:se,y:le}):_===en.TARGET&&we.updateEndPoint({x:se,y:le})}),Fr(zr(n),"onDragEnd",function(){var o;n.setState({draging:!1});var a=n.props,l=a.graphModel,p=a.edgeModel,m=a.type;p.isHitable=!0;var x=n.state,T=x.endX,j=x.endY,_=x.draging,H=Da({x:T,y:j},l);if(!!_){if(H&&H.node&&n.isAllowAdjust(H)){var Z,ae=p.getData(),se=yn(yn({},ae),{},{sourceAnchorId:"",targetAnchorId:"",text:(ae==null||(Z=ae.text)===null||Z===void 0?void 0:Z.value)||""});if(m===en.SOURCE){var le=l.edgeGenerator(l.getNodeModelById(H.node.id).getData(),l.getNodeModelById(p.targetNodeId).getData(),se);se=yn(yn({},le),{},{sourceNodeId:H.node.id,sourceAnchorId:H.anchor.id,startPoint:{x:H.anchor.x,y:H.anchor.y},targetNodeId:p.targetNodeId,endPoint:yn({},p.endPoint)})}else if(m===en.TARGET){var we=l.edgeGenerator(l.getNodeModelById(p.sourceNodeId).getData(),l.getNodeModelById(H.node.id).getData(),se);se=yn(yn({},we),{},{sourceNodeId:p.sourceNodeId,startPoint:yn({},p.startPoint),targetNodeId:H.node.id,targetAnchorId:H.anchor.id,endPoint:{x:H.anchor.x,y:H.anchor.y}})}l.deleteEdgeById(p.id);var ge=l.addEdge(yn({},se));l.eventCenter.emit(it.EDGE_EXCHANGE_NODE,{data:{newEdge:ge.getData(),oldEdge:p.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(Et.DEFAULT)}}),Fr(zr(n),"recoveryEdge",function(){var o=n.props.edgeModel,a=n.oldEdge,l=a.startPoint,p=a.endPoint,m=a.pointsList;o.updateStartPoint(l),o.updateEndPoint(p),o.modelType!==pt.LINE_EDGE&&(o.pointsList=m,o.initPoints())}),Fr(zr(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,a=o.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Mf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return aD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,l=a.edgeModel;l.id;var p=l.sourceNode,m=l.targetNode,x=l.sourceAnchorId,T=l.targetAnchorId,j=a.type,_=null,H=null,Z=null,ae=null;if(j===en.SOURCE?(_=o.node,H=m,Z=o.anchor,ae=m.getAnchorInfo(T)):(_=p,H=o.node,ae=o.anchor,Z=p.getAnchorInfo(x)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Et.DEFAULT),this.preTargetNode=o.node,ae.id===Z.id)return!1;var se="".concat(_.id,"_").concat(H.id,"_").concat(Z.id,"_").concat(ae.id);if(!this.targetRuleResults.has(se)){var le=_.isAllowConnectedAsSource(H,Z,ae),we=H.isAllowConnectedAsTarget(_,Z,ae);this.sourceRuleResults.set(se,Ca(le)),this.targetRuleResults.set(se,Ca(we))}var ge=this.sourceRuleResults.get(se),be=ge.isAllPass,Fe=this.targetRuleResults.get(se),Re=Fe.isAllPass,Ze=be&&Re?Et.ALLOW_CONNECT:Et.NOT_ALLOW_CONNECT;return j===en.SOURCE?_.setElementState(Ze):H.setElementState(Ze),be&&Re}},{key:"render",value:function(){var o=this.props,a=o.x,l=o.y,p=this.state.draging,m=this.getAdjustPointStyle();return Object(ne.g)("g",null,Object(ne.g)(gi,zc({className:"lf-edge-adjust-point"},m,{x:a,y:l,onMouseDown:this.dragHandler,"pointer-events":p?"none":""})))}}]),t}(ne.a);function gs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gs=function(t){return typeof t}:gs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function ms(){return ms=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ms.apply(this,arguments)}function zg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Fg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zg(Object(t),!0).forEach(function(n){Hr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function cD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dD(e,r,t){return r&&Gg(e.prototype,r),t&&Gg(e,t),e}function pD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gc(e,r)}function Gc(e,r){return Gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gc(e,r)}function hD(e){var r=yD();return function(){var n=bs(e),o;if(r){var a=bs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vD(this,o)}}function vD(e,r){if(r&&(gs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gr(e)}function Gr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function bs(e){return bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bs(e)}function Hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Si=function(e){pD(t,e);var r=hD(t);function t(){var n;cD(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Hr(Gr(n),"startTime",void 0),Hr(Gr(n),"contextMenuTime",void 0),Hr(Gr(n),"clickTimer",void 0),Hr(Gr(n),"handleHover",function(p,m){var x=n.props,T=x.model,j=x.graphModel.eventCenter;T.setHovered(p);var _=p?it.EDGE_MOUSEENTER:it.EDGE_MOUSELEAVE,H=T.getData();j.emit(_,{data:H,e:m})}),Hr(Gr(n),"setHoverON",function(p){var m=n.props.model.isHovered;m||n.handleHover(!0,p)}),Hr(Gr(n),"setHoverOFF",function(p){n.handleHover(!1,p)}),Hr(Gr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var m=n.props,x=m.model,T=m.graphModel,j=T.getPointByClient({x:p.clientX,y:p.clientY});T.setElementStateById(x.id,Et.SHOW_MENU,j.domOverlayPosition),n.toFront(),T.selectEdgeById(x.id);var _=x==null?void 0:x.getData();T.eventCenter.emit(it.EDGE_CONTEXTMENU,{data:_,e:p,position:j})}),Hr(Gr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),Hr(Gr(n),"handleMouseUp",function(p){if(!!n.startTime){var m=new Date().getTime()-n.startTime;if(!(m>200)){var x=p.button===2;if(!x){var T=p.detail===2,j=n.props,_=j.model,H=j.graphModel,Z=_==null?void 0:_.getData(),ae=H.getPointByClient({x:p.clientX,y:p.clientY});if(T){var se=H.editConfigModel,le=H.textEditElement;if(le&&le.id===_.id&&H.setElementStateById(_.id,Et.DEFAULT),se.edgeTextEdit&&_.text.editable&&H.setElementStateById(_.id,Et.TEXT_EDIT),_.modelType===pt.POLYLINE_EDGE){var we=_,ge=H.getPointByClient({x:p.x,y:p.y}),be=ge.canvasOverlayPosition,Fe=be.x,Re=be.y,Ze=Hh({x:Fe,y:Re},we.points);we.dbClickPosition=Ze}H.eventCenter.emit(it.EDGE_DBCLICK,{data:Z,e:p,position:ae})}else H.eventCenter.emit(it.ELEMENT_CLICK,{data:Z,e:p,position:ae}),H.eventCenter.emit(it.EDGE_CLICK,{data:Z,e:p,position:ae});var Ge=H.editConfigModel;H.selectEdgeById(_.id,Hp(p,Ge)),n.toFront()}}}}),Hr(Gr(n),"getIsDragging",function(){return!1}),n}return dD(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,l=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";var p=!1,m=l.editConfigModel;return(a.text.draggable||m.edgeTextDraggable)&&(p=!0),Object(ne.g)(qN,{editable:m.edgeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p=o.isSelected,m=this.state,x=m.hover;return{start:a,end:l,hover:x,isSelected:p}}},{key:"getArrowStyle",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.getEdgeStyle(),m=a.getEdgeAnimationStyle(),x=l.theme.arrow,T=a.isAnimation?m.stroke:p.stroke;return Fg(Fg({},p),{},{fill:T,stroke:T},x)}},{key:"getArrow",value:function(){var o=this.props.model.id,a=this.getArrowStyle(),l=a.refY,p=l===void 0?0:l,m=a.refX,x=m===void 0?2:m;return Object(ne.g)("g",null,Object(ne.g)("defs",null,Object(ne.g)("marker",{id:"marker-start-".concat(o),refX:-x,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ne.g)("marker",{id:"marker-end-".concat(o),refX:x,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,l=o.strokeWidth,p=o.offset,m=o.verticalLength;return Object(ne.g)("path",{stroke:a,fill:a,strokeWidth:l,d:"M 0 0 L ".concat(p," -").concat(m," L ").concat(p," ").concat(m," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,l=o.strokeWidth,p=o.offset,m=o.verticalLength;return Object(ne.g)("path",{stroke:a,fill:a,strokeWidth:l,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(m," L ").concat(p," ").concat(m," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.getAdjustStart(),m=a.getAdjustEnd();return Object(ne.g)("g",null,Object(ne.g)(Lg,ms({type:"SOURCE"},p,{edgeModel:a,graphModel:l})),Object(ne.g)(Lg,ms({type:"TARGET"},m,{edgeModel:a,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ne.g)("g",null)}},{key:"getAppend",value:function(){return Object(ne.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,l=o.model,p=a.overlapMode;p!==br.INCREASE&&a.toFront(l.id)}},{key:"render",value:function(){var o=this.props,a=o.model,l=a.isSelected,p=a.isHitable,m=o.graphModel,x=this.getIsDragging(),T=m.editConfigModel.adjustEdgeStartAndEnd,j=m.animation,_=l&&j.edge&&m.getSelectElements().edges.length===1;return Object(ne.g)("g",null,Object(ne.g)("g",{className:["lf-edge",!p&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),_&&this.getAnimation(),this.getText(),this.getArrow()),T&&l&&!x?this.getAdjustPoints():"")}}]),t}(ne.a);function Os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Os=function(t){return typeof t}:Os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function gD(e,r){return ED(e)||OD(e,r)||bD(e,r)||mD()}function mD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(e,r){if(!!e){if(typeof e=="string")return Hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hg(e,r)}}function Hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function OD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ED(e){if(Array.isArray(e))return e}function xD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=gD(t,2),o=n[0],a=n[1],l=Os(a);(o==="style"||l!=="object")&&(r[o]=a)}),Object(ne.g)("path",r)}var Ho=xD;function Es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function xs(){return xs=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xs.apply(this,arguments)}function SD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PD(e,r,t){return r&&Ug(e.prototype,r),t&&Ug(e,t),e}function AD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hc(e,r)}function Hc(e,r){return Hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hc(e,r)}function TD(e){var r=ND();return function(){var n=Ss(e),o;if(r){var a=Ss(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return MD(this,o)}}function MD(e,r){if(r&&(Es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wD(e)}function wD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ND(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ss(e)}var Uc=function(e){AD(t,e);var r=TD(t);function t(){return SD(this,t),r.apply(this,arguments)}return PD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p=o.isAnimation,m=o.arrowConfig,x=o.getEdgeStyle(),T=o.getEdgeAnimationStyle(),j=T.strokeDasharray,_=T.stroke,H=T.strokeDashoffset,Z=T.animationName,ae=T.animationDuration,se=T.animationIterationCount,le=T.animationTimingFunction,we=T.animationDirection;return Object(ne.g)(oo,xs({},x,{x1:a.x,y1:a.y,x2:l.x,y2:l.y},m,p?{strokeDasharray:j,stroke:_,style:{strokeDashoffset:H,animationName:Z,animationDuration:ae,animationIterationCount:se,animationTimingFunction:le,animationDirection:we}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,m=a.strokeDasharray,x=o.startPoint,T=o.endPoint,j=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(oo,xs({},j,{x1:x.x,y1:x.y,x2:T.x,y2:T.y,className:p,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p={start:a,end:l},m=xA(p),x=m.d,T=m.strokeWidth,j=m.fill,_=m.strokeDasharray,H=m.stroke;return Object(ne.g)(Ho,{d:x,fill:j,strokeWidth:T,stroke:H,strokeDasharray:_})}}]),t}(Si);function Ps(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ps=function(t){return typeof t}:Ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function DD(e,r){return ID(e)||RD(e,r)||CD(e,r)||jD()}function jD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CD(e,r){if(!!e){if(typeof e=="string")return kg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kg(e,r)}}function kg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function RD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ID(e){if(Array.isArray(e))return e}function BD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=DD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var l=Ps(a);l!=="object"&&(r[o]=a)}}),Object(ne.g)("polyline",r)}var Xg=BD;function As(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?As=function(t){return typeof t}:As=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function $g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ts(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$g(Object(t),!0).forEach(function(n){rn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ms(){return Ms=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ms.apply(this,arguments)}function _D(e,r){return GD(e)||FD(e,r)||zD(e,r)||LD()}function LD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zD(e,r){if(!!e){if(typeof e=="string")return Yg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Yg(e,r)}}function Yg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function FD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function GD(e){if(Array.isArray(e))return e}function HD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UD(e,r,t){return r&&Wg(e.prototype,r),t&&Wg(e,t),e}function kD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&kc(e,r)}function kc(e,r){return kc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},kc(e,r)}function XD(e){var r=YD();return function(){var n=ws(e),o;if(r){var a=ws(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return $D(this,o)}}function $D(e,r){if(r&&(As(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tn(e)}function tn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ws(e){return ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ws(e)}function rn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Xc=function(e){kD(t,e);var r=XD(t);function t(){var n;return HD(this,t),n=r.call(this),rn(tn(n),"drag",void 0),rn(tn(n),"isDraging",void 0),rn(tn(n),"appendInfo",void 0),rn(tn(n),"dragHandler",void 0),rn(tn(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),rn(tn(n),"onDraging",function(o){var a=o.deltaX,l=o.deltaY,p=n.props,m=p.model,x=p.graphModel;n.isDraging=!0;var T=x.transformModel,j=x.editConfigModel,_=T.fixDeltaXY(a,l),H=_D(_,2),Z=H[0],ae=H[1],se=m,le=j.adjustEdgeMiddle;le?n.appendInfo=se.dragAppendSimple(n.appendInfo,{x:Z,y:ae}):n.appendInfo=se.dragAppend(n.appendInfo,{x:Z,y:ae})}),rn(tn(n),"onDragEnd",function(){var o=n.props,a=o.model,l=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,l.emit(it.EDGE_ADJUST,{data:p.getData()})}),rn(tn(n),"beforeDragStart",function(o,a){a.dragAble&&n.dragHandler(o),n.appendInfo=a}),rn(tn(n),"getIsDragging",function(){return n.isDraging}),n.drag=Mf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return UD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,l=o.isAnimation,p=o.arrowConfig,m=o.getEdgeStyle(),x=o.getEdgeAnimationStyle(),T=x.strokeDasharray,j=x.stroke,_=x.strokeDashoffset,H=x.animationName,Z=x.animationDuration,ae=x.animationIterationCount,se=x.animationTimingFunction,le=x.animationDirection;return Object(ne.g)(Xg,Ms({points:a},m,p,l?{strokeDasharray:T,stroke:j,style:{strokeDashoffset:_,animationName:H,animationDuration:Z,animationIterationCount:ae,animationTimingFunction:se,animationDirection:le}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,m=a.strokeDasharray,x=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(Xg,Ms({points:o.points},x,{className:p,strokeDasharray:m,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,l=o.isSelected,p=this.state,m=p.hover,x={start:null,end:null,hover:m,isSelected:l},T=Mo(a);return T.length>=2&&(x.start=T[T.length-2],x.end=T[T.length-1]),x}},{key:"getAppendAttributes",value:function(o){var a=o.start,l=o.end,p;if(a.x===l.x&&a.y===l.y)p="";else{var m={start:a,end:l,offset:10,verticalLength:5},x=pi(Ts(Ts({},m),{},{type:"start"})),T=pi(Ts(Ts({},m),{},{type:"end"}));p="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),l=a.d,p=a.strokeWidth,m=a.fill,x=a.strokeDasharray,T=a.stroke;return Object(ne.g)(Ho,{d:l,fill:m,strokeWidth:p,stroke:T,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,l=a.model,p=a.graphModel,m=l.pointsList,x=l.draggable,T=[],j=m.length,_=function(ae){var se="lf-polyline-append",le={start:{x:m[ae].x,y:m[ae].y},end:{x:m[ae+1].x,y:m[ae+1].y},startIndex:ae,endIndex:ae+1,direction:"",dragAble:!0},we=Object(ne.g)("g",{className:se},o.getAppendShape(le)),ge=p.editConfigModel,be=ge.adjustEdge,Fe=ge.adjustEdgeMiddle;if(!be||!x)o.dragHandler=function(){};else{o.dragHandler=o.drag;var Re=le.startIndex,Ze=le.endIndex,Ge=Fe&&(Re===0||Ze===j-1);le.dragAble=!Ge,le.start.x===le.end.x?(le.dragAble&&(se+="-ew-resize"),le.direction=Dt.VERTICAL):le.start.y===le.end.y&&(le.dragAble&&(se+="-ns-resize"),le.direction=Dt.HORIZONTAL),we=Object(ne.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(yt){return o.beforeDragStart(yt,le)}},Object(ne.g)("g",{className:se},o.getAppendShape(le)))}T.push(we)},H=0;H<j-1;H++)_(H);return Object(ne.g)("g",null,T)}}]),t}(Si);function Ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ns=function(t){return typeof t}:Ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function WD(e,r){return JD(e)||ZD(e,r)||VD(e,r)||KD()}function KD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VD(e,r){if(!!e){if(typeof e=="string")return Kg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kg(e,r)}}function Kg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ZD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function JD(e){if(Array.isArray(e))return e}function Ds(){return Ds=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ds.apply(this,arguments)}function QD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qD(e,r,t){return r&&Vg(e.prototype,r),t&&Vg(e,t),e}function ej(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return $c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$c(e,r)}function tj(e){var r=oj();return function(){var n=js(e),o;if(r){var a=js(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rj(this,o)}}function rj(e,r){if(r&&(Ns(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nj(e)}function nj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},js(e)}var Yc=function(e){ej(t,e);var r=tj(t);function t(){return QD(this,t),r.apply(this,arguments)}return qD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),l=o.path,p=o.isAnimation,m=o.arrowConfig,x=o.getEdgeAnimationStyle(),T=x.strokeDasharray,j=x.stroke,_=x.strokeDashoffset,H=x.animationName,Z=x.animationDuration,ae=x.animationIterationCount,se=x.animationTimingFunction,le=x.animationDirection;return Object(ne.g)(Ho,Ds({d:l},a,m,p?{strokeDasharray:T,stroke:j,style:{strokeDashoffset:_,animationName:H,animationDuration:Z,animationIterationCount:ae,animationTimingFunction:se,animationDirection:le}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,m=a.strokeDasharray,x=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(Ho,Ds({d:o.path},x,{className:p,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ne.g)(Ho,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,l=a.hover,p=o,m=p.path,x=p.isSelected,T=SA(m),j=WD(T,2),_=j[0],H=j[1],Z={start:_,end:H,hover:l,isSelected:x};return Z}}]),t}(Si);function Cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cs=function(t){return typeof t}:Cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Zg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ij(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Zg(Object(t),!0).forEach(function(n){aj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function aj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function uj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sj(e,r,t){return r&&Jg(e.prototype,r),t&&Jg(e,t),e}function lj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wc(e,r)}function Wc(e,r){return Wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wc(e,r)}function fj(e){var r=pj();return function(){var n=Rs(e),o;if(r){var a=Rs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cj(this,o)}}function cj(e,r){if(r&&(Cs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dj(e)}function dj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rs(e)}var hj=function(e){lj(t,e);var r=fj(t);function t(){return uj(this,t),r.apply(this,arguments)}return sj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,l=o.style,p=a.start,m=a.end,x={start:p,end:m,offset:l.offset,verticalLength:l.verticalLength,type:"end"},T=pi(x),j=T.leftX,_=T.leftY,H=T.rightX,Z=T.rightY;return ij({d:"M".concat(j," ").concat(_," L").concat(m.x," ").concat(m.y," L").concat(H," ").concat(Z," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,l=o.strokeWidth,p=o.stroke,m=o.fill;return Object(ne.g)(Ho,{d:a,fill:m,strokeWidth:l,stroke:p})}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(ne.a);function vj(e,r){return Vl(e,r)}var Qg=vj;function yj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var gj=yj,mj=function(){return Pr.a.Date.now()},Kc=mj,bj=/\s/;function Oj(e){for(var r=e.length;r--&&bj.test(e.charAt(r)););return r}var Ej=Oj,xj=/^\s+/;function Sj(e){return e&&e.slice(0,Ej(e)+1).replace(xj,"")}var Pj=Sj,qg=0/0,Aj=/^[-+]0x[0-9a-f]+$/i,Tj=/^0b[01]+$/i,Mj=/^0o[0-7]+$/i,wj=parseInt;function Nj(e){if(typeof e=="number")return e;if(Ea(e))return qg;if(At(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=At(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Pj(e);var t=Tj.test(e);return t||Mj.test(e)?wj(e.slice(2),t?2:8):Aj.test(e)?qg:+e}var em=Nj,Dj="Expected a function",jj=Math.max,Cj=Math.min;function Rj(e,r,t){var n,o,a,l,p,m,x=0,T=!1,j=!1,_=!0;if(typeof e!="function")throw new TypeError(Dj);r=em(r)||0,At(t)&&(T=!!t.leading,j="maxWait"in t,a=j?jj(em(t.maxWait)||0,r):a,_="trailing"in t?!!t.trailing:_);function H(Re){var Ze=n,Ge=o;return n=o=void 0,x=Re,l=e.apply(Ge,Ze),l}function Z(Re){return x=Re,p=setTimeout(le,r),T?H(Re):l}function ae(Re){var Ze=Re-m,Ge=Re-x,ht=r-Ze;return j?Cj(ht,a-Ge):ht}function se(Re){var Ze=Re-m,Ge=Re-x;return m===void 0||Ze>=r||Ze<0||j&&Ge>=a}function le(){var Re=Kc();if(se(Re))return we(Re);p=setTimeout(le,ae(Re))}function we(Re){return p=void 0,_&&n?H(Re):(n=o=void 0,l)}function ge(){p!==void 0&&clearTimeout(p),x=0,n=m=o=p=void 0}function be(){return p===void 0?l:we(Kc())}function Fe(){var Re=Kc(),Ze=se(Re);if(n=arguments,o=this,m=Re,Ze){if(p===void 0)return Z(m);if(j)return clearTimeout(p),p=setTimeout(le,r),H(m)}return p===void 0&&(p=setTimeout(le,r)),l}return Fe.cancel=ge,Fe.flush=be,Fe}var Ij=Rj,Bj=i(166);function _j(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lj(e,r,t){return r&&tm(e.prototype,r),t&&tm(e,t),e}function Ln(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var zj=function(){function e(r){_j(this,e),Ln(this,"undos",[]),Ln(this,"redos",[]),Ln(this,"callbacks",[]),Ln(this,"stopWatch",null),Ln(this,"curData",null),Ln(this,"maxSize",50),Ln(this,"waitTime",100),Ln(this,"eventCenter",void 0),this.eventCenter=r}return Lj(e,[{key:"add",value:function(t){Qg(gj(this.undos),t)||(this.undos.push(t),Qg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(it.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=jt(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=jt(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Bj.a)(t,Ij(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),Fj=zj;function Is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(t){return typeof t}:Is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}var rm,nm,om;function Gj(e,r){return Xj(e)||kj(e,r)||Uj(e,r)||Hj()}function Hj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uj(e,r){if(!!e){if(typeof e=="string")return im(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return im(e,r)}}function im(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function kj(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Xj(e){if(Array.isArray(e))return e}function am(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?am(Object(t),!0).forEach(function(n){uo(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):am(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $j(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function um(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yj(e,r,t){return r&&um(e.prototype,r),t&&um(e,t),e}function Wj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vc(e,r)}function Vc(e,r){return Vc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Vc(e,r)}function Kj(e){var r=Zj();return function(){var n=Bs(e),o;if(r){var a=Bs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Vj(this,o)}}function Vj(e,r){if(r&&(Is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ko(e)}function ko(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Bs(e){return Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bs(e)}function uo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zc=Ur(rm=(om=nm=function(e){Wj(t,e);var r=Kj(t);function t(){var n;return $j(this,t),n=r.call(this),uo(ko(n),"ref",Object(ne.f)()),uo(ko(n),"__prevText",{type:"",text:"",id:""}),uo(ko(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),uo(ko(n),"inputHandler",function(o){var a=o.target,l=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:l.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),uo(ko(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Yj(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,a=o.eventCenter;a.on("".concat(it.GRAPH_TRANSFORM,",").concat(it.NODE_CLICK,",").concat(it.BLANK_CLICK," "),function(){var l=o.textEditElement,p=o.editConfigModel,m=p.edgeTextEdit,x=p.nodeTextEdit;(m||x)&&l&&o.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,l=a.text,p=a.id;o.updateText(p,l),o.eventCenter.emit(it.TEXT_UPDATE,Uo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,l=this.state.style;return a?Object(ne.g)("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,l=a.transformModel,p=a.theme,m=a.textEditElement,x;if(m){var T;if(!((T=m.text)!==null&&T!==void 0&&T.value))if(m.BaseType===Gt.EDGE){m=m;var j=m.text,_=m.textPosition,H=_.x,Z=_.y;j.x=H,j.y=Z,m.setText(j)}else m=m;var ae={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(m.BaseType===Gt.EDGE){var se=p.edgeText,le=se.overflowMode,we=se.lineHeight,ge=se.wrapPadding,be=se.textWidth;be&&le==="autoWrap"&&(x=Uo(Uo({},ae),{},{width:be,minWidth:be,lineHeight:we,padding:ge}))}else if(m.BaseType===Gt.NODE){var Fe=p.nodeText,Re=Fe.overflowMode,Ze=Fe.lineHeight,Ge=Fe.wrapPadding,ht=Fe.textWidth,yt=m,sr=yt.width,xr=yt.modelType;(xr!==pt.TEXT_NODE&&Re==="autoWrap"||xr===pt.TEXT_NODE&&ht)&&(x=Uo(Uo({},ae),{},{width:ht||sr,minWidth:ht||sr,lineHeight:Ze,padding:Ge}))}var on=m.text,zn=on.x,so=on.y,Xo=l.CanvasPointToHtmlPoint([zn,so]),Fn=Gj(Xo,2),$o=Fn[0],rd=Fn[1];return{style:Uo({left:$o,top:rd},x)}}}}]),t}(ne.a),uo(nm,"toolName","textEdit"),om))||rm,Jj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},Qj=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,l=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-l/2,y:a-p/2,x1:o+l/2,y1:a+p/2}},qj=function(r){var t=r.points,n=Mo(t),o=hi(n,8),a=o.x,l=o.y,p=o.width,m=o.height;return{x:a-p/2,y:l-m/2,x1:a+p/2,y1:l+m/2}},eC=function(r){var t=r.path,n=ka(t),o=hi(n,8),a=o.x,l=o.y,p=o.width,m=o.height;return{x:a-p/2,y:l-m/2,x1:a+p/2,y1:l+m/2}},tC=function(r){if(r.modelType===pt.LINE_EDGE)return Qj(r);if(r.modelType===pt.POLYLINE_EDGE)return qj(r);if(r.modelType===pt.BEZIER_EDGE)return eC(r)};function _s(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_s=function(t){return typeof t}:_s=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}var sm,lm,fm;function cm(e,r){return oC(e)||nC(e,r)||dm(e,r)||rC()}function rC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nC(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function oC(e){if(Array.isArray(e))return e}function iC(e){return sC(e)||uC(e)||dm(e)||aC()}function aC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dm(e,r){if(!!e){if(typeof e=="string")return Jc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jc(e,r)}}function uC(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sC(e){if(Array.isArray(e))return Jc(e)}function Jc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function lC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fC(e,r,t){return r&&pm(e.prototype,r),t&&pm(e,t),e}function cC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Qc(e,r)}function Qc(e,r){return Qc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Qc(e,r)}function dC(e){var r=hC();return function(){var n=Ls(e),o;if(r){var a=Ls(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pC(this,o)}}function pC(e,r){if(r&&(_s(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pi(e)}function Pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ls(e){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(e)}function Ai(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qc=Ur(sm=(fm=lm=function(e){cC(t,e);var r=dC(t);function t(n){var o;lC(this,t),o=r.call(this),Ai(Pi(o),"stepDrag",void 0),Ai(Pi(o),"handleMouseDown",function(m){o.stepDrag.handleMouseDown(m)}),Ai(Pi(o),"onDraging",function(m){var x=m.deltaX,T=m.deltaY,j=o.props.graphModel,_=j.getSelectElements(!0);j.moveNodes(_.nodes.map(function(H){return H.id}),x,T)}),Ai(Pi(o),"handleContextMenu",function(m){m.preventDefault();var x=o.props,T=x.graphModel,j=x.graphModel,_=j.eventCenter,H=j.selectElements,Z=T.getPointByClient({x:m.clientX,y:m.clientY}),ae={nodes:[],edges:[]},se=iC(H.values());se.forEach(function(le){le.BaseType===Gt.NODE&&ae.nodes.push(le.getData()),le.BaseType===Gt.EDGE&&ae.edges.push(le.getData())}),_.emit(it.SELECTION_CONTEXTMENU,{data:ae,e:m,position:Z})});var a=n.graphModel,l=a.gridSize,p=a.eventCenter;return o.stepDrag=new no({onDraging:o.onDraging,step:l,eventType:"SELECTION",eventCenter:p}),o}return fC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,l=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;a.forEach(function(se){var le={x:0,y:0,x1:0,y1:0};se.BaseType===Gt.NODE&&(le=Jj(se)),se.BaseType===Gt.EDGE&&(le=tC(se)),p=Math.min(p,le.x),m=Math.min(m,le.y),x=Math.max(x,le.x1),T=Math.max(T,le.y1)});var j=l.CanvasPointToHtmlPoint([p,m]),_=cm(j,2);p=_[0],m=_[1];var H=l.CanvasPointToHtmlPoint([x,T]),Z=cm(H,2);x=Z[0],T=Z[1];var ae={left:"".concat(p-10,"px"),top:"".concat(m-10,"px"),width:"".concat(x-p+20,"px"),height:"".concat(T-m+20,"px")};return Object(ne.g)("div",{className:"lf-multiple-select",style:ae,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(ne.a),Ai(lm,"toolName","multipleSelect"),fm))||sm;function vC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yC(e,r,t){return r&&hm(e.prototype,r),t&&hm(e,t),e}function zs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gC=function(){function e(r){vC(this,e),zs(this,"tools",void 0),zs(this,"components",void 0),zs(this,"toolMap",new Map),zs(this,"instance",void 0),this.instance=r,this.isDisabledTool(Zc.toolName)||this.registerTool(Zc.toolName,Zc),this.isDisabledTool(qc.toolName)||this.registerTool(qc.toolName,qc)}return yC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),mC=i(167),bC=i.n(mC);function OC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EC(e,r,t){return r&&vm(e.prototype,r),t&&vm(e,t),e}function ed(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ym=function(){function e(r){OC(this,e),ed(this,"mousetrap",void 0),ed(this,"options",void 0),ed(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new bC.a(this.target),r.keyboard.enabled&&this.enable(!0)}return EC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var m=p.keys,x=p.callback,T=p.action;return t.on(m,x,T)});else{var o=n.keys,a=n.callback,l=n.action;this.on(o,a,l)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),xC=ym,nn=null;function gm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function mm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Fs=40;function SC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),l=o&&o.beforeClone?o.beforeClone(a):!0;return l?(nn=a,nn.nodes.forEach(function(p){return gm(p,Fs)}),nn.edges.forEach(function(p){return mm(p,Fs)}),!1):(nn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!r.textEditElement){if(nn&&(nn.nodes||nn.edges)){e.clearSelectElements();var o=e.addElements(nn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),nn.nodes.forEach(function(a){return gm(a,Fs)}),nn.edges.forEach(function(a){return mm(a,Fs)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(!!n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function PC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function Gs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gs=function(t){return typeof t}:Gs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function bm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ti(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?bm(Object(t),!0).forEach(function(n){Lt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function AC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Om(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TC(e,r,t){return r&&Om(e.prototype,r),t&&Om(e,t),e}function Lt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var td=function(){function e(r){var t=this;AC(this,e),Lt(this,"container",void 0),Lt(this,"width",void 0),Lt(this,"height",void 0),Lt(this,"graphModel",void 0),Lt(this,"history",void 0),Lt(this,"viewMap",new Map),Lt(this,"tool",void 0),Lt(this,"keyboard",void 0),Lt(this,"dnd",void 0),Lt(this,"options",void 0),Lt(this,"snaplineModel",void 0),Lt(this,"components",[]),Lt(this,"plugins",void 0),Lt(this,"extension",{}),Lt(this,"adapterIn",void 0),Lt(this,"adapterOut",void 0),Lt(this,"getView",function(n){return t.viewMap.get(n)}),r=Hv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new zA(Ti({},r)),this.tool=new gC(this),this.history=new Fj(this.graphModel.eventCenter),this.dnd=new SM({lf:this}),this.keyboard=new xC({lf:this,keyboard:r.keyboard}),r.snapline!==!1&&(this.snaplineModel=new ug(this.graphModel),PC(this.graphModel.eventCenter,this.snaplineModel)),SC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return TC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Si,BaseEdgeModel:yf,BaseNode:vn,BaseNodeModel:pn,RectNode:yc,RectNodeModel:oc,CircleNode:bc,CircleNodeModel:Wf,PolygonNode:xc,PolygonNodeModel:tc,TextNode:Dc,TextNodeModel:ac,LineEdge:Uc,LineEdgeModel:bf,DiamondNode:Ac,DiamondNodeModel:Zf,PolylineEdge:Xc,PolylineEdgeModel:xf,BezierEdge:Yc,BezierEdgeModel:Xf,EllipseNode:wc,EllipseNodeModel:Qf,HtmlNode:Rc,HtmlNodeModel:sc,h:ne.g,type:t};this.viewMap.forEach(function(T){var j=T.extendKey;j&&(a[j]=T)}),this.graphModel.modelMap.forEach(function(T){var j=T.extendKey;j&&(a[j]=T)});var l=n(a),p=l.view,m=l.model,x=p;o&&!x.isObervered&&(x.isObervered=!0,x=bt(x)),this.setView(t,x),this.graphModel.setModel(t,m)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=bt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:yc,model:oc,type:"rect"}),this.registerElement({type:"circle",view:bc,model:Wf}),this.registerElement({type:"polygon",view:xc,model:tc}),this.registerElement({type:"line",view:Uc,model:bf}),this.registerElement({type:"polyline",view:Xc,model:xf}),this.registerElement({type:"bezier",view:Yc,model:Xf}),this.registerElement({type:"text",view:Dc,model:ac}),this.registerElement({type:"ellipse",view:wc,model:Qf}),this.registerElement({type:"diamond",view:Ac,model:Zf}),this.registerElement({type:"html",view:Rc,model:sc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var l=this.getNodeModelById(a);l&&(o=l.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var m=o,x=m.x,T=m.y;n.focusOn(x,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,l=this.getModelById(t);if(!l)return!1;var p=(n={},Lt(n,Gt.NODE,this.deleteNode),Lt(n,Gt.EDGE,this.deleteEdge),n),m=l.BaseType;return(o=(a=p[m])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,l=a&&a.beforeDelete?a.beforeDelete(o):!0;return l&&this.graphModel.deleteNode(t),l}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,l=a&&a.beforeClone?a.beforeClone(o):!0;if(l)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),l=n&&n.beforeDelete?n.beforeDelete(a):!0;return l&&this.graphModel.deleteEdgeById(t),l}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var l=[];return n.forEach(function(x){x.sourceNodeId===o&&x.targetNodeId===a&&l.push(x)}),l}if(o){var p=[];return n.forEach(function(x){x.sourceNodeId===o&&p.push(x)}),p}if(a){var m=[];return n.forEach(function(x){x.targetNodeId===a&&m.push(x)}),m}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(er(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,l={},p={nodes:[],edges:[]},m=0;m<o.length;m++){var x=o[m],T=x.id,j=this.addNode(x);if(!j)return;T&&(l[T]=j.id),p.nodes.push(j)}return a.forEach(function(_){var H=_.sourceNodeId,Z=_.targetNodeId;l[H]&&(H=l[H]),l[Z]&&(Z=l[Z]);var ae=n.graphModel.addEdge(Ti(Ti({},_),{},{sourceNodeId:H,targetNodeId:Z}));p.edges.push(ae)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,l).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=er(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=er(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,l=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:l}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(l){var p=l.pluginName||l.name;o.indexOf(p)===-1&&n.installPlugin(l)})}},{key:"installPlugin",value:function(t){if(Gs(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,l=new a({lf:this,LogicFlow:e});l.render&&this.components.push(l.render.bind(l)),this.extension[a.pluginName]=l}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var o=new n(Ti(Ti({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(er(t)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ne.j)(Object(ne.g)(OM,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(it.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();Lt(td,"extensions",new Map);function Ur(e){return bt(e)}c.default=td}])})})(We,We.exports);var Wo=YC(We.exports);function fR(g,v){return v={exports:{}},g(v,v.exports),v.exports}var cR=fR(function(g){var v=g.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),s=2;i===1/0;s*=2)i=Math.log(Math.pow(2,u/s))/Math.log(c)*s;for(var f=i-Math.floor(i),y="",s=0;s<Math.floor(i);s++){var b=Math.floor(Math.random()*c).toString(c);y=b+y}if(f){var S=Math.pow(c,f),b=Math.floor(Math.random()*S).toString(c);y=b+y}var E=parseInt(y,c);return E!==1/0&&E>=Math.pow(2,u)?v(u,c):y};v.rack=function(u,c,i){var s=function(y){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var S=v(u,c)}while(Object.hasOwnProperty.call(f,S));return f[S]=y,S},f=s.hats={};return s.get=function(y){return s.hats[y]},s.set=function(y,b){return s.hats[y]=b,s},s.bits=u||128,s.base=c||16,s}});function an(g){if(!(this instanceof an))return new an(g);g=g||[128,36,1],this._seed=g.length?cR.rack(g[0],g[1],g[2]):g}an.prototype.next=function(g){return this._seed(g||!0)};an.prototype.nextPrefixed=function(g,v){var u;do u=g+this.next(!0);while(this.assigned(u));return this.claim(u,v),u};an.prototype.claim=function(g,v){this._seed.set(g,v||!0)};an.prototype.assigned=function(g){return this._seed.get(g)||!1};an.prototype.unclaim=function(g){delete this._seed.hats[g]};an.prototype.clear=function(){var g=this._seed.hats,v;for(v in g)this.unclaim(v)};var dR=new an([32,32,1]);function Jo(){return dR.next()}var nb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),pR=function(g){nb(v,g);function v(u,c){var i=this;return u.id||(u.id="Event_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=g.prototype.getConnectedTargetRules.call(this),c={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v}(We.exports.CircleNodeModel),hR=function(g){nb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.extendKey="StartEventNode",v}(We.exports.CircleNode),vR={type:"bpmn:startEvent",view:hR,model:pR},ob=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ks=globalThis&&globalThis.__assign||function(){return Ks=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Ks.apply(this,arguments)},yR=function(g){ob(v,g);function v(u,c){var i=this;return u.id||(u.id="Event_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=g.prototype.getConnectedSourceRules.call(this),c={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v}(We.exports.CircleNodeModel),gR=function(g){ob(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,s=u.y,f=u.r,y=g.prototype.getShape.call(this);return We.exports.h("g",{},y,We.exports.h("circle",Ks(Ks({},c),{cx:i,cy:s,r:f-5})))},v.extendKey="EndEventView",v}(We.exports.CircleNode),mR={type:"bpmn:endEvent",view:gR,model:yR},ib=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ji=globalThis&&globalThis.__assign||function(){return ji=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},ji.apply(this,arguments)},bR=function(g){ib(v,g);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v}(We.exports.PolygonNodeModel),OR=function(g){ib(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.points,b=u.getNodeStyle();return We.exports.h("g",{transform:"matrix(1 0 0 1 "+(c-s/2)+" "+(i-f/2)+")"},We.exports.h("polygon",ji(ji({},b),{x:c,y:i,points:y})),We.exports.h("path",ji({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v}(We.exports.PolygonNode),ER={type:"bpmn:exclusiveGateway",view:OR,model:bR},ab=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Vs=globalThis&&globalThis.__assign||function(){return Vs=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Vs.apply(this,arguments)},xR=function(g){ab(v,g);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Jo()),i=g.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v}(We.exports.RectNodeModel),SR=function(g){ab(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.getNodeStyle();return We.exports.h("svg",{x:c-s/2+5,y:i-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},We.exports.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return We.exports.h("g",{},[We.exports.h("rect",Vs(Vs({},b),{x:c-s/2,y:i-f/2,rx:y,ry:y,width:s,height:f})),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(We.exports.RectNode),PR={type:"bpmn:userTask",view:SR,model:xR},ub=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ad=globalThis&&globalThis.__assign||function(){return ad=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},ad.apply(this,arguments)},AR=function(g){ub(v,g);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Jo()),i=g.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v}(We.exports.RectNodeModel),TR=function(g){ub(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.getNodeStyle();return We.exports.h("svg",{x:c-s/2+5,y:i-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},We.exports.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return We.exports.h("g",{},[We.exports.h("rect",ad({x:c-s/2,y:i-f/2,rx:y,ry:y,width:s,height:f},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(We.exports.RectNode),MR={type:"bpmn:serviceTask",view:TR,model:AR},sb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),wR=function(g){sb(v,g);function v(u,c){var i=this;return u.id||(u.id="Flow_"+Jo()),i=g.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v}(We.exports.PolylineEdgeModel),NR=function(g){sb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(We.exports.PolylineEdge),DR={type:"bpmn:sequenceFlow",view:NR,model:wR},Dm={width:40,height:40},jm={width:40,height:40},Cm={width:40,height:40},Rm={width:100,height:80},Im={width:100,height:80},jR={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},CR=function(){function g(v){var u=v.lf;u.setTheme(jR),u.register(vR),u.register(mR),u.register(ER),u.register(PR),u.register(MR),u.options.customBpmnEdge||(u.register(DR),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return g.pluginName="bpmnElement",g}(),RR=function(){function g(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,s){u.getSnapshot(i,s)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return g.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var s=i.x,f=i.width,y=i.y,b=i.height,S=s-f/2,E=y-b/2;S<u.offsetX&&(u.offsetX=S-5),E<u.offsetY&&(u.offsetY=E-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(s){var f=s.x,y=s.y;f<u.offsetX&&(u.offsetX=f-5),y<u.offsetY&&(u.offsetY=y-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},g.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},g.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var s=u[i],f=s.classList&&Array.from(s.classList)||[];f.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},g.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(s){var f=s.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(f)})},g.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){var f=s.toDataURL("image/png");i({data:f,width:s.width,height:s.height})})})},g.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){s.toBlob(function(f){i({data:f,width:s.width,height:s.height})},"image/png")})})},g.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],s=0;s<i.cssRules.length;s++)v+=i.cssRules[s].cssText;return this.customCssRules&&(v+=this.customCssRules),v},g.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),s=i.lastChild,f=s.childNodes&&s.childNodes.length;if(f)for(var y=0;y<f;y++){var b=s.childNodes[y],S=b.classList&&Array.from(b.classList);if(S&&S.indexOf("lf-base")<0)s.removeChild(s.childNodes[y]),f--,y--;else{var E=s.childNodes[y];E&&E.childNodes.forEach(function(L){var U=L;c.removeAnchor(U.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,M=document.createElement("canvas"),A=this.lf.graphModel.rootEl.querySelector(".lf-base"),D=A.getBoundingClientRect(),C=this.lf.graphModel,B=C.transformModel,z=B.SCALE_X,X=B.SCALE_Y,$=Math.ceil(D.width/z),ie=Math.ceil(D.height/X);M.style.width=$+"px",M.style.height=ie+"px",M.width=$*P+80,M.height=ie*P+80;var oe=M.getContext("2d");oe.clearRect(0,0,M.width,M.height),oe.scale(P,P),u?(oe.fillStyle=u,oe.fillRect(0,0,$*P+80,ie*P+80)):oe.clearRect(0,0,$,ie);var ee=new Image,J=document.createElement("style");J.innerHTML=this.getClassRules();var ue=document.createElement("foreignObject");return ue.appendChild(J),i.appendChild(ue),new Promise(function(L){ee.onload=function(){oe.drawImage(ee,0,0),L(M)};var U="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),I=U.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");ee.src=I})},g.pluginName="snapshot",g}(),IR=new an([32,32,1]);function Bm(){return IR.next()}var pr=function(){};pr.ObjTree=function(){return this};pr.ObjTree.VERSION="0.23";pr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;pr.ObjTree.prototype.attr_prefix="-";pr.ObjTree.prototype.parseXML=function(g){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(g,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(g),v=u.documentElement);if(!!v)return this.parseDOM(v)};pr.ObjTree.prototype.parseHTTP=function(g,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody=="undefined"&&typeof c.postbody=="undefined"&&typeof c.parameters=="undefined"?c.method="get":c.method="post"),u){c.asynchronous=!0;var s=this,f=u,y=c.onComplete;c.onComplete=function(E){var P;E&&E.responseXML&&E.responseXML.documentElement&&(P=s.parseDOM(E.responseXML.documentElement)),f(P,E),y&&y(E)}}else c.asynchronous=!1;var b;if(typeof HTTP!="undefined"&&HTTP.Request){c.uri=g;var S=new HTTP.Request(c);S&&(b=S.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var S=new Ajax.Request(g,c);S&&(b=S.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};pr.ObjTree.prototype.parseDOM=function(g){if(!!g){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(g);if(this.__force_array[g.nodeName]&&(u=[u]),g.nodeType!=11){var c={};c[g.nodeName]=u,u=c}return u}};pr.ObjTree.prototype.parseElement=function(g){if(g.nodeType!=7){if(g.nodeType==3||g.nodeType==4){var v=g.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:g.nodeValue}var u,c={};if(g.attributes&&g.attributes.length){u={};for(var i=0;i<g.attributes.length;i++){var s=g.attributes[i].nodeName;if(typeof s=="string"){var f=g.attributes[i].nodeValue;!f||(s=this.attr_prefix+s,typeof c[s]=="undefined"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],f))}}}if(g.childNodes&&g.childNodes.length){var y=!0;u&&(y=!1);for(var i=0;i<g.childNodes.length&&y;i++){var b=g.childNodes[i].nodeType;b==3||b==4||(y=!1)}if(y){u||(u="");for(var i=0;i<g.childNodes.length;i++)u+=g.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<g.childNodes.length;i++){var s=g.childNodes[i].nodeName;if(typeof s=="string"){var f=this.parseElement(g.childNodes[i]);!f||(typeof c[s]=="undefined"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],f))}}}}return u}};pr.ObjTree.prototype.addNode=function(g,v,u,c){this.__force_array[v]?(u==1&&(g[v]=[]),g[v][g[v].length]=c):u==1?g[v]=c:u==2?g[v]=[g[v],c]:g[v][g[v].length]=c};pr.ObjTree.prototype.writeXML=function(g){var v=this.hash_to_xml(null,g);return this.xmlDecl+v};pr.ObjTree.prototype.hash_to_xml=function(g,v){var u=[],c=[];for(var i in v)if(!!v.hasOwnProperty(i)){var s=v[i];i.charAt(0)!=this.attr_prefix?typeof s=="undefined"||s==null?u[u.length]="<"+i+" />":typeof s=="object"&&s.constructor==Array?u[u.length]=this.array_to_xml(i,s):typeof s=="object"?u[u.length]=this.hash_to_xml(i,s):u[u.length]=this.scalar_to_xml(i,s):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(s)+'"'}var f=c.join(""),y=u.join("");return typeof g=="undefined"||g==null||(u.length>0?y.match(/\n/)?y="<"+g+f+`>
`+y+"</"+g+`>
`:y="<"+g+f+">"+y+"</"+g+`>
`:y="<"+g+f+` />
`),y};pr.ObjTree.prototype.array_to_xml=function(g,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i=="undefined"||i==null?u[u.length]="<"+g+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(g,i):typeof i=="object"?u[u.length]=this.hash_to_xml(g,i):u[u.length]=this.scalar_to_xml(g,i)}return u.join("")};pr.ObjTree.prototype.scalar_to_xml=function(g,v){return g=="#text"?this.xml_escape(v):"<"+g+">"+this.xml_escape(v)+"</"+g+`>
`};pr.ObjTree.prototype.xml_escape=function(g){return g.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var el=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},un;(function(g){g.START="bpmn:startEvent",g.END="bpmn:endEvent",g.GATEWAY="bpmn:exclusiveGateway",g.USER="bpmn:userTask",g.SYSTEM="bpmn:serviceTask",g.FLOW="bpmn:sequenceFlow"})(un||(un={}));var lb=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function ud(g){var v={};return Object.entries(g).forEach(function(u){var c=el(u,2),i=c[0],s=c[1];typeof s!="object"?i.indexOf("-")===0?v[i]=s:v["-"+i]=s:v[i]=ud(s)}),v}function dd(g){var v={};return Object.entries(g).forEach(function(u){var c=el(u,2),i=c[0],s=c[1];typeof s=="string"?i.indexOf("-")===0?v[i.substr(1)]=s:v[i]=s:typeof s=="object"?v[i]=dd(s):v[i]=s}),v}function BR(g,v){var u=new Map;v.nodes.forEach(function(i){var s,f={"-id":i.id};if(!((s=i.text)===null||s===void 0)&&s.value&&(f["-name"]=i.text.value),i.properties){var y=ud(i.properties);Object.assign(f,y)}u.set(i.id,f),g[i.type]?Array.isArray(g[i.type])?g[i.type].push(f):g[i.type]=[g[i.type],f]:g[i.type]=f});var c=v.edges.map(function(i){var s,f,y=u.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var S={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((s=i.text)===null||s===void 0)&&s.value&&(S["-name"]=(f=i.text)===null||f===void 0?void 0:f.value),i.properties){var E=ud(i.properties);Object.assign(S,E)}return S});g[un.FLOW]=c}function _R(g,v){g["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,s=u.pointsList.map(function(y){var b=y.x,S=y.y;return{"-x":b,"-y":S}}),f={"-id":i+"_di","-bpmnElement":i,"di:waypoint":s};return!((c=u.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),f}),g["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,s=100,f=80,y=u.x,b=u.y,S=fo.shapeConfigMap.get(u.type);S&&(s=S.width,f=S.height),y-=s/2,b-=f/2;var E={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":b,"-width":s,"-height":f}};return!((c=u.text)===null||c===void 0)&&c.value&&(E["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),E})}function LR(g){var v=[],u=[],c=g["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(s){if(s.indexOf("bpmn:")===0){var f=i[s];if(s===un.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=FR(f,y)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(zR(f,b,s))}}})}return{nodes:v,edges:u}}function zR(g,v,u){var c=[];if(Array.isArray(g))g.forEach(function(f){var y;Array.isArray(v)?y=v.find(function(S){return S["-bpmnElement"]===f["-id"]}):y=v;var b=_m(y,u,f);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(f){return f["-bpmnElement"]===g["-id"]}):i=v;var s=_m(i,u,g);c.push(s)}return c}function _m(g,v,u){var c=Number(g["dc:Bounds"]["-x"]),i=Number(g["dc:Bounds"]["-y"]),s=u["-name"],f=fo.shapeConfigMap.get(v);f&&(c+=f.width/2,i+=f.height/2);var y;Object.entries(u).forEach(function(P){var M=el(P,2),A=M[0],D=M[1];lb.indexOf(A)===-1&&(y||(y={}),y[A]=D)}),y&&(y=dd(y));var b;if(s&&(b={x:c,y:i,value:s},g["bpmndi:BPMNLabel"]&&g["bpmndi:BPMNLabel"]["dc:Bounds"])){var S=g["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(S["-x"])+Number(S["-width"])/2,b.y=Number(S["-y"])+Number(S["-height"])/2}var E={id:g["-bpmnElement"],type:v,x:c,y:i,properties:y};return b&&(E.text=b),E}function FR(g,v){var u=[];if(Array.isArray(g))g.forEach(function(i){var s;Array.isArray(v)?s=v.find(function(f){return f["-bpmnElement"]===i["-id"]}):s=v,u.push(Lm(s,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===g["-id"]}):c=v,u.push(Lm(c,g))}return u}function Lm(g,v){var u,c=v["-name"];if(c){var i=g["bpmndi:BPMNLabel"]["dc:Bounds"],s=0;c.split(`
`).forEach(function(b){s<b.length&&(s=b.length)}),u={value:c,x:Number(i["-x"])+s*10/2,y:Number(i["-y"])+7}}var f;Object.entries(v).forEach(function(b){var S=el(b,2),E=S[0],P=S[1];lb.indexOf(E)===-1&&(f||(f={}),f[E]=P)}),f&&(f=dd(f));var y={id:v["-id"],type:un.FLOW,pointsList:g["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:f};return u&&(y.text=u),y}var fo={pluginName:"bpmn-adapter",install:function(g){g.adapterIn=this.adapterIn,g.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(g,v){this.shapeConfigMap.set(g,v)},adapterOut:function(g){var v={"-id":"Process_"+Bm(),"-isExecutable":"false"};BR(v,g);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};_R(u,g);var c={"bpmn:definitions":{"-id":"Definitions_"+Bm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(g){if(g)return LR(g)}};fo.shapeConfigMap.set(un.START,{width:Dm.width,height:Dm.height});fo.shapeConfigMap.set(un.END,{width:jm.width,height:jm.height});fo.shapeConfigMap.set(un.GATEWAY,{width:Cm.width,height:Cm.height});fo.shapeConfigMap.set(un.SYSTEM,{width:Rm.width,height:Rm.height});fo.shapeConfigMap.set(un.USER,{width:Im.width,height:Im.height});var zm=globalThis&&globalThis.__assign||function(){return zm=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},zm.apply(this,arguments)};globalThis&&globalThis.__read;var Fm;(function(g){g.HORIZONTAL="horizontal",g.VERTICAL="vertical"})(Fm||(Fm={}));var GR=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var HR=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var UR=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},kR=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat(UR(arguments[v]));return g},Mi="lf:defaultNodeMenu",wi="lf:defaultEdgeMenu",Ni="lf:defaultGraphMenu",Gm="lf:defaultSelectionMenu",XR=function(){function g(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return g.prototype.init=function(){var v=this,u=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteNode(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}},{text:"\u590D\u5236",callback:function(s){v.lf.cloneNode(s.id)}}];this.menuTypeMap.set(Mi,u);var c=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteEdge(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}}];this.menuTypeMap.set(wi,c),this.menuTypeMap.set(Ni,[]);var i=[{text:"\u5220\u9664",callback:function(s){v.lf.clearSelectElements(),s.edges.forEach(function(f){return v.lf.deleteEdge(f.id)}),s.nodes.forEach(function(f){return v.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(Gm,i)},g.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var s=i.target;Array.from(s.classList).indexOf("lf-menu-item")===-1&&Array.from(s.classList).indexOf("lf-menu")===-1;)s=s.parentElement;Array.from(s.classList).indexOf("lf-menu-item")>-1?(s.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var s=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,S=y.y,E=s.id,P=c.lf.graphModel.getNodeModelById(E),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(Mi),c.__currentData=s,c.showMenu(b,S,M)}),this.lf.on("edge:contextmenu",function(i){var s=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,S=y.y,E=s.id,P=c.lf.graphModel.getEdgeModelById(E),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(wi),c.__currentData=s,c.showMenu(b,S,M)}),this.lf.on("blank:contextmenu",function(i){var s=i.position,f=c.menuTypeMap.get(Ni),y=s.domOverlayPosition,b=y.x,S=y.y;c.showMenu(b,S,f)}),this.lf.on("selection:contextmenu",function(i){var s=i.data,f=i.position,y=c.menuTypeMap.get(Gm),b=f.domOverlayPosition,S=b.x,E=b.y;c.__currentData=s,c.showMenu(S,E,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},g.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},g.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,kR(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},g.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},g.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var s=document.createElement("span");s.className="lf-menu-item-icon",i.appendChild(s)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),i.appendChild(f),i.onclickCallback=c.callback,u.push(i)}),u},g.prototype.setMenuConfig=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(Mi,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(wi,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Ni,v.graphMenu?v.graphMenu:[]))},g.prototype.addMenuConfig=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(Mi);this.menuTypeMap.set(Mi,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,u.concat(v.graphMenu))}}},g.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},g.pluginName="menu",g}();globalThis&&globalThis.__read;var $R=function(){function g(v){var u=this,c=v.lf;this.lf=c,this.lf.setPatternItems=function(i){u.setPatternItems(i)}}return g.prototype.render=function(v,u){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){c.panelEl.appendChild(c.createDndItem(i))}),u.appendChild(this.panelEl),this.domContainer=u},g.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},g.prototype.setPatternItems=function(v){this.shapeList=v,this.domContainer&&this.render(this.lf,this.domContainer)},g.prototype.createDndItem=function(v){var u=this,c=document.createElement("div");c.className=v.className?"lf-dnd-item "+v.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",v.icon&&(i.style.backgroundImage="url("+v.icon+")"),c.appendChild(i),v.label){var s=document.createElement("div");s.innerText=v.label,s.className="lf-dnd-text",c.appendChild(s)}return c.onmousedown=function(){v.type&&u.lf.dnd.startDrag({type:v.type,properties:v.properties,text:v.text}),v.callback&&v.callback(u.lf,u.domContainer)},c},g.pluginName="dndPanel",g}(),YR=function(){function g(v){var u=this,c=v.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(s){var f=u.lf.getPointByClient(s.clientX,s.clientY).domOverlayPosition,y=f.x,b=f.y;u.endPoint={x:y,y:b};var S=u.startPoint,E=S.x,P=S.y,M=u.wrapper.style,A=E,D=P,C=y-E,B=b-P;y<E&&(A=y,C=E-y),b<P&&(D=b,B=P-b),M.left=A+"px",M.top=D+"px",M.width=C+"px",M.height=B+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var s=u.startPoint,f=s.x,y=s.y,b=u.endPoint,S=b.x,E=b.y;if(!(Math.abs(S-f)<10&&Math.abs(E-y)<10)){var P=[Math.min(f,S),Math.min(y,E)],M=[Math.max(f,S),Math.max(y,E)],A=u.lf.graphModel.getAreaElement(P,M,u.isWholeEdge,u.isWholeNode,!0),D=u.lf.graphModel.group;A.forEach(function(C){(!D||!D.getNodeGroup(C.id))&&u.lf.selectElementById(C.id,!0)}),u.lf.emit("selection:selected",A)}},this.lf=c;var i=c.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=i,c.openSelectionSelect=function(){u.openSelectionSelect()},c.closeSelectionSelect=function(){u.closeSelectionSelect()}}return g.prototype.render=function(v,u){var c=this;this.__domContainer=u,v.on("blank:mousedown",function(i){var s=i.e,f=v.getEditConfig();if(!(!f.stopMoveGraph||c.__disabled)){var y=v.getPointByClient(s.clientX,s.clientY).domOverlayPosition,b=y.x,S=y.y;c.startPoint={x:b,y:S},c.endPoint={x:b,y:S};var E=document.createElement("div");E.className="lf-selection-select",E.oncontextmenu=function(M){M.preventDefault()},E.style.top=c.startPoint.y+"px",E.style.left=c.startPoint.x+"px",u.appendChild(E),c.wrapper=E,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}})},g.prototype.setSelectionSense=function(v,u){v===void 0&&(v=!0),u===void 0&&(u=!0),this.isWholeEdge=v,this.isWholeNode=u},g.prototype.openSelectionSelect=function(){var v=this.lf.getEditConfig().stopMoveGraph;v||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},g.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},g.prototype.open=function(){this.__disabled=!1},g.prototype.close=function(){this.__disabled=!0},g.pluginName="selectionSelect",g}();globalThis&&globalThis.__values;var fb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ko=globalThis&&globalThis.__assign||function(){return Ko=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Ko.apply(this,arguments)},Gn=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};(function(g){fb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var s=Gn(c[i-1],2),f=s[0],y=s[1],b=Gn(c[i],2),S=b[0],E=b[1],P=Gn(c[i+1],2),M=P[0],A=P[1];f===S&&S===M||y===E&&E===A?c.splice(i,1):i++}return c},v.prototype.getEdge=function(){for(var u=this.props.model,c=u.points,i=u.isAnimation,s=u.arrowConfig,f=u.radius,y=f===void 0?5:f,b=u.getEdgeStyle(),S=u.getEdgeAnimationStyle(),E=this.pointFilter(c.split(" ").map(function(Q){return Q.split(",").map(function(ce){return Number(ce)})})),P=Gn(E[0],2),M=P[0],A=P[1],D="M"+M+" "+A,C=1;C<E.length-1;C++){var B=Gn(E[C-1],2),z=B[0],X=B[1],$=Gn(E[C],2),ie=$[0],oe=$[1],ee=Gn(E[C+1],2),J=ee[0],ue=ee[1];if(ie===z&&oe!==X){var L=oe>X?oe-y:oe+y;D=D+" L "+ie+" "+L}if(oe===X&&ie!==z){var U=ie>z?ie-y:ie+y;D=D+" L "+U+" "+oe}if(D=D+" Q "+ie+" "+oe,ie===J&&oe!==ue){var L=oe>ue?oe-y:oe+y;D=D+" "+ie+" "+L}if(oe===ue&&ie!==J){var U=ie>J?ie-y:ie+y;D=D+" "+U+" "+oe}}var I=Gn(E[E.length-1],2),w=I[0],R=I[1];D=D+" L "+w+" "+R;var W=Ko(Ko(Ko({d:D,style:i?S:{}},b),s),{fill:"none"});return We.exports.h("path",Ko({d:D},W))},v})(We.exports.PolylineEdge);(function(g){fb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v})(We.exports.PolylineEdgeModel);var pd,Ft,cb,Ci,Hm,db={},pb=[],WR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Un(g,v){for(var u in v)g[u]=v[u];return g}function hb(g){var v=g.parentNode;v&&v.removeChild(g)}function Ri(g,v,u){var c,i,s,f={};for(s in v)s=="key"?c=v[s]:s=="ref"?i=v[s]:f[s]=v[s];if(arguments.length>2&&(f.children=arguments.length>3?pd.call(arguments,2):u),typeof g=="function"&&g.defaultProps!=null)for(s in g.defaultProps)f[s]===void 0&&(f[s]=g.defaultProps[s]);return $s(g,f,c,i,null)}function $s(g,v,u,c,i){var s={type:g,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++cb:i};return i==null&&Ft.vnode!=null&&Ft.vnode(s),s}function hd(g){return g.children}function Zo(g,v){this.props=g,this.context=v}function _i(g,v){if(v==null)return g.__?_i(g.__,g.__.__k.indexOf(g)+1):null;for(var u;v<g.__k.length;v++)if((u=g.__k[v])!=null&&u.__e!=null)return u.__e;return typeof g.type=="function"?_i(g):null}function vb(g){var v,u;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,v=0;v<g.__k.length;v++)if((u=g.__k[v])!=null&&u.__e!=null){g.__e=g.__c.base=u.__e;break}return vb(g)}}function Um(g){(!g.__d&&(g.__d=!0)&&Ci.push(g)&&!Zs.__r++||Hm!==Ft.debounceRendering)&&((Hm=Ft.debounceRendering)||setTimeout)(Zs)}function Zs(){for(var g;Zs.__r=Ci.length;)g=Ci.sort(function(v,u){return v.__v.__b-u.__v.__b}),Ci=[],g.some(function(v){var u,c,i,s,f,y;v.__d&&(f=(s=(u=v).__v).__e,(y=u.__P)&&(c=[],(i=Un({},s)).__v=s.__v+1,bb(y,s,i,u.__n,y.ownerSVGElement!==void 0,s.__h!=null?[f]:null,c,f==null?_i(s):f,s.__h),VR(c,s),s.__e!=f&&vb(s)))})}function yb(g,v,u,c,i,s,f,y,b,S){var E,P,M,A,D,C,B,z=c&&c.__k||pb,X=z.length;for(u.__k=[],E=0;E<v.length;E++)if((A=u.__k[E]=(A=v[E])==null||typeof A=="boolean"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?$s(null,A,null,null,A):Array.isArray(A)?$s(hd,{children:A},null,null,null):A.__b>0?$s(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)!=null){if(A.__=u,A.__b=u.__b+1,(M=z[E])===null||M&&A.key==M.key&&A.type===M.type)z[E]=void 0;else for(P=0;P<X;P++){if((M=z[P])&&A.key==M.key&&A.type===M.type){z[P]=void 0;break}M=null}bb(g,A,M=M||db,i,s,f,y,b,S),D=A.__e,(P=A.ref)&&M.ref!=P&&(B||(B=[]),M.ref&&B.push(M.ref,null,A),B.push(P,A.__c||D,A)),D!=null?(C==null&&(C=D),typeof A.type=="function"&&A.__k===M.__k?A.__d=b=gb(A,b,g):b=mb(g,A,M,z,D,b),typeof u.type=="function"&&(u.__d=b)):b&&M.__e==b&&b.parentNode!=g&&(b=_i(M))}for(u.__e=C,E=X;E--;)z[E]!=null&&Eb(z[E],z[E]);if(B)for(E=0;E<B.length;E++)Ob(B[E],B[++E],B[++E])}function gb(g,v,u){for(var c,i=g.__k,s=0;i&&s<i.length;s++)(c=i[s])&&(c.__=g,v=typeof c.type=="function"?gb(c,v,u):mb(u,c,c,i,c.__e,v));return v}function mb(g,v,u,c,i,s){var f,y,b;if(v.__d!==void 0)f=v.__d,v.__d=void 0;else if(u==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==g)g.appendChild(i),f=null;else{for(y=s,b=0;(y=y.nextSibling)&&b<c.length;b+=1)if(y==i)break e;g.insertBefore(i,s),f=s}return f!==void 0?f:i.nextSibling}function KR(g,v,u,c,i){var s;for(s in u)s==="children"||s==="key"||s in v||Js(g,s,null,u[s],c);for(s in v)i&&typeof v[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||u[s]===v[s]||Js(g,s,v[s],u[s],c)}function km(g,v,u){v[0]==="-"?g.setProperty(v,u):g[v]=u==null?"":typeof u!="number"||WR.test(v)?u:u+"px"}function Js(g,v,u,c,i){var s;e:if(v==="style")if(typeof u=="string")g.style.cssText=u;else{if(typeof c=="string"&&(g.style.cssText=c=""),c)for(v in c)u&&v in u||km(g.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||km(g.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")s=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in g?v.toLowerCase().slice(2):v.slice(2),g.l||(g.l={}),g.l[v+s]=u,u?c||g.addEventListener(v,s?$m:Xm,s):g.removeEventListener(v,s?$m:Xm,s);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in g)try{g[v]=u==null?"":u;break e}catch(f){}typeof u=="function"||(u==null||u===!1&&v.indexOf("-")==-1?g.removeAttribute(v):g.setAttribute(v,u))}}function Xm(g){this.l[g.type+!1](Ft.event?Ft.event(g):g)}function $m(g){this.l[g.type+!0](Ft.event?Ft.event(g):g)}function bb(g,v,u,c,i,s,f,y,b){var S,E,P,M,A,D,C,B,z,X,$,ie,oe,ee,J,ue=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,y=v.__e=u.__e,v.__h=null,s=[y]),(S=Ft.__b)&&S(v);try{e:if(typeof ue=="function"){if(B=v.props,z=(S=ue.contextType)&&c[S.__c],X=S?z?z.props.value:S.__:c,u.__c?C=(E=v.__c=u.__c).__=E.__E:("prototype"in ue&&ue.prototype.render?v.__c=E=new ue(B,X):(v.__c=E=new Zo(B,X),E.constructor=ue,E.render=JR),z&&z.sub(E),E.props=B,E.state||(E.state={}),E.context=X,E.__n=c,P=E.__d=!0,E.__h=[],E._sb=[]),E.__s==null&&(E.__s=E.state),ue.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=Un({},E.__s)),Un(E.__s,ue.getDerivedStateFromProps(B,E.__s))),M=E.props,A=E.state,P)ue.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(ue.getDerivedStateFromProps==null&&B!==M&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(B,X),!E.__e&&E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(B,E.__s,X)===!1||v.__v===u.__v){for(E.props=B,E.state=E.__s,v.__v!==u.__v&&(E.__d=!1),E.__v=v,v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(L){L&&(L.__=v)}),$=0;$<E._sb.length;$++)E.__h.push(E._sb[$]);E._sb=[],E.__h.length&&f.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(B,E.__s,X),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(M,A,D)})}if(E.context=X,E.props=B,E.__v=v,E.__P=g,ie=Ft.__r,oe=0,"prototype"in ue&&ue.prototype.render){for(E.state=E.__s,E.__d=!1,ie&&ie(v),S=E.render(E.props,E.state,E.context),ee=0;ee<E._sb.length;ee++)E.__h.push(E._sb[ee]);E._sb=[]}else do E.__d=!1,ie&&ie(v),S=E.render(E.props,E.state,E.context),E.state=E.__s;while(E.__d&&++oe<25);E.state=E.__s,E.getChildContext!=null&&(c=Un(Un({},c),E.getChildContext())),P||E.getSnapshotBeforeUpdate==null||(D=E.getSnapshotBeforeUpdate(M,A)),J=S!=null&&S.type===hd&&S.key==null?S.props.children:S,yb(g,Array.isArray(J)?J:[J],v,u,c,i,s,f,y,b),E.base=v.__e,v.__h=null,E.__h.length&&f.push(E),C&&(E.__E=E.__=null),E.__e=!1}else s==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=ZR(u.__e,v,u,c,i,s,f,b);(S=Ft.diffed)&&S(v)}catch(L){v.__v=null,(b||s!=null)&&(v.__e=y,v.__h=!!b,s[s.indexOf(y)]=null),Ft.__e(L,v,u)}}function VR(g,v){Ft.__c&&Ft.__c(v,g),g.some(function(u){try{g=u.__h,u.__h=[],g.some(function(c){c.call(u)})}catch(c){Ft.__e(c,u.__v)}})}function ZR(g,v,u,c,i,s,f,y){var b,S,E,P=u.props,M=v.props,A=v.type,D=0;if(A==="svg"&&(i=!0),s!=null){for(;D<s.length;D++)if((b=s[D])&&"setAttribute"in b==!!A&&(A?b.localName===A:b.nodeType===3)){g=b,s[D]=null;break}}if(g==null){if(A===null)return document.createTextNode(M);g=i?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,M.is&&M),s=null,y=!1}if(A===null)P===M||y&&g.data===M||(g.data=M);else{if(s=s&&pd.call(g.childNodes),S=(P=u.props||db).dangerouslySetInnerHTML,E=M.dangerouslySetInnerHTML,!y){if(s!=null)for(P={},D=0;D<g.attributes.length;D++)P[g.attributes[D].name]=g.attributes[D].value;(E||S)&&(E&&(S&&E.__html==S.__html||E.__html===g.innerHTML)||(g.innerHTML=E&&E.__html||""))}if(KR(g,M,P,i,y),E)v.__k=[];else if(D=v.props.children,yb(g,Array.isArray(D)?D:[D],v,u,c,i&&A!=="foreignObject",s,f,s?s[0]:u.__k&&_i(u,0),y),s!=null)for(D=s.length;D--;)s[D]!=null&&hb(s[D]);y||("value"in M&&(D=M.value)!==void 0&&(D!==g.value||A==="progress"&&!D||A==="option"&&D!==P.value)&&Js(g,"value",D,P.value,!1),"checked"in M&&(D=M.checked)!==void 0&&D!==g.checked&&Js(g,"checked",D,P.checked,!1))}return g}function Ob(g,v,u){try{typeof g=="function"?g(v):g.current=v}catch(c){Ft.__e(c,u)}}function Eb(g,v,u){var c,i;if(Ft.unmount&&Ft.unmount(g),(c=g.ref)&&(c.current&&c.current!==g.__e||Ob(c,null,v)),(c=g.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(s){Ft.__e(s,v)}c.base=c.__P=null,g.__c=void 0}if(c=g.__k)for(i=0;i<c.length;i++)c[i]&&Eb(c[i],v,u||typeof g.type!="function");u||g.__e==null||hb(g.__e),g.__=g.__e=g.__d=void 0}function JR(g,v,u){return this.constructor(g,u)}pd=pb.slice,Ft={__e:function(g,v,u,c){for(var i,s,f;v=v.__;)if((i=v.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(g)),f=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(g,c||{}),f=i.__d),f)return i.__E=i}catch(y){g=y}throw g}},cb=0,Zo.prototype.setState=function(g,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Un({},this.state),typeof g=="function"&&(g=g(Un({},u),this.props)),g&&Un(u,g),g!=null&&this.__v&&(v&&this._sb.push(v),Um(this))},Zo.prototype.forceUpdate=function(g){this.__v&&(this.__e=!0,g&&this.__h.push(g),Um(this))},Zo.prototype.render=hd,Ci=[],Zs.__r=0;var Ii=globalThis&&globalThis.__assign||function(){return Ii=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Ii.apply(this,arguments)};function vd(g){var v=g.x,u=g.y,c=g.width,i=g.height,s=g.radius,f=g.className,y=v-c/2,b=u-i/2,S=Ii(Ii({width:10,height:10,cx:0,cy:0,rx:s||0,ry:s||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},g),{x:y,y:b});return We.exports.h("rect",Ii({},S))}vd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Vo;(function(g){g.NODE="node",g.CIRCLE_NODE="circle-node",g.POLYGON_NODE="polygon-node",g.RECT_NODE="rect-node",g.HTML_NODE="html-node",g.TEXT_NODE="text-node",g.ELLIPSE_NODE="ellipse-node",g.DIAMOND_NODE="diamond-node",g.EDGE="edge",g.LINE_EDGE="line-edge",g.POLYLINE_EDGE="polyline-edge",g.BEZIER_EDGE="bezier-edge",g.GRAPH="graph"})(Vo||(Vo={}));function Ys(g){var v=g.x,u=g.y,c=g.width,i=g.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function Ym(g){var v=Ys(g),u=g.radius,c=v.minX,i=v.minY,s=v.maxX,f=v.maxY;return[{x:c+u,y:i+u},{x:s-u,y:i+u},{x:s-u,y:f-u},{x:c+u,y:f-u}]}function Wm(g){var v=g.point,u=g.beforeNode,c=g.afterNode,i=v.x,s=v.y,f={x:i,y:s},y=u.radius,b=Ys(u),S=Ys(c);if(i===b.minX){f.x=S.minX;var E=(s-u.y)/(u.height/2-y);E?f.y=c.y+(c.height/2-y)*E:f.y=c.y}else if(i===b.maxX){f.x=S.maxX;var E=(s-u.y)/(u.height/2-y);E?f.y=c.y+(c.height/2-y)*E:f.y=c.y}else if(s===b.minY){f.y=S.minY;var E=(i-u.x)/(u.width/2-y);E?f.x=c.x+(c.width/2-y)*E:f.x=c.x}else if(s===b.maxY){f.y=S.maxY;var E=(i-u.x)/(u.width/2-y);E?f.x=c.x+(c.width/2-y)*E:f.x=c.x}else{var P=Ym(u),M=Ym(c),A=Ys(u),D=A.minX,C=A.minY,B=A.maxX,z=A.maxY,X=-1;if(i-D<y&&s-C<y?X=0:B-i<y&&s-C<y?X=1:B-i<y&&z-s<y?X=2:i-D<y&&C-s<y&&(X=3),X>-1){var $=Math.atan2(s-P[X].y,i-P[X].x);f.x=M[X].x+y*Math.cos($),f.y=M[X].y+y*Math.sin($)}}return f}function Km(g){var v=g.point,u=g.beforeNode,c=g.afterNode,i=c.rx,s=c.ry,f=v,y=(v.y-u.y)/(v.x-u.x),b=i,S=s,E,P;return y>=1/0?(E=0,P=S):y<=-1/0?(E=0,P=-S):v.x-u.x>0?(E=b*S/Math.sqrt(S*S+b*b*y*y),P=b*S*y/Math.sqrt(S*S+b*b*y*y)):(E=-(b*S)/Math.sqrt(S*S+b*b*y*y),P=-(b*S*y)/Math.sqrt(S*S+b*b*y*y)),f={x:E+c.x,y:P+c.y},f}function Vm(g){var v=g.point,u=g.beforeNode,c=g.afterNode,i=v,s,f,y=v.x-u.x,b=v.y-u.y,S=u.rx,E=u.ry,P=Math.sqrt((S-Math.abs(y))*(S-Math.abs(y))+b*b)/Math.sqrt(S*S+E*E),M=c.rx,A=c.ry,D=Math.sqrt((M*M+A*A)*P*P*(M*M/(M*M+A*A))),C=D*(A/M);return y>=0?s=M-D:s=D-M,b>0?f=C:f=-C,i={x:s+c.x,y:f+c.y},i}var QR=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),lo=globalThis&&globalThis.__assign||function(){return lo=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},lo.apply(this,arguments)},qR=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},e2=We.exports.LogicFlowUtil.StepDrag,t2=function(g){QR(v,g);function v(u){var c=g.call(this)||this;return c.updatePosition=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.x,S=y.y;c.nodeModel.x=b+s/2,c.nodeModel.y=S+f/2,c.nodeModel.moveText(s/2,f/2)},c.getResize=function(i){var s=i.index,f=i.deltaX,y=i.deltaY,b=i.width,S=i.height,E=i.PCTResizeInfo,P=i.pct,M=P===void 0?1:P,A={width:b,height:S,deltaX:f,deltaY:y};if(E){var D=4,C=0,B=0;switch(s){case 0:B=(f*-1-y)/D;break;case 1:B=(f-y)/D;break;case 2:B=(f+y)/D;break;case 3:B=(f*-1+y)/D;break}B!==0&&(C=Math.round(B/E.ResizeBasis.basisHeight*1e5)/1e3),E.ResizePCT.widthPCT=Math.max(Math.min(E.ResizePCT.widthPCT+C,E.ScaleLimit.maxScaleLimit),E.ScaleLimit.minScaleLimit),E.ResizePCT.hightPCT=Math.max(Math.min(E.ResizePCT.hightPCT+C,E.ScaleLimit.maxScaleLimit),E.ScaleLimit.minScaleLimit);var z=Math.round(E.ResizePCT.widthPCT*E.ResizeBasis.basisWidth/100),X=Math.round(E.ResizePCT.hightPCT*E.ResizeBasis.basisHeight/100);switch(s){case 0:f=b-z,y=S-X;break;case 1:f=z-b,y=S-X;break;case 2:f=z-b,y=X-S;break;case 3:f=b-z,y=X-S;break}return A.width=z,A.height=X,A.deltaX=f/M,A.deltaY=y/M,A}switch(s){case 0:A.width=b-f*M,A.height=S-y*M;break;case 1:A.width=b+f*M,A.height=S-y*M;break;case 2:A.width=b+f*M,A.height=S+y*M;break;case 3:A.width=b-f*M,A.height=S+y*M;break}return A},c.updateRect=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,S=y.x,E=y.y,P=y.width,M=y.height,A=y.radius,D=y.PCTResizeInfo,C=c.index,B=c.getResize({index:C,deltaX:s,deltaY:f,width:P,height:M,PCTResizeInfo:D,pct:1}),z=c.nodeModel,X=z.minWidth,$=z.minHeight,ie=z.maxWidth,oe=z.maxHeight;if(B.width<X||B.width>ie||B.height<$||B.height>oe){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:B.deltaX,deltaY:B.deltaY}),c.nodeModel.width=B.width,c.nodeModel.height=B.height,c.nodeModel.setProperties({nodeSize:{width:B.width,height:B.height}});var ee=c.getNodeEdges(b),J={x:S,y:E,width:P,height:M,radius:A},ue={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:A},L={point:"",beforeNode:J,afterNode:ue},U;ee.sourceEdges.forEach(function(I){L.point=I.startPoint,U=Wm(L),I.updateStartPoint(U)}),ee.targetEdges.forEach(function(I){L.point=I.endPoint,U=Wm(L),I.updateEndPoint(U)}),c.eventEmit({beforeNode:J,afterNode:ue})},c.updateEllipse=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,S=y.rx,E=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,D=c.index,C=S,B=E,z=c.getResize({index:D,deltaX:s,deltaY:f,width:C,height:B,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,$=X.minWidth,ie=X.minHeight,oe=X.maxWidth,ee=X.maxHeight;if(z.width<$/2||z.width>oe/2||z.height<ie/2||z.height>ee/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var J=c.getNodeEdges(b),ue={x:P,y:M},L={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},U={point:{},beforeNode:ue,afterNode:L},I;J.sourceEdges.forEach(function(w){U.point=w.startPoint,I=Km(U),w.updateStartPoint(I)}),J.targetEdges.forEach(function(w){U.point=w.endPoint,I=Km(U),w.updateEndPoint(I)}),c.eventEmit({beforeNode:lo(lo({},ue),{rx:S,ry:E}),afterNode:L})},c.updateDiamond=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,S=y.rx,E=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,D=c.index,C=S,B=E,z=c.getResize({index:D,deltaX:s,deltaY:f,width:C,height:B,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,$=X.minWidth,ie=X.minHeight,oe=X.maxWidth,ee=X.maxHeight;if(z.width<$/2||z.width>oe/2||z.height<ie/2||z.height>ee/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var J={x:P,y:M,rx:S,ry:E},ue={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},L={point:{},beforeNode:J,afterNode:ue},U,I=c.getNodeEdges(b);I.sourceEdges.forEach(function(w){L.point=w.startPoint,U=Vm(L),w.updateStartPoint(U)}),I.targetEdges.forEach(function(w){L.point=w.endPoint,U=Vm(L),w.updateEndPoint(U)}),c.eventEmit({beforeNode:J,afterNode:ue})},c.eventEmit=function(i){var s=i.beforeNode,f=i.afterNode,y=c.nodeModel,b=y.id,S=y.modelType,E=y.type,P=lo({id:b,modelType:S,type:E},s),M=lo({id:b,modelType:S,type:E},f);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:M})},c.onDraging=function(i){var s,f=i.deltaX,y=i.deltaY,b=c.graphModel.transformModel,S=c.nodeModel.modelType;s=qR(b.fixDeltaXY(f,y),2),f=s[0],y=s[1],S===Vo.RECT_NODE||S===Vo.HTML_NODE?c.updateRect({deltaX:f,deltaY:y}):S===Vo.ELLIPSE_NODE?c.updateEllipse({deltaX:f,deltaY:y}):S===Vo.DIAMOND_NODE&&c.updateDiamond({deltaX:f,deltaY:y})},c.onDragEnd=function(){var i=c.graphModel.gridSize,s=i===void 0?1:i,f=s*Math.round(c.nodeModel.x/s),y=s*Math.round(c.nodeModel.y/s);c.nodeModel.moveTo(f,y)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new e2({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:1}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,s=[],f=[],y=0;y<i.length;y++){var b=i[y];b.sourceNodeId===u?s.push(b):i[y].targetNodeId===u&&f.push(b)}return{sourceEdges:s,targetEdges:f}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,s=u.index,f=u.model,y=f.getControlPointStyle();return Ri("g",{className:"lf-resize-control-"+s},Ri(vd,lo({className:"lf-node-control"},{x:c,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Zo),r2=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Qs=globalThis&&globalThis.__assign||function(){return Qs=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Qs.apply(this,arguments)},tl=function(g){r2(v,g);function v(){var u=g.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,s=c.x,f=c.y,y=c.width,b=c.height,S={minX:s-y/2,minY:f-b/2,maxX:s+y/2,maxY:f+b/2},E=S.minX,P=S.minY,M=S.maxX,A=S.maxY,D=[{x:E,y:P},{x:M,y:P},{x:M,y:A},{x:E,y:A}];return D.map(function(C,B){return Ri(t2,Qs({index:B},C,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.getResizeOutlineStyle();return Ri(vd,Qs({fill:"none"},y,{x:c,y:i,width:s,height:f}))},v.prototype.render=function(){return Ri("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Zo),xb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),n2=function(g){xb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v}(We.exports.RectNodeModel),o2=function(g){xb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(tl,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v}(We.exports.RectNode),Sb={type:"rect",view:o2,model:n2},Pb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){Pb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(We.exports.EllipseNodeModel);(function(g){Pb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(tl,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},v})(We.exports.EllipseNode);var sd=globalThis&&globalThis.__assign||function(){return sd=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},sd.apply(this,arguments)};function i2(g){var v=g.fillOpacity,u=v===void 0?1:v,c=g.strokeWidth,i=c===void 0?1:c,s=g.strokeOpacity,f=s===void 0?1:s,y=g.fill,b=y===void 0?"transparent":y,S=g.stroke,E=S===void 0?"#000":S,P=g.points,M=g.className,A=M===void 0?"lf-basic-shape":M,D={fill:b,fillOpacity:u,strokeWidth:i,stroke:E,strokeOpacity:f,points:"",className:A};return D.points=P.map(function(C){return C.join(",")}).join(" "),We.exports.h("polygon",sd({},D))}var Ab=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ld=globalThis&&globalThis.__assign||function(){return ld=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},ld.apply(this,arguments)};(function(g){Ab(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(We.exports.DiamondNodeModel);(function(g){Ab(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(tl,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return We.exports.h("g",null,We.exports.h(i2,ld({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.exports.DiamondNode);var Tb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){Tb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(We.exports.HtmlNodeModel);(function(g){Tb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(tl,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.exports.HtmlNode);var Mb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),qs=globalThis&&globalThis.__assign||function(){return qs=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},qs.apply(this,arguments)},a2=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},Zm=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat(a2(arguments[v]));return g},Jm=500,Qm=300,u2=-1e4;(function(g){Mb(v,g);function v(){var u=g!==null&&g.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Jm,u.unfoldedHight=Qm,u}return v.prototype.initNodeData=function(u){var c=this;g.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Jm,this.height=Qm,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=u2,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=g.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(s){var f=c.graphModel.getElement(s);f.visible=!u,i=i.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=g.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(s,f){var y=s.id,b=s.sourceNodeId,S=s.targetNodeId,E=s.startPoint,P=s.endPoint,M=s.type,A=s.properties,D=s.text,C={id:y+"__"+f,sourceNodeId:b,targetNodeId:S,startPoint:E,endPoint:P,type:M,properties:A,text:D==null?void 0:D.value};s.virtual&&i.graphModel.deleteEdgeById(s.id);var B=i.graphModel.group.getNodeGroup(S);B||(B=i.graphModel.getNodeModelById(S));var z=i.graphModel.group.getNodeGroup(b);z||(z=i.graphModel.getNodeModelById(b)),u&&s.visible!==!1&&(i.children.has(b)||i.id===b?(C.startPoint=void 0,C.sourceNodeId=i.id):(C.endPoint=void 0,C.targetNodeId=i.id),(B.id!==i.id||z.id!==i.id)&&i.createVirtualEdge(C),s.visible=!1),!u&&s.visible===!1&&(B&&B.isGroup&&B.isFolded?(C.targetNodeId=B.id,C.endPoint=void 0,i.createVirtualEdge(C)):z&&z.isGroup&&z.isFolded?(C.sourceNodeId=z.id,C.startPoint=void 0,i.createVirtualEdge(C)):s.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,s=u.x2,f=u.y2;return c>=this.x-this.width/2&&s<=this.x+this.width/2&&i>=this.y-this.height/2&&f<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,s=u.x2,f=u.y2;return{x:c>=this.x-this.width/2&&s<=this.x+this.width/2,y:i>=this.y-this.height/2&&f<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=g.prototype.getData.call(this);u.children=Zm(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},v.prototype.getHistoryData=function(){var u=g.prototype.getData.call(this);u.children=Zm(this.children),u.isGroup=!0;var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v.prototype.toBack=function(){this.zIndex--},v})(Sb.model);(function(g){Mb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?g.prototype.getControlGroup.call(this):null},v.prototype.getAddableShape=function(){var u=this.props.model,c=u.width,i=u.height,s=u.x,f=u.y,y=u.radius,b=u.properties;if(!b.groupAddable)return null;var S=this.props.model.getNodeStyle().strokeWidth,E=this.props.model.getAddableOutlineStyle(),P=c+S+8,M=i+S+8;return We.exports.h("rect",qs(qs({},E),{width:P,height:M,x:s-P/2,y:f-M/2,rx:y,ry:y}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var s=We.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return We.exports.h("g",{},[We.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),s])},v.prototype.getResizeShape=function(){return We.exports.h("g",{},[this.getAddableShape(),g.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(Sb.view);var s2=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var qm=globalThis&&globalThis.__assign||function(){return qm=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},qm.apply(this,arguments)},eb=globalThis&&globalThis.__assign||function(){return eb=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},eb.apply(this,arguments)},l2=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;const f2={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function c2(g){const{incoming:v,outgoing:u,properties:c,key:i}=g,{text:s,startPoint:f,endPoint:y,pointsList:b,logicFlowType:S}=c,E={id:i,type:S,sourceNodeId:v[0],targetNodeId:u[0],text:s,startPoint:f,endPoint:y,pointsList:b,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(g.properties).forEach(M=>{P.indexOf(M)===-1&&(E.properties[M]=g.properties[M])}),E}function d2(g){const{properties:v,key:u}=g,{x:c,y:i,text:s,logicFlowType:f}=v,y={id:u,type:f,x:c,y:i,text:s,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(g.properties).forEach(S=>{b.indexOf(S)===-1&&(y.properties[S]=g.properties[S])}),y}function p2(g){const v={nodes:[],edges:[]},u=g.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===f2.SEQUENCE_FLOW){const i=c2(c);v.edges.push(i)}else{const i=d2(c);v.nodes.push(i)}}),v}function h2(g){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{g.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const v2=tb({name:"FlowChart",components:{BasicModal:eR,FlowChartToolbar:lR,JsonPreview:rR},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(g){const v=ks(null),u=ks({}),c=ks(null),{prefixCls:i}=WC("flow-chart"),s=KC(),[f,{openModal:y}]=tR();oR({logicFlow:c});const b=VC(()=>{const{flowOptions:M}=g;return nd({grid:!0,background:{color:s.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},M)});Nm(()=>g.data,()=>{E()}),Nm(()=>lr(b),M=>{var A;(A=lr(c))==null||A.updateEditConfig(M)});function S(){return Us(this,null,function*(){yield od();const M=lr(v);if(!M)return;Wo.use($R),Wo.use(RR),Wo.use(CR),Wo.use(XR),Wo.use(YR),c.value=new Wo(Mm(nd({},lr(b)),{container:M}));const A=lr(c);A==null||A.setDefaultEdgeType("line"),E(),A==null||A.setPatternItems(g.patternItems||h2(A))})}function E(){return Us(this,null,function*(){yield od();const M=lr(c);if(!M)return;const A=p2(g.data);M.render(A)})}function P(){const M=lr(c);!M||(u.value=lr(M).getGraphData(),y())}return ZC(S),{register:f,prefixCls:i,lfElRef:v,handlePreview:P,graphData:u}}}),y2={ref:"lfElRef",class:"h-full"};function g2(g,v,u,c,i,s){const f=kn("FlowChartToolbar"),y=kn("JsonPreview"),b=kn("BasicModal");return Hn(),Di("div",{class:Xs(["h-full",g.prefixCls])},[g.toolbar?(Hn(),cd(f,{key:0,prefixCls:g.prefixCls,onViewData:g.handlePreview},null,8,["prefixCls","onViewData"])):id("",!0),JC("div",y2,null,512),Bi(b,{onRegister:g.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Ws(()=>[Bi(y,{data:g.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var m2=fd(v2,[["render",g2]]);const b2=QC(m2),O2=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var E2={flowElementList:O2};const x2={components:{FlowChart:b2,PageWrapper:nR},setup(){return{demoData:E2}}};function S2(g,v,u,c,i,s){const f=kn("FlowChart"),y=kn("PageWrapper");return Hn(),cd(y,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Ws(()=>[Bi(f,{data:c.demoData},null,8,["data"])]),_:1})}var H2=fd(x2,[["render",S2]]);export{H2 as default};
